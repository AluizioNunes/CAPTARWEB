const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Disparos-DOByWdSz.js","assets/react-vendor-31_VYUn4.js","assets/ui-vendor-CwlfwZAq.js","assets/utils-DLZ5AbYM.js","assets/charts-vendor-CRs37Wg2.js","assets/Campanha-DL7x0joH.js","assets/Relatorios-DQ5HRZNS.js","assets/Dashboard-BTq1bF1q.js","assets/Estatisticas-CCpX3-hX.js","assets/Tenants-wHnNfopt.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{e as a,f as s,g as i,r,R as o,u as n,h as l,a as c,B as m,i as u,j as d,N as p}from"./react-vendor-31_VYUn4.js";import{a as h,p as N,i as b,c as g,b as f,d as A,e as x,f as E,g as v,m as T,A as O}from"./utils-DLZ5AbYM.js";import{L as P,R as D,a as R,b as S,c as C,d as y,e as j,f as V,M as w,D as I,B as J,A as k,g as _,h as M,F as U,i as F,I as L,j as $,S as z,T as B,k as W,s as H,l as Y,m as q,C as K,n as G,o as X,p as Z,q as Q,r as ee,t as te,u as ae,v as se,w as ie,x as re,y as oe,z as ne,E as le,G as ce,H as me,J as ue,K as de,N as pe,O as he,P as Ne,Q as be,U as ge,V as fe,W as Ae,X as xe,Y as Ee,Z as ve}from"./ui-vendor-CwlfwZAq.js";import{i as Te,L as Oe,r as Pe}from"./charts-vendor-CRs37Wg2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var De,Re,Se={exports:{}},Ce={};function ye(){return De||(De=1,function(){var e=a(),t=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),N=Symbol.iterator;var b=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function g(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];!function(e,t,a){var s=b.ReactDebugCurrentFrame.getStackAddendum();""!==s&&(t+="%s",a=a.concat([s]));var i=a.map(function(e){return String(e)});i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}("error",e,a)}var f;function A(e){return e.displayName||"Context"}function x(e){if(null==e)return null;if("number"==typeof e.tag&&g("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i:return"Fragment";case s:return"Portal";case o:return"Profiler";case r:return"StrictMode";case m:return"Suspense";case u:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return A(e)+".Consumer";case n:return A(e._context)+".Provider";case c:return function(e,t,a){var s=e.displayName;if(s)return s;var i=t.displayName||t.name||"";return""!==i?a+"("+i+")":a}(e,e.render,"ForwardRef");case d:var t=e.displayName||null;return null!==t?t:x(e.type)||"Memo";case p:var a=e,h=a._payload,N=a._init;try{return x(N(h))}catch(b){return null}}return null}f=Symbol.for("react.module.reference");var E,v,T,O,P,D,R,S=Object.assign,C=0;function y(){}y.__reactDisabledLog=!0;var j,V=b.ReactCurrentDispatcher;function w(e,t,a){if(void 0===j)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return"\n"+j+e}var I,J=!1,k="function"==typeof WeakMap?WeakMap:Map;function _(e,t){if(!e||J)return"";var a,s=I.get(e);if(void 0!==s)return s;J=!0;var i,r=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=V.current,V.current=null,function(){if(0===C){E=console.log,v=console.info,T=console.warn,O=console.error,P=console.group,D=console.groupCollapsed,R=console.groupEnd;var e={configurable:!0,enumerable:!0,value:y,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}C++}();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(o,[])}catch(h){a=h}Reflect.construct(e,[],o)}else{try{o.call()}catch(h){a=h}e.call(o.prototype)}}else{try{throw Error()}catch(h){a=h}e()}}catch(N){if(N&&a&&"string"==typeof N.stack){for(var n=N.stack.split("\n"),l=a.stack.split("\n"),c=n.length-1,m=l.length-1;c>=1&&m>=0&&n[c]!==l[m];)m--;for(;c>=1&&m>=0;c--,m--)if(n[c]!==l[m]){if(1!==c||1!==m)do{if(c--,--m<0||n[c]!==l[m]){var u="\n"+n[c].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),"function"==typeof e&&I.set(e,u),u}}while(c>=1&&m>=0);break}}}finally{J=!1,V.current=i,function(){if(0===--C){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:S({},e,{value:E}),info:S({},e,{value:v}),warn:S({},e,{value:T}),error:S({},e,{value:O}),group:S({},e,{value:P}),groupCollapsed:S({},e,{value:D}),groupEnd:S({},e,{value:R})})}C<0&&g("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=r}var d=e?e.displayName||e.name:"",p=d?w(d):"";return"function"==typeof e&&I.set(e,p),p}function M(e,t,a){if(null==e)return"";if("function"==typeof e)return _(e,!(!(s=e.prototype)||!s.isReactComponent));var s;if("string"==typeof e)return w(e);switch(e){case m:return w("Suspense");case u:return w("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case c:return _(e.render,!1);case d:return M(e.type,t,a);case p:var i=e,r=i._payload,o=i._init;try{return M(o(r),t,a)}catch(n){}}return""}I=new k;var U=Object.prototype.hasOwnProperty,F={},L=b.ReactDebugCurrentFrame;function $(e){if(e){var t=e._owner,a=M(e.type,e._source,t?t.type:null);L.setExtraStackFrame(a)}else L.setExtraStackFrame(null)}var z=Array.isArray;function B(e){return z(e)}function W(e){return""+e}function H(e){if(function(e){try{return W(e),!1}catch(t){return!0}}(e))return g("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),W(e)}var Y,q,K,G=b.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};K={};function Z(e,a,s,i,r){var o,n={},l=null,c=null;for(o in void 0!==s&&(H(s),l=""+s),function(e){if(U.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(a)&&(H(a.key),l=""+a.key),function(e){if(U.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(a)&&(c=a.ref,function(e,t){if("string"==typeof e.ref&&G.current&&t&&G.current.stateNode!==t){var a=x(G.current.type);K[a]||(g('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',x(G.current.type),e.ref),K[a]=!0)}}(a,r)),a)U.call(a,o)&&!X.hasOwnProperty(o)&&(n[o]=a[o]);if(e&&e.defaultProps){var m=e.defaultProps;for(o in m)void 0===n[o]&&(n[o]=m[o])}if(l||c){var u="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var a=function(){Y||(Y=!0,g("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};a.isReactWarning=!0,Object.defineProperty(e,"key",{get:a,configurable:!0})}(n,u),c&&function(e,t){var a=function(){q||(q=!0,g("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};a.isReactWarning=!0,Object.defineProperty(e,"ref",{get:a,configurable:!0})}(n,u)}return function(e,a,s,i,r,o,n){var l={$$typeof:t,type:e,key:a,ref:s,props:n,_owner:o,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,r,i,G.current,n)}var Q,ee=b.ReactCurrentOwner,te=b.ReactDebugCurrentFrame;function ae(e){if(e){var t=e._owner,a=M(e.type,e._source,t?t.type:null);te.setExtraStackFrame(a)}else te.setExtraStackFrame(null)}function se(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function ie(){if(ee.current){var e=x(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Q=!1;var re={};function oe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var a=function(e){var t=ie();if(!t){var a="string"==typeof e?e:e.displayName||e.name;a&&(t="\n\nCheck the top-level render call using <"+a+">.")}return t}(t);if(!re[a]){re[a]=!0;var s="";e&&e._owner&&e._owner!==ee.current&&(s=" It was passed a child from "+x(e._owner.type)+"."),ae(e),g('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',a,s),ae(null)}}}function ne(e,t){if("object"==typeof e)if(B(e))for(var a=0;a<e.length;a++){var s=e[a];se(s)&&oe(s,t)}else if(se(e))e._store&&(e._store.validated=!0);else if(e){var i=function(e){if(null===e||"object"!=typeof e)return null;var t=N&&e[N]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof i&&i!==e.entries)for(var r,o=i.call(e);!(r=o.next()).done;)se(r.value)&&oe(r.value,t)}}function le(e){var t,a=e.type;if(null!=a&&"string"!=typeof a){if("function"==typeof a)t=a.propTypes;else{if("object"!=typeof a||a.$$typeof!==c&&a.$$typeof!==d)return;t=a.propTypes}if(t){var s=x(a);!function(e,t,a,s,i){var r=Function.call.bind(U);for(var o in e)if(r(e,o)){var n=void 0;try{if("function"!=typeof e[o]){var l=Error((s||"React class")+": "+a+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}n=e[o](t,o,s,a,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){n=c}!n||n instanceof Error||($(i),g("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",a,o,typeof n),$(null)),n instanceof Error&&!(n.message in F)&&(F[n.message]=!0,$(i),g("Failed %s type: %s",a,n.message),$(null))}}(t,e.props,"prop",s,e)}else if(void 0!==a.PropTypes&&!Q){Q=!0,g("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",x(a)||"Unknown")}"function"!=typeof a.getDefaultProps||a.getDefaultProps.isReactClassApproved||g("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ce={};var me=function(e,a,s,N,b,A){var E=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===r||e===m||e===u||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===n||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)}(e);if(!E){var v="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(v+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var T,O=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(b);v+=O||ie(),null===e?T="null":B(e)?T="array":void 0!==e&&e.$$typeof===t?(T="<"+(x(e.type)||"Unknown")+" />",v=" Did you accidentally export a JSX literal instead of a component?"):T=typeof e,g("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",T,v)}var P=Z(e,a,s,b,A);if(null==P)return P;if(E){var D=a.children;if(void 0!==D)if(N)if(B(D)){for(var R=0;R<D.length;R++)ne(D[R],e);Object.freeze&&Object.freeze(D)}else g("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ne(D,e)}if(U.call(a,"key")){var S=x(e),C=Object.keys(a).filter(function(e){return"key"!==e}),y=C.length>0?"{key: someKey, "+C.join(": ..., ")+": ...}":"{key: someKey}";if(!ce[S+y])g('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',y,S,C.length>0?"{"+C.join(": ..., ")+": ...}":"{}",S),ce[S+y]=!0}return e===i?function(e){for(var t=Object.keys(e.props),a=0;a<t.length;a++){var s=t[a];if("children"!==s&&"key"!==s){ae(e),g("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",s),ae(null);break}}null!==e.ref&&(ae(e),g("Invalid attribute `ref` supplied to `React.Fragment`."),ae(null))}(P):le(P),P};Ce.Fragment=i,Ce.jsxDEV=me}()),Ce}var je,Ve=(Re||(Re=1,Se.exports=ye()),Se.exports),we={};const Ie=i(function(){if(je)return we;je=1;var e=s(),t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return we.createRoot=function(a,s){t.usingClientEntryPoint=!0;try{return e.createRoot(a,s)}finally{t.usingClientEntryPoint=!1}},we.hydrateRoot=function(a,s,i){t.usingClientEntryPoint=!0;try{return e.hydrateRoot(a,s,i)}finally{t.usingClientEntryPoint=!1}},we}()),Je=(import.meta,"/api");const ke=new class{constructor(){t(this,"api"),this.api=h.create({baseURL:Je,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(e=>{const t=localStorage.getItem("token");t&&(e.headers.Authorization=`Bearer ${t}`);const a=String(e.url||"").includes("/auth/login"),s=!(!e.headers||!e.headers["X-Tenant"]);if(a)!s&&e.headers&&delete e.headers["X-Tenant"];else{const t=localStorage.getItem("rootTenantSlug")||"captar",a="1"===localStorage.getItem("adminContext"),s=localStorage.getItem("tenantSlug")||"captar",i=a&&"captar"===String(t).toLowerCase()?"captar":s;e.headers["X-Tenant"]=i;const r=localStorage.getItem("viewTenantSlug")||"";a&&r?e.headers["X-View-Tenant"]=r:e.headers["X-View-Tenant"]&&delete e.headers["X-View-Tenant"]}return e}),this.api.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)))}async login(e){const t=async t=>{const a=t??"captar",s=a?{headers:{"X-Tenant":a}}:{},i=(await this.api.post("/auth/login",e,s)).data,r=String((i?.tenantSlug??i?.tenant??i?.slug??i?.TenantSlug??i?.Tenant)||a);localStorage.setItem("tenantSlug",r);try{localStorage.getItem("rootTenantSlug")||localStorage.setItem("rootTenantSlug",r),"captar"===r.toLowerCase()&&(localStorage.setItem("rootTenantSlug","captar"),localStorage.setItem("adminContext","1"))}catch{}try{const e=await this.listTenants(),t=(e.rows||[]).find(e=>String(e.Slug??e.slug).toUpperCase()===r.toUpperCase()),a=t?String(t.Nome??t.nome):r;localStorage.setItem("tenantName",a)}catch{}if(i&&i.token&&!i.user){const e={id:i.id,nome:i.nome,funcao:i.funcao,usuario:i.usuario,email:i.email,cpf:i.cpf,perfil:i.funcao};return{token:i.token,user:e}}return i};try{return await t()}catch(a){try{return await t("captar")}catch(s){try{const e=await this.listTenants().catch(()=>({rows:[]})),a=(e.rows||[]).map(e=>String(e.Slug??e.slug??"")).filter(Boolean);for(const s of a)try{return await t(s)}catch{}}catch{}throw a}}}async healthDb(){try{return(await this.api.get("/health/db")).data}catch(e){try{return{ok:!!(await this.api.get("/health")).data}}catch(t){try{const e=h.create({baseURL:"http://localhost:8001",headers:{"Content-Type":"application/json"}});return(await e.get("/api/health/db")).data}catch(a){const e=h.create({baseURL:"http://localhost:8001",headers:{"Content-Type":"application/json"}});return{ok:!!(await e.get("/health")).data}}}}}async logout(){await this.api.post("/auth/logout")}async getCurrentUser(){return(await this.api.get("/auth/me")).data}async getPermissoes(){return(await this.api.get("/permissoes")).data}async getPermissao(e){return(await this.api.get(`/permissoes/${e}`)).data}async updatePermissao(e,t){return(await this.api.put(`/permissoes/${e}`,t)).data}async createPermissao(e){return(await this.api.post("/permissoes",e)).data}async deletePermissao(e){return(await this.api.delete(`/permissoes/${e}`)).data}async getPerfilSchema(){try{return(await this.api.get("/perfil/schema")).data}catch(e){const t=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await t.get("/perfil/schema")).data}}async listPerfil(){const e=(localStorage.getItem("tenantSlug")||"captar").toLowerCase(),t=await this.api.get("/perfil").then(e=>e.data).catch(async()=>{const e=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await e.get("/perfil")).data});if("captar"===e)return t;const a={"Content-Type":"application/json","X-Tenant":"captar"},s=localStorage.getItem("token");s&&(a.Authorization=`Bearer ${s}`);const i=h.create({baseURL:Je,headers:a}),r=await i.get("/perfil").then(e=>e.data).catch(async()=>{const e=h.create({baseURL:"http://localhost:8001/api",headers:a});return(await e.get("/perfil")).data}),o=t.rows||[],n=r.rows||[],l={};for(const c of[...n,...o]){const e=String(c.Perfil??c.perfil??c.Descricao??c.descricao??"").toUpperCase();l[e]||(l[e]=c)}return{rows:Object.values(l),columns:t.columns||r.columns||[]}}async createPerfil(e){try{return(await this.api.post("/perfil",e)).data}catch(t){const a=h.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}});return(await a.post("/perfil",e)).data}}async updatePerfil(e,t){try{return(await this.api.put(`/perfil/${e}`,t)).data}catch(a){const s=h.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}});return(await s.put(`/perfil/${e}`,t)).data}}async deletePerfil(e){try{return(await this.api.delete(`/perfil/${e}`)).data}catch(t){const a=h.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}});return(await a.delete(`/perfil/${e}`)).data}}async getFuncoesSchema(){return(await this.api.get("/funcoes/schema")).data}async listFuncoes(){const e=(localStorage.getItem("tenantSlug")||"captar").toLowerCase(),t=await this.api.get("/funcoes").then(e=>e.data).catch(async()=>{const e=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await e.get("/funcoes")).data});if("captar"===e)return t;const a={"Content-Type":"application/json","X-Tenant":"captar"},s=localStorage.getItem("token");s&&(a.Authorization=`Bearer ${s}`);const i=h.create({baseURL:Je,headers:a}),r=await i.get("/funcoes").then(e=>e.data).catch(async()=>{const e=h.create({baseURL:"http://localhost:8001/api",headers:a});return(await e.get("/funcoes")).data}),o=t.rows||[],n=r.rows||[],l={};for(const c of[...n,...o]){const e=String(c.Funcao??c.funcao??c.Descricao??c.descricao??"").toUpperCase();l[e]||(l[e]=c)}return{rows:Object.values(l),columns:t.columns||r.columns||[]}}async createFuncao(e){return(await this.api.post("/funcoes",e)).data}async updateFuncao(e,t){return(await this.api.put(`/funcoes/${e}`,t)).data}async deleteFuncao(e){return(await this.api.delete(`/funcoes/${e}`)).data}async applyFilter(e){return(await this.api.post("/filtros/aplicar",e)).data}async exportExcel(e){return(await this.api.post("/export/excel",{tabela:e},{responseType:"blob"})).data}async exportPdf(e){return(await this.api.post("/export/pdf",{tabela:e},{responseType:"blob"})).data}async exportData(e,t){try{const a="excel"===t?await this.exportExcel(e):await this.exportPdf(e),s=window.URL.createObjectURL(new Blob([a])),i=document.createElement("a");i.href=s,i.setAttribute("download",`${e}.${"excel"===t?"xlsx":"pdf"}`),document.body.appendChild(i),i.click(),i.parentNode?.removeChild(i)}catch(a){throw a}}async getAuditLogs(e=0,t=100){return(await this.api.get("/audit-logs",{params:{skip:e,limit:t}})).data}async createAuditLog(e){return(await this.api.post("/audit-logs",e)).data}async getAuditLogsByUser(e){return(await this.api.get(`/audit-logs/usuario/${e}`)).data}async importCsv(e){const t=new FormData;t.append("file",e);return(await this.api.post("/import/csv",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async getNotificacoes(e){return(await this.api.get(`/notificacoes/${e}`)).data}async createNotificacao(e){return(await this.api.post("/notificacoes",e)).data}async marcarNotificacaoLida(e){return(await this.api.put(`/notificacoes/${e}/marcar-lida`)).data}async getEleitoresSchema(){try{return(await this.api.get("/eleitores/schema")).data}catch(e){return{columns:[{name:"id",type:"integer",nullable:!1},{name:"nome",type:"string",nullable:!1},{name:"cpf",type:"string",nullable:!0},{name:"celular",type:"string",nullable:!0},{name:"bairro",type:"string",nullable:!0},{name:"zona_eleitoral",type:"string",nullable:!0},{name:"DataCadastro",type:"datetime",nullable:!0},{name:"TenantLayer",type:"string",nullable:!0}]}}}async getEleitores(){try{const e=(await this.api.get("/eleitores")).data,t=Array.isArray(e)?e:e.rows||[],a="1"===(localStorage.getItem("adminContext")||""),s=(localStorage.getItem("viewTenantSlug")||"").toUpperCase(),i=(localStorage.getItem("viewTenantName")||"").toUpperCase();if(a&&s){const a=new Set([s,i]);return{rows:t.filter(e=>a.has(String(e.TenantLayer||"").toUpperCase())),columns:Array.isArray(e)?[]:e.columns||[]}}return{rows:t,columns:Array.isArray(e)?[]:e.columns||[]}}catch(e){const t=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}}),a=(await t.get("/eleitores")).data,s=Array.isArray(a)?a:a.rows||[],i="1"===(localStorage.getItem("adminContext")||""),r=(localStorage.getItem("viewTenantSlug")||"").toUpperCase(),o=(localStorage.getItem("viewTenantName")||"").toUpperCase();if(i&&r){const e=new Set([r,o]);return{rows:s.filter(t=>e.has(String(t.TenantLayer||"").toUpperCase())),columns:Array.isArray(a)?[]:a.columns||[]}}return{rows:s,columns:Array.isArray(a)?[]:a.columns||[]}}}async createEleitor(e){return(await this.api.post("/eleitores",e)).data}async updateEleitor(e,t){return(await this.api.put(`/eleitores/${e}`,t)).data}async deleteEleitor(e){return(await this.api.delete(`/eleitores/${e}`)).data}async getAtivistasSchema(){try{return(await this.api.get("/ativistas/schema")).data}catch(e){return{columns:[{name:"id",type:"integer",nullable:!1},{name:"nome",type:"string",nullable:!1},{name:"tipo_apoio",type:"string",nullable:!0},{name:"area_atuacao",type:"string",nullable:!0},{name:"DataCadastro",type:"datetime",nullable:!0},{name:"TenantLayer",type:"string",nullable:!0}]}}}async getAtivistas(){try{const e=(await this.api.get("/ativistas")).data,t=Array.isArray(e)?e:e.rows||[],a="1"===(localStorage.getItem("adminContext")||""),s=(localStorage.getItem("viewTenantSlug")||"").toUpperCase(),i=(localStorage.getItem("viewTenantName")||"").toUpperCase();if(a&&s){const a=new Set([s,i]);return{rows:t.filter(e=>a.has(String(e.TenantLayer||"").toUpperCase())),columns:Array.isArray(e)?[]:e.columns||[]}}return{rows:t,columns:Array.isArray(e)?[]:e.columns||[]}}catch(e){const t=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}}),a=(await t.get("/ativistas")).data,s=Array.isArray(a)?a:a.rows||[],i="1"===(localStorage.getItem("adminContext")||""),r=(localStorage.getItem("viewTenantSlug")||"").toUpperCase(),o=(localStorage.getItem("viewTenantName")||"").toUpperCase();if(i&&r){const e=new Set([r,o]);return{rows:s.filter(t=>e.has(String(t.TenantLayer||"").toUpperCase())),columns:Array.isArray(a)?[]:a.columns||[]}}return{rows:s,columns:Array.isArray(a)?[]:a.columns||[]}}}async createAtivista(e){return(await this.api.post("/ativistas",e)).data}async updateAtivista(e,t){return(await this.api.put(`/ativistas/${e}`,t)).data}async deleteAtivista(e){return(await this.api.delete(`/ativistas/${e}`)).data}async getCampanhasSchema(){try{return(await this.api.get("/campanhas/schema")).data}catch(e){return{columns:[{name:"id",type:"integer",nullable:!1},{name:"nome",type:"string",nullable:!1},{name:"descricao",type:"text",nullable:!0},{name:"status",type:"boolean",nullable:!0},{name:"data_inicio",type:"date",nullable:!1},{name:"data_fim",type:"date",nullable:!0},{name:"meta",type:"integer",nullable:!0},{name:"enviados",type:"integer",nullable:!0},{name:"entregues",type:"integer",nullable:!0},{name:"visualizados",type:"integer",nullable:!0},{name:"nao_enviados",type:"integer",nullable:!0},{name:"positivos",type:"integer",nullable:!0},{name:"negativos",type:"integer",nullable:!0},{name:"aguardando",type:"integer",nullable:!0},{name:"recorrencia_ativa",type:"boolean",nullable:!0},{name:"total_blocos",type:"integer",nullable:!0},{name:"mensagens_por_bloco",type:"integer",nullable:!0},{name:"blocos_por_dia",type:"integer",nullable:!0},{name:"intervalo_min_seg",type:"integer",nullable:!0},{name:"intervalo_max_seg",type:"integer",nullable:!0},{name:"bloco_atual",type:"integer",nullable:!0},{name:"proxima_execucao",type:"datetime",nullable:!0},{name:"created_at",type:"datetime",nullable:!0}]}}}async getCampanhas(){return(await this.api.get("/campanhas")).data}async createCampanha(e){return(await this.api.post("/campanhas",e)).data}async updateCampanha(e,t){return(await this.api.put(`/campanhas/${e}`,t)).data}async resetCampanhaDisparos(e){return(await this.api.post(`/campanhas/${e}/reset-disparos`)).data}async deleteCampanha(e){return(await this.api.delete(`/campanhas/${e}`)).data}async uploadCampanhaAnexo(e,t){const a=new FormData;t.file&&a.append("file",t.file),t.data_url&&a.append("data_url",t.data_url),t.type&&a.append("type",t.type);return(await this.api.post(`/campanhas/${e}/anexo`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}async listCandidatos(){return(await this.api.get("/candidatos")).data}async createCandidato(e){return(await this.api.post("/candidatos",e)).data}async updateCandidato(e,t){return(await this.api.put(`/candidatos/${e}`,t)).data}async deleteCandidato(e){return(await this.api.delete(`/candidatos/${e}`)).data}async listEleicoes(){return(await this.api.get("/eleicoes")).data}async createEleicao(e){return(await this.api.post("/eleicoes",e)).data}async updateEleicao(e,t){return(await this.api.put(`/eleicoes/${e}`,t)).data}async deleteEleicao(e){return(await this.api.delete(`/eleicoes/${e}`)).data}async listMetas(){return(await this.api.get("/metas")).data}async createMeta(e){return(await this.api.post("/metas",e)).data}async updateMeta(e,t){return(await this.api.put(`/metas/${e}`,t)).data}async deleteMeta(e){return(await this.api.delete(`/metas/${e}`)).data}async getUsuariosSchema(){try{return(await this.api.get("/usuarios/schema")).data}catch(e){const t=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await t.get("/usuarios/schema")).data}}async listUsuarios(){const e=async()=>{try{const e=localStorage.getItem("tenantSlug")||"captar",t=localStorage.getItem("tenantName")||"",a=(await this.listTenants()).rows||[],s=a.find(e=>String(e.Nome??e.nome).toUpperCase()===String(t).toUpperCase()),i=a.find(t=>String(t.Slug??t.slug)===e),r=s||i;return{id:r?.IdTenant??r?.id,nome:r?.Nome??r?.nome,slug:e}}catch{return{slug:localStorage.getItem("tenantSlug")||"captar",nome:localStorage.getItem("tenantName")||""}}};try{const t=(await this.api.get("/usuarios")).data,a="1"===(localStorage.getItem("adminContext")||""),s=(localStorage.getItem("viewTenantSlug")||"").toUpperCase(),i=(localStorage.getItem("viewTenantName")||"").toUpperCase(),r=await e();if("captar"!==(r.slug||"").toLowerCase()){return{rows:(t.rows||[]).filter(e=>Number(e.IdTenant??e.idTenant)===Number(r.id)),columns:t.columns||[]}}if(a&&s){const e=new Set([s,i]);return{rows:(t.rows||[]).filter(t=>e.has(String(t.TenantLayer||"").toUpperCase())),columns:t.columns||[]}}return t}catch(t){const a=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}}),s=(await a.get("/usuarios")).data,i="1"===(localStorage.getItem("adminContext")||""),r=(localStorage.getItem("viewTenantSlug")||"").toUpperCase(),o=(localStorage.getItem("viewTenantName")||"").toUpperCase(),n=await e();if("captar"!==(n.slug||"").toLowerCase()){return{rows:(s.rows||[]).filter(e=>Number(e.IdTenant??e.idTenant)===Number(n.id)),columns:s.columns||[]}}if(i&&r){const e=new Set([r,o]);return{rows:(s.rows||[]).filter(t=>e.has(String(t.TenantLayer||"").toUpperCase())),columns:s.columns||[]}}return s}}async createUsuario(e){try{return(await this.api.post("/usuarios",e)).data}catch(t){const a=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await a.post("/usuarios",e)).data}}async updateUsuario(e,t){try{return(await this.api.put(`/usuarios/${e}`,t)).data}catch(a){const s=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await s.put(`/usuarios/${e}`,t)).data}}async uploadUsuarioFoto(e,t){const a=new FormData;t.file&&a.append("file",t.file),t.data_url&&a.append("data_url",t.data_url);return(await this.api.post(`/usuarios/${e}/foto`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteUsuario(e){try{return(await this.api.delete(`/usuarios/${e}`)).data}catch(t){const a=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await a.delete(`/usuarios/${e}`)).data}}async getDashboardStats(){const e="1"===(localStorage.getItem("adminContext")||""),t=(localStorage.getItem("viewTenantSlug")||"").trim(),a={};e&&t&&(a["X-View-Tenant"]=t);const s=(await this.api.get("/dashboard/stats",{headers:a})).data||{};try{if("captar"!==(localStorage.getItem("tenantSlug")||"captar").toLowerCase()){const e=await this.listUsuarios();s.total_usuarios=(e.rows||[]).length}else if(e&&t){const e=await this.listUsuarios();s.total_usuarios=(e.rows||[]).length;try{const e=await this.getEleitores();s.total_eleitores=(e.rows||e||[]).length;const t=await this.getAtivistas();s.total_ativistas=(t.rows||t||[]).length}catch{}}}catch{}return s}async getTopAtivistas(){return(await this.api.get("/dashboard/top-ativistas")).data}async getTopUsuarios(){return(await this.api.get("/dashboard/top-usuarios")).data}async getTopSupervisores(){return(await this.api.get("/dashboard/top-supervisores")).data}async getTopCoordenadores(){return(await this.api.get("/dashboard/top-coordenadores")).data}async getTopBairros(){return(await this.api.get("/dashboard/top-bairros")).data}async getTopZonas(){return(await this.api.get("/dashboard/top-zonas")).data}async listCoordenadores(){return{rows:((await this.listUsuarios()).rows||[]).filter(e=>"COORDENADOR"===String(e.Funcao||e.funcao).toUpperCase().trim()||"ADMINISTRADOR"===String(e.Funcao||e.funcao).toUpperCase().trim())}}async listSupervisores(e){return{rows:((await this.listUsuarios()).rows||[]).filter(t=>"SUPERVISOR"===String(t.Funcao||t.funcao).toUpperCase().trim()&&String(t.Coordenador||t.coordenador).trim()===String(e).trim())}}async getTenantsSchema(){try{return(await this.api.get("/tenants/schema")).data}catch(e){try{return(await this.api.get("/tenants/schema",{baseURL:"http://localhost:8001/api"})).data}catch(t){const e="undefined"!=typeof window?window.location.origin:"",a=e?`${e}/api`:"http://localhost:8001/api";return(await this.api.get("/tenants/schema",{baseURL:a})).data}}}async listTenants(){try{return(await this.api.get("/tenants")).data}catch(e){try{return(await this.api.get("/tenants",{baseURL:"http://localhost:8001/api"})).data}catch(t){const e="undefined"!=typeof window?window.location.origin:"",a=e?`${e}/api`:"http://localhost:8001/api";return(await this.api.get("/tenants",{baseURL:a})).data}}}async createTenant(e){try{return(await this.api.post("/tenants",e)).data}catch(t){try{return(await this.api.post("/tenants",e,{baseURL:"http://localhost:8001/api"})).data}catch(a){const t="undefined"!=typeof window?window.location.origin:"",s=t?`${t}/api`:"http://localhost:8001/api";return(await this.api.post("/tenants",e,{baseURL:s})).data}}}async updateTenant(e,t){try{return(await this.api.put(`/tenants/${e}`,t)).data}catch(a){try{return(await this.api.put(`/tenants/${e}`,t,{baseURL:"http://localhost:8001/api"})).data}catch(s){const a="undefined"!=typeof window?window.location.origin:"",i=a?`${a}/api`:"http://localhost:8001/api";return(await this.api.put(`/tenants/${e}`,t,{baseURL:i})).data}}}async deleteTenant(e){try{return(await this.api.delete(`/tenants/${e}`)).data}catch(t){try{return(await this.api.delete(`/tenants/${e}`,{baseURL:"http://localhost:8001/api"})).data}catch(a){const t="undefined"!=typeof window?window.location.origin:"",s=t?`${t}/api`:"http://localhost:8001/api";return(await this.api.delete(`/tenants/${e}`,{baseURL:s})).data}}}async deleteTenantAndDb(e){try{return(await this.api.delete("/tenants/delete_all",{data:{slug:e}})).data}catch(t){const a=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await a.delete("/tenants/delete_all",{data:{slug:e}})).data}}async provisionTenant(e){try{return(await this.api.post("/tenants/provision",e)).data}catch(t){const a=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await a.post("/tenants/provision",e)).data}}async recreateTenantDb(e){try{return(await this.api.post(`/tenants/${e}/recreate_db`)).data}catch(t){try{return(await this.api.post(`/tenants/${e}/recreate_db`,void 0,{baseURL:"http://localhost:8001/api"})).data}catch(a){const t="undefined"!=typeof window?window.location.origin:"",s=t?`${t}/api`:"http://localhost:8001/api";return(await this.api.post(`/tenants/${e}/recreate_db`,void 0,{baseURL:s})).data}}}async setTenantDsn(e,t){try{return(await this.api.post(`/tenants/${e}/set_dsn`,{dsn:t})).data}catch(a){const s=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await s.post(`/tenants/${e}/set_dsn`,{dsn:t})).data}}async migrateAllTenants(){try{return(await this.api.post("/admin/migrate_all_tenants")).data}catch(e){const t=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await t.post("/admin/migrate_all_tenants")).data}}async migrateTenantData(e){try{return(await this.api.post("/tenants/migrate_data",{slug:e})).data}catch(t){const a=h.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});return(await a.post("/tenants/migrate_data",{slug:e})).data}}async testarIntegracao(e){return(await this.api.post("/integracoes/testar",e)).data}async salvarIntegracaoConfig(e){return(await this.api.post("/integracoes/config",e)).data}async obterIntegracaoConfig(){return(await this.api.get("/integracoes/config")).data}async listarMunicipios(e){return(await this.api.get(`/integracoes/municipios/${e}`)).data}async listarRecursosCkan(e,t){return(await this.api.post("/integracoes/ckan/resources",{dataset:e,uf:t})).data}async previewRecursoCkan(e,t=15){return(await this.api.post("/integracoes/ckan/preview",{resource_url:e,limit:t})).data}async getEvolutionApiKeyMasked(){return(await this.api.get("/integracoes/evolution/key")).data}async testEvolutionApi(){return(await this.api.get("/integracoes/evolution/test")).data}async getTwilioConfig(){return(await this.api.get("/integracoes/twilio/config")).data}async saveTwilioConfig(e){return(await this.api.post("/integracoes/twilio/config",e)).data}async testTwilio(){return(await this.api.get("/integracoes/twilio/test")).data}async sendTwilio(e){return(await this.api.post("/integracoes/twilio/send",e)).data}async uploadTwilioMedia(e){const t=new FormData;t.append("file",e);return(await this.api.post("/integracoes/twilio/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async getMetaWhatsAppConfig(){return(await this.api.get("/integracoes/meta/config")).data}async saveMetaWhatsAppConfig(e){return(await this.api.post("/integracoes/meta/config",e)).data}async testMetaWhatsApp(){return(await this.api.get("/integracoes/meta/test")).data}async uploadMetaWhatsAppMedia(e){const t=new FormData;t.append("file",e);return(await this.api.post("/integracoes/meta/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async sendMetaWhatsApp(e){return(await this.api.post("/integracoes/meta/send",e)).data}async createMetaTemplate(e){return(await this.api.post("/integracoes/meta/templates/create",e)).data}async getMetaWhatsAppStats(e){return(await this.api.get("/integracoes/meta/stats",{params:{days:e}})).data}async setMetaWebhookOverrideWaba(e){return(await this.api.post("/integracoes/meta/webhook/override/waba",e)).data}async getMetaWebhookSubscribedApps(e){return(await this.api.get("/integracoes/meta/webhook/subscribed_apps",{params:e||{}})).data}async setMetaWebhookOverridePhone(e){return(await this.api.post("/integracoes/meta/webhook/override/phone",e)).data}async getMetaWebhookOverrideStatus(e){return(await this.api.get("/integracoes/meta/webhook/override/status",{params:e||{}})).data}async upsertTwilioOptIn(e){return(await this.api.post("/integracoes/twilio/optin",e)).data}async getTwilioOptInStatus(e){return(await this.api.post("/integracoes/twilio/optin/status",e)).data}async listTwilioMessagingServices(){return(await this.api.get("/integracoes/twilio/messaging-services")).data}async getYCloudConfig(){return(await this.api.get("/integracoes/ycloud/config")).data}async saveYCloudConfig(e){return(await this.api.post("/integracoes/ycloud/config",e)).data}async getDialog360Config(){return(await this.api.get("/integracoes/dialog360/config")).data}async saveDialog360Config(e){return(await this.api.post("/integracoes/dialog360/config",e)).data}async getWANotifierConfig(){return(await this.api.get("/integracoes/wanotifier/config")).data}async saveWANotifierConfig(e){return(await this.api.post("/integracoes/wanotifier/config",e)).data}async listEvolutionApis(){const e=await this.api.get("/integracoes/evolution/instances");return e.data?.rows||[]}async createEvolutionApi(e){return(await this.api.post("/evolution-apis",e)).data}async updateEvolutionApi(e,t){return(await this.api.put(`/evolution-apis/${e}`,t)).data}async deleteEvolutionApi(e){return(await this.api.delete(`/evolution-apis/${e}`)).data}async listEvolutionInstances(){return(await this.api.get("/integracoes/evolution/instances")).data}async getDisparos(e){return(await this.api.get("/disparos",{params:e})).data}async getCampanhaDisparosGrid(e,t){return(await this.api.get(`/campanhas/${e}/disparos-grid`,{params:{limit_contacts:t}})).data}async getRelatorios(e){return(await this.api.get("/relatorios",{params:e})).data}async getRelatorio(e){return(await this.api.get(`/relatorios/${e}`)).data}async downloadRelatorioPdf(e,t){return(await this.api.get(`/relatorios/${e}/pdf`,{responseType:"blob",params:t?{orientation:t}:void 0})).data}async createRelatorioComprovante(e){return(await this.api.post("/relatorios/comprovante",e)).data}async whatsappCheckNumbers(e){return(await this.api.post("/integrations/whatsapp/whatsapp-numbers",e)).data}async whatsappPresenceCache(e){return(await this.api.post("/integrations/whatsapp/presence-cache",e)).data}async sendWhatsAppMessage(e,t,a,s,i){return(await this.api.post("/integrations/whatsapp/send",{phone:e,message:t,media_url:a,text_position:s,campanha_id:i?.campanha_id,contato_nome:i?.contato_nome,evolution_api_id:i?.evolution_api_id})).data}},_e=r.createContext(ke);function Me({children:e}){const t=r.useMemo(()=>{const e=new Map,t=(e,t)=>`${("undefined"!=typeof window?localStorage.getItem("tenantSlug"):null)||"captar"}:${("undefined"!=typeof window?localStorage.getItem("viewTenantSlug"):null)||""}:${e}:${JSON.stringify(t)}`,a=ke,s={listTenants:a.listTenants.bind(ke),listUsuarios:a.listUsuarios.bind(ke),listPerfil:a.listPerfil.bind(ke),listFuncoes:a.listFuncoes.bind(ke),createUsuario:a.createUsuario.bind(ke),updateUsuario:a.updateUsuario.bind(ke),deleteUsuario:a.deleteUsuario.bind(ke),uploadUsuarioFoto:a.uploadUsuarioFoto.bind(ke)};return a.listTenants=async()=>{const a=t("listTenants",[]);if(e.has(a))return e.get(a);const i=await s.listTenants();return e.set(a,i),i},a.listUsuarios=async()=>{const a=t("listUsuarios",[]);if(e.has(a))return e.get(a);const i=await s.listUsuarios();return e.set(a,i),i},a.listPerfil=async()=>{const a=t("listPerfil",[]);if(e.has(a))return e.get(a);const i=await s.listPerfil();return e.set(a,i),i},a.listFuncoes=async()=>{const a=t("listFuncoes",[]);if(e.has(a))return e.get(a);const i=await s.listFuncoes();return e.set(a,i),i},a.createUsuario=async t=>{const a=await s.createUsuario(t);return e.clear(),a},a.updateUsuario=async(t,a)=>{const i=await s.updateUsuario(t,a);return e.clear(),i},a.deleteUsuario=async t=>{const a=await s.deleteUsuario(t);return e.clear(),a},a.uploadUsuarioFoto=async(t,a)=>{const i=await s.uploadUsuarioFoto(t,a);return e.clear(),i},ke},[]);return Ve.jsxDEV(_e.Provider,{value:t,children:e},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/context/ApiContext.tsx",lineNumber:76,columnNumber:5},this)}function Ue(){return r.useContext(_e)}var Fe,Le={},$e={exports:{}};function ze(){return Fe||(Fe=1,(e=$e).exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports),$e.exports;var e}var Be,We={};var He,Ye={},qe={},Ke={},Ge={exports:{}},Xe={exports:{}},Ze={exports:{}},Qe={exports:{}};function et(){return He||(He=1,function(e){function t(a){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Qe)),Qe.exports}var tt,at,st,it,rt={exports:{}};function ot(){return at||(at=1,e=Ze,t=et().default,a=function(){return tt||(tt=1,e=rt,t=et().default,e.exports=function(e,a){if("object"!=t(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,a||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports),rt.exports;var e,t}(),e.exports=function(e){var s=a(e,"string");return"symbol"==t(s)?s:s+""},e.exports.__esModule=!0,e.exports.default=e.exports),Ze.exports;var e,t,a}function nt(){return it||(it=1,function(e){var t=function(){return st||(st=1,e=Xe,t=ot(),e.exports=function(e,a,s){return(a=t(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e},e.exports.__esModule=!0,e.exports.default=e.exports),Xe.exports;var e,t}();function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}e.exports=function(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?a(Object(i),!0).forEach(function(a){t(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports}(Ge)),Ge.exports}var lt,ct,mt={};function ut(){if(ct)return Ke;ct=1;var e=ze().default;Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var t=e(nt()),a=(lt||(lt=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.commonLocale=void 0,mt.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),mt),s=(0,t.default)((0,t.default)({},a.commonLocale),{},{locale:"pt_BR",today:"Hoje",now:"Agora",backToToday:"Voltar para hoje",ok:"OK",clear:"Limpar",week:"Semana",month:"Mês",year:"Ano",timeSelect:"Selecionar hora",dateSelect:"Selecionar data",monthSelect:"Escolher mês",yearSelect:"Escolher ano",decadeSelect:"Escolher década",dateFormat:"D/M/YYYY",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!1,previousMonth:"Mês anterior (PageUp)",nextMonth:"Próximo mês (PageDown)",previousYear:"Ano anterior (Control + esquerda)",nextYear:"Próximo ano (Control + direita)",previousDecade:"Década anterior",nextDecade:"Próxima década",previousCentury:"Século anterior",nextCentury:"Próximo século",shortWeekDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]});return Ke.default=s,Ke}var dt,pt,ht,Nt,bt,gt,ft={};function At(){if(dt)return ft;dt=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;return ft.default={placeholder:"Hora",rangePlaceholder:["Hora de início","Hora de término"]},ft}function xt(){if(pt)return qe;pt=1;var e=ze().default;Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var t=e(ut()),a=e(At());const s={lang:Object.assign({placeholder:"Selecionar data",rangePlaceholder:["Data inicial","Data final"]},t.default),timePickerLocale:Object.assign({},a.default)};return qe.default=s,qe}function Et(){if(ht)return Ye;ht=1;var e=ze().default;Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var t=e(xt());return Ye.default=t.default,Ye}function vt(){if(Nt)return Le;Nt=1;var e=ze().default;Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var t=e((Be||(Be=1,Object.defineProperty(We,"__esModule",{value:!0}),We.default=void 0,We.default={items_per_page:"/ página",jump_to:"Vá até",jump_to_confirm:"confirme",page:"Página",prev_page:"Página anterior",next_page:"Próxima página",prev_5:"5 páginas anteriores",next_5:"5 próximas páginas",prev_3:"3 páginas anteriores",next_3:"3 próximas páginas",page_size:"tamanho da página"}),We)),a=e(Et()),s=e(xt()),i=e(At());const r="${label} não é um ${type} válido",o={locale:"pt-br",Pagination:t.default,DatePicker:s.default,TimePicker:i.default,Calendar:a.default,global:{placeholder:"Por favor escolha",close:"Fechar"},Table:{filterTitle:"Menu de Filtro",filterConfirm:"OK",filterReset:"Resetar",filterEmptyText:"Sem filtros",filterCheckAll:"Selecionar todos os itens",filterSearchPlaceholder:"Pesquisar nos filtros",emptyText:"Sem conteúdo",selectAll:"Selecionar página atual",selectInvert:"Inverter seleção",selectNone:"Apagar todo o conteúdo",selectionAll:"Selecionar todo o conteúdo",sortTitle:"Ordenar título",expand:"Expandir linha",collapse:"Colapsar linha",triggerDesc:"Clique organiza por descendente",triggerAsc:"Clique organiza por ascendente",cancelSort:"Clique para cancelar organização"},Tour:{Next:"Próximo",Previous:"Anterior",Finish:"Finalizar"},Modal:{okText:"OK",cancelText:"Cancelar",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancelar"},Transfer:{titles:["",""],searchPlaceholder:"Procurar",itemUnit:"item",itemsUnit:"items",remove:"Remover",selectCurrent:"Selecionar página atual",removeCurrent:"Remover página atual",selectAll:"Selecionar todos",removeAll:"Remover todos",selectInvert:"Inverter seleção atual"},Upload:{uploading:"Enviando...",removeFile:"Remover arquivo",uploadError:"Erro no envio",previewFile:"Visualizar arquivo",downloadFile:"Baixar arquivo"},Empty:{description:"Não há dados"},Icon:{icon:"ícone"},Text:{edit:"editar",copy:"copiar",copied:"copiado",expand:"expandir"},Form:{optional:"(opcional)",defaultValidateMessages:{default:"Erro ${label} na validação de campo",required:"Por favor, insira ${label}",enum:"${label} deve ser um dos seguinte: [${enum}]",whitespace:"${label} não pode ser um carácter vazio",date:{format:" O formato de data ${label} é inválido",parse:"${label} não pode ser convertido para uma data",invalid:"${label} é uma data inválida"},types:{string:r,method:r,array:r,object:r,number:r,date:r,boolean:r,integer:r,float:r,regexp:r,email:r,url:r,hex:r},string:{len:"${label} deve possuir ${len} caracteres",min:"${label} deve possuir ao menos ${min} caracteres",max:"${label} deve possuir no máximo ${max} caracteres",range:"${label} deve possuir entre ${min} e ${max} caracteres"},number:{len:"${label} deve ser igual à ${len}",min:"O valor mínimo de ${label} é ${min}",max:"O valor máximo de ${label} é ${max}",range:"${label} deve estar entre ${min} e ${max}"},array:{len:"Deve ser ${len} ${label}",min:"No mínimo ${min} ${label}",max:"No máximo ${max} ${label}",range:"A quantidade de ${label} deve estar entre ${min} e ${max}"},pattern:{mismatch:"${label} não se encaixa no padrão ${pattern}"}}},Image:{preview:"Pré-visualização"}};return Le.default=o,Le}function Tt(){return gt?bt:(gt=1,bt=vt())}const Ot=i(Tt()),Pt={},Dt=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=a?.nonce||a?.getAttribute("nonce");s=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Pt)return;Pt[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,i&&s.setAttribute("nonce",i),document.head.appendChild(s),t?new Promise((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},Rt=localStorage.getItem("user");let St=null;if(Rt)try{const e=JSON.parse(Rt);if(e&&e.login_time){const t=N(e.login_time);if(b(t))St=e;else{const t=new Date(e.login_time);b(t)?e.login_time=t.toISOString():e.login_time=(new Date).toISOString(),localStorage.setItem("user",JSON.stringify(e)),St=e}}else St=e}catch{St=null,localStorage.removeItem("user")}const Ct=g(e=>({user:St,token:localStorage.getItem("token"),isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),setUser:t=>{t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user"),e({user:t})},setToken:t=>{t?localStorage.setItem("token",t):localStorage.removeItem("token"),e({token:t,isAuthenticated:!!t})},setIsLoading:t=>e({isLoading:t}),logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})},login:(t,a)=>{localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",a),e({user:t,token:a,isAuthenticated:!0})}})),yt="/assets/CAPTAR%20LOGO%20OFICIAL-DwGQlJkk.jpg",jt={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Vt={date:f({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:f({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},wt={lastWeek:e=>{const t=e.getDay();return"'"+(0===t||6===t?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},It={code:"pt-BR",formatDistance:(e,t,a)=>{let s;const i=jt[e];return s="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),a?.addSuffix?a.comparison&&a.comparison>0?"em "+s:"há "+s:s},formatLong:Vt,formatRelative:(e,t,a,s)=>{const i=wt[e];return"function"==typeof i?i(t):i},localize:{ordinalNumber:(e,t)=>{const a=Number(e);return"week"===t?.unit?a+"ª":a+"º"},era:A({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:A({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:A({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:A({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},defaultWidth:"wide"}),dayPeriod:A({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:E({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:x({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:x({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:x({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:x({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},{Header:Jt}=P;const kt=o.memo(function(){const e=n(),t=l(),{user:a,logout:s}=Ct(),i=Ue(),o=("undefined"!=typeof window?localStorage.getItem("tenantSlug"):null)||"captar",[c,m]=r.useState(localStorage.getItem("tenantName")||"");if(r.useEffect(()=>{const e=localStorage.getItem("tenantSlug")||"captar";(async()=>{try{const t=await i.listTenants(),a=(t.rows||[]).find(t=>String(t.Slug??t.slug).toUpperCase()===String(e).toUpperCase()),s=a?String(a.Nome??a.nome):e;m(s);try{localStorage.setItem("tenantName",s)}catch{}}catch{m(e)}})()},[i]),!a)return null;const u=r.useMemo(()=>{const e=a?.login_time;if(!e)return null;const t=N(e);if(b(t))return t;const s=new Date(e);return isNaN(s.getTime())?null:s},[a?.login_time]),d=u?v(u,"dd/MM/yyyy HH:mm",{locale:It}):"",[p,h]=r.useState("");r.useEffect(()=>{const e=()=>{if(!u)return void h("");const e=Date.now()-u.getTime(),t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3),i=String(t).padStart(2,"0"),r=String(a).padStart(2,"0"),o=String(s).padStart(2,"0");h(`${i}:${r}:${o}`)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[u]);const g=[{key:"logout",label:"LOGOUT",icon:Ve.jsxDEV(M,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:83,columnNumber:13},this),onClick:()=>{s(),e("/login")}}],f=[{key:"/",icon:Ve.jsxDEV(D,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:89,columnNumber:23},this),label:"DASHBOARD",onClick:()=>e("/")},{key:"cadastros",icon:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:92,columnNumber:13},this),label:"CADASTROS",children:[{key:"/eleitores",icon:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:95,columnNumber:36},this),label:"ELEITORES",onClick:()=>e("/eleitores")},{key:"/ativistas",icon:Ve.jsxDEV(S,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:96,columnNumber:36},this),label:"ATIVISTAS",onClick:()=>e("/ativistas")}]},{key:"/estatisticas",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:99,columnNumber:35},this),label:"ESTATÍSTICAS",onClick:()=>e("/estatisticas")},{key:"/consultas",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:100,columnNumber:32},this),label:"CONSULTAS",onClick:()=>e("/consultas")},{key:"sistema",icon:Ve.jsxDEV(j,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:103,columnNumber:13},this),label:"SISTEMA",children:[{key:"/usuarios",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:106,columnNumber:35},this),label:"USUÁRIOS",onClick:()=>e("/usuarios")},{key:"/perfil",icon:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:107,columnNumber:33},this),label:"PERFIL",onClick:()=>e("/perfil")},{key:"/funcoes",icon:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:108,columnNumber:34},this),label:"FUNÇÕES",onClick:()=>e("/funcoes")},{key:"/permissoes",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:109,columnNumber:37},this),label:"PERMISSÕES",onClick:()=>e("/permissoes")},{key:"/integracoes",icon:Ve.jsxDEV(y,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:110,columnNumber:38},this),label:"INTEGRAÇÕES",onClick:()=>e("/integracoes")}]},{key:"automacao",icon:Ve.jsxDEV(V,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:115,columnNumber:13},this),label:"AUTOMAÇÃO",children:[{key:"/automacao/campanha",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:118,columnNumber:45},this),label:"CAMPANHA",onClick:()=>e("/automacao/campanha")},{key:"/automacao/disparos",icon:Ve.jsxDEV(y,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:119,columnNumber:45},this),label:"DISPAROS",onClick:()=>e("/automacao/disparos")},{key:"/automacao/relatorios",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:120,columnNumber:47},this),label:"RELATÓRIOS",onClick:()=>e("/automacao/relatorios")}]},{key:"parametros",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:125,columnNumber:13},this),label:"PARÂMETROS",children:(()=>{const t=[{key:"/parametros/metas",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:129,columnNumber:45},this),label:"METAS",onClick:()=>e("/parametros/metas")},{key:"/parametros/tenants",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:130,columnNumber:47},this),label:"TENANTS",onClick:()=>e("/parametros/tenants")},{key:"/parametros/eleicoes",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:131,columnNumber:48},this),label:"ELEIÇÕES",onClick:()=>e("/parametros/eleicoes")},{key:"/parametros/candidatos",icon:Ve.jsxDEV(C,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:132,columnNumber:50},this),label:"CANDIDATOS",onClick:()=>e("/parametros/candidatos")}];return"captar"!==String(o).toLowerCase()?t.filter(e=>"/parametros/tenants"!==e.key):t})()}];return Ve.jsxDEV(Jt,{className:"navbar",children:Ve.jsxDEV("div",{className:"navbar-container",children:[Ve.jsxDEV("div",{className:"navbar-logo",style:{height:"100%",display:"flex",alignItems:"center"},children:[Ve.jsxDEV("img",{src:yt,alt:"CAPTAR",style:{height:110,backgroundColor:"#ffffff",borderRadius:8,padding:6}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:147,columnNumber:11},this),Ve.jsxDEV("span",{style:{marginLeft:12,fontSize:12,color:"#666",letterSpacing:".3px"},children:["TENANT: ",Ve.jsxDEV("strong",{style:{color:"#333"},children:String(c||o).toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:149,columnNumber:21},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:146,columnNumber:9},this),Ve.jsxDEV(T.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.4},style:{flex:1,minWidth:0,display:"flex",justifyContent:"center"},children:Ve.jsxDEV(w,{mode:"horizontal",selectedKeys:[t.pathname],items:f,className:"navbar-menu"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:159,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:153,columnNumber:9},this),Ve.jsxDEV("div",{className:"navbar-content",children:[Ve.jsxDEV("div",{className:"navbar-user-info",children:Ve.jsxDEV("div",{className:"user-details",children:[Ve.jsxDEV("p",{className:"user-name",children:a.nome},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:170,columnNumber:15},this),Ve.jsxDEV("p",{className:"user-meta",children:["Função: ",Ve.jsxDEV("strong",{children:a.funcao},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:172,columnNumber:25},this)," | Perfil: ",Ve.jsxDEV("strong",{children:a.perfil},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:172,columnNumber:66},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:171,columnNumber:15},this),Ve.jsxDEV("p",{className:"user-login-time",children:["LOGIN: ",d," | TEMPO CONECTADO: ",p]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:174,columnNumber:15},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:169,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:168,columnNumber:11},this),Ve.jsxDEV(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:Ve.jsxDEV(I,{menu:{items:g},trigger:["click"],children:Ve.jsxDEV(J,{type:"text",className:"user-menu-button",children:[Ve.jsxDEV(k,{icon:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:181,columnNumber:31},this),size:"large"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:181,columnNumber:17},this),Ve.jsxDEV(_,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:182,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:180,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:179,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:167,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:145,columnNumber:7},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/Navbar.tsx",lineNumber:144,columnNumber:5},this)});const _t=Array(12).fill(0),Mt=({visible:e,className:t})=>o.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},o.createElement("div",{className:"sonner-spinner"},_t.map((e,t)=>o.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Ut=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ft=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Lt=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$t=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zt=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Bt=1;const Wt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:a,...s}=e,i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Bt++,r=this.toasts.find(e=>e.id===i),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),r?this.toasts=this.toasts.map(t=>t.id===i?(this.publish({...t,...e,id:i,title:a}),{...t,...e,id:i,dismissible:o,title:a}):t):this.addToast({title:a,...s,dismissible:o,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let a;void 0!==t.loading&&(a=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i,r=void 0!==a;const n=s.then(async e=>{i=["resolve",e];if(o.isValidElement(e))r=!1,this.create({id:a,type:"default",message:e});else if(Ht(e)&&!e.ok){r=!1;const s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,i="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,n="object"==typeof s&&!o.isValidElement(s)?s:{message:s};this.create({id:a,type:"error",description:i,...n})}else if(e instanceof Error){r=!1;const s="function"==typeof t.error?await t.error(e):t.error,i="function"==typeof t.description?await t.description(e):t.description,n="object"==typeof s&&!o.isValidElement(s)?s:{message:s};this.create({id:a,type:"error",description:i,...n})}else if(void 0!==t.success){r=!1;const s="function"==typeof t.success?await t.success(e):t.success,i="function"==typeof t.description?await t.description(e):t.description,n="object"==typeof s&&!o.isValidElement(s)?s:{message:s};this.create({id:a,type:"success",description:i,...n})}}).catch(async e=>{if(i=["reject",e],void 0!==t.error){r=!1;const s="function"==typeof t.error?await t.error(e):t.error,i="function"==typeof t.description?await t.description(e):t.description,n="object"==typeof s&&!o.isValidElement(s)?s:{message:s};this.create({id:a,type:"error",description:i,...n})}}).finally(()=>{r&&(this.dismiss(a),a=void 0),null==t.finally||t.finally.call(t)}),l=()=>new Promise((e,t)=>n.then(()=>"reject"===i[0]?t(i[1]):e(i[1])).catch(t));return"string"!=typeof a&&"number"!=typeof a?{unwrap:l}:Object.assign(a,{unwrap:l})},this.custom=(e,t)=>{const a=(null==t?void 0:t.id)||Bt++;return this.create({jsx:e(a),id:a,...t}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ht=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Yt=(e,t)=>{const a=(null==t?void 0:t.id)||Bt++;return Wt.addToast({title:e,...t,id:a}),a},qt=Object.assign(Yt,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:()=>Wt.toasts,getToasts:()=>Wt.getActiveToasts()});function Kt(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Gt=3,Xt=14;function Zt(...e){return e.filter(Boolean).join(" ")}const Qt=e=>{var t,a,s,i,r,n,l,c,m;const{invert:u,toast:d,unstyled:p,interacting:h,setHeights:N,visibleToasts:b,heights:g,index:f,toasts:A,expanded:x,removeToast:E,defaultRichColors:v,closeButton:T,style:O,cancelButtonStyle:P,actionButtonStyle:D,className:R="",descriptionClassName:S="",duration:C,position:y,gap:j,expandByDefault:V,classNames:w,icons:I,closeButtonAriaLabel:J="Close toast"}=e,[k,_]=o.useState(null),[M,U]=o.useState(null),[F,L]=o.useState(!1),[$,z]=o.useState(!1),[B,W]=o.useState(!1),[H,Y]=o.useState(!1),[q,K]=o.useState(!1),[G,X]=o.useState(0),[Z,Q]=o.useState(0),ee=o.useRef(d.duration||C||4e3),te=o.useRef(null),ae=o.useRef(null),se=0===f,ie=f+1<=b,re=d.type,oe=!1!==d.dismissible,ne=d.className||"",le=d.descriptionClassName||"",ce=o.useMemo(()=>g.findIndex(e=>e.toastId===d.id)||0,[g,d.id]),me=o.useMemo(()=>{var e;return null!=(e=d.closeButton)?e:T},[d.closeButton,T]),ue=o.useMemo(()=>d.duration||C||4e3,[d.duration,C]),de=o.useRef(0),pe=o.useRef(0),he=o.useRef(0),Ne=o.useRef(null),[be,ge]=y.split("-"),fe=o.useMemo(()=>g.reduce((e,t,a)=>a>=ce?e:e+t.height,0),[g,ce]),Ae=(()=>{const[e,t]=o.useState(document.hidden);return o.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),xe=d.invert||u,Ee="loading"===re;pe.current=o.useMemo(()=>ce*j+fe,[ce,fe]),o.useEffect(()=>{ee.current=ue},[ue]),o.useEffect(()=>{L(!0)},[]),o.useEffect(()=>{const e=ae.current;if(e){const t=e.getBoundingClientRect().height;return Q(t),N(e=>[{toastId:d.id,height:t,position:d.position},...e]),()=>N(e=>e.filter(e=>e.toastId!==d.id))}},[N,d.id]),o.useLayoutEffect(()=>{if(!F)return;const e=ae.current,t=e.style.height;e.style.height="auto";const a=e.getBoundingClientRect().height;e.style.height=t,Q(a),N(e=>e.find(e=>e.toastId===d.id)?e.map(e=>e.toastId===d.id?{...e,height:a}:e):[{toastId:d.id,height:a,position:d.position},...e])},[F,d.title,d.description,N,d.id,d.jsx,d.action,d.cancel]);const ve=o.useCallback(()=>{z(!0),X(pe.current),N(e=>e.filter(e=>e.toastId!==d.id)),setTimeout(()=>{E(d)},200)},[d,E,N,pe]);o.useEffect(()=>{if(d.promise&&"loading"===re||d.duration===1/0||"loading"===d.type)return;let e;return x||h||Ae?(()=>{if(he.current<de.current){const e=(new Date).getTime()-de.current;ee.current=ee.current-e}he.current=(new Date).getTime()})():ee.current!==1/0&&(de.current=(new Date).getTime(),e=setTimeout(()=>{null==d.onAutoClose||d.onAutoClose.call(d,d),ve()},ee.current)),()=>clearTimeout(e)},[x,h,d,re,Ae,ve]),o.useEffect(()=>{d.delete&&(ve(),null==d.onDismiss||d.onDismiss.call(d,d))},[ve,d.delete]);const Te=d.icon||(null==I?void 0:I[re])||(e=>{switch(e){case"success":return Ut;case"info":return Lt;case"warning":return Ft;case"error":return $t;default:return null}})(re);var Oe,Pe,De,Re;return o.createElement("li",{tabIndex:0,ref:ae,className:Zt(R,ne,null==w?void 0:w.toast,null==d||null==(t=d.classNames)?void 0:t.toast,null==w?void 0:w.default,null==w?void 0:w[re],null==d||null==(a=d.classNames)?void 0:a[re]),"data-sonner-toast":"","data-rich-colors":null!=(Oe=d.richColors)?Oe:v,"data-styled":!Boolean(d.jsx||d.unstyled||p),"data-mounted":F,"data-promise":Boolean(d.promise),"data-swiped":q,"data-removed":$,"data-visible":ie,"data-y-position":be,"data-x-position":ge,"data-index":f,"data-front":se,"data-swiping":B,"data-dismissible":oe,"data-type":re,"data-invert":xe,"data-swipe-out":H,"data-swipe-direction":M,"data-expanded":Boolean(x||V&&F),"data-testid":d.testId,style:{"--index":f,"--toasts-before":f,"--z-index":A.length-f,"--offset":`${$?G:pe.current}px`,"--initial-height":V?"auto":`${Z}px`,...O,...d.style},onDragEnd:()=>{W(!1),_(null),Ne.current=null},onPointerDown:e=>{2!==e.button&&!Ee&&oe&&(te.current=new Date,X(pe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(W(!0),Ne.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,a;if(H||!oe)return;Ne.current=null;const s=Number((null==(e=ae.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(t=ae.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=(new Date).getTime()-(null==(a=te.current)?void 0:a.getTime()),o="x"===k?s:i,n=Math.abs(o)/r;if(Math.abs(o)>=45||n>.11)return X(pe.current),null==d.onDismiss||d.onDismiss.call(d,d),U("x"===k?s>0?"right":"left":i>0?"down":"up"),ve(),void Y(!0);var l,c;null==(l=ae.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=ae.current)||c.style.setProperty("--swipe-amount-y","0px"),K(!1),W(!1),_(null)},onPointerMove:t=>{var a,s,i;if(!Ne.current||!oe)return;if((null==(a=window.getSelection())?void 0:a.toString().length)>0)return;const r=t.clientY-Ne.current.y,o=t.clientX-Ne.current.x;var n;const l=null!=(n=e.swipeDirections)?n:function(e){const[t,a]=e.split("-"),s=[];return t&&s.push(t),a&&s.push(a),s}(y);!k&&(Math.abs(o)>1||Math.abs(r)>1)&&_(Math.abs(o)>Math.abs(r)?"x":"y");let c={x:0,y:0};const m=e=>1/(1.5+Math.abs(e)/20);if("y"===k){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&r<0||l.includes("bottom")&&r>0)c.y=r;else{const e=r*m(r);c.y=Math.abs(e)<Math.abs(r)?e:r}}else if("x"===k&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&o<0||l.includes("right")&&o>0)c.x=o;else{const e=o*m(o);c.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&K(!0),null==(s=ae.current)||s.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(i=ae.current)||i.style.setProperty("--swipe-amount-y",`${c.y}px`)}},me&&!d.jsx&&"loading"!==re?o.createElement("button",{"aria-label":J,"data-disabled":Ee,"data-close-button":!0,onClick:Ee||!oe?()=>{}:()=>{ve(),null==d.onDismiss||d.onDismiss.call(d,d)},className:Zt(null==w?void 0:w.closeButton,null==d||null==(s=d.classNames)?void 0:s.closeButton)},null!=(Pe=null==I?void 0:I.close)?Pe:zt):null,(re||d.icon||d.promise)&&null!==d.icon&&(null!==(null==I?void 0:I[re])||d.icon)?o.createElement("div",{"data-icon":"",className:Zt(null==w?void 0:w.icon,null==d||null==(i=d.classNames)?void 0:i.icon)},d.promise||"loading"===d.type&&!d.icon?d.icon||((null==I?void 0:I.loading)?o.createElement("div",{className:Zt(null==w?void 0:w.loader,null==d||null==(Re=d.classNames)?void 0:Re.loader,"sonner-loader"),"data-visible":"loading"===re},I.loading):o.createElement(Mt,{className:Zt(null==w?void 0:w.loader,null==d||null==(De=d.classNames)?void 0:De.loader),visible:"loading"===re})):null,"loading"!==d.type?Te:null):null,o.createElement("div",{"data-content":"",className:Zt(null==w?void 0:w.content,null==d||null==(r=d.classNames)?void 0:r.content)},o.createElement("div",{"data-title":"",className:Zt(null==w?void 0:w.title,null==d||null==(n=d.classNames)?void 0:n.title)},d.jsx?d.jsx:"function"==typeof d.title?d.title():d.title),d.description?o.createElement("div",{"data-description":"",className:Zt(S,le,null==w?void 0:w.description,null==d||null==(l=d.classNames)?void 0:l.description)},"function"==typeof d.description?d.description():d.description):null),o.isValidElement(d.cancel)?d.cancel:d.cancel&&Kt(d.cancel)?o.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||P,onClick:e=>{Kt(d.cancel)&&oe&&(null==d.cancel.onClick||d.cancel.onClick.call(d.cancel,e),ve())},className:Zt(null==w?void 0:w.cancelButton,null==d||null==(c=d.classNames)?void 0:c.cancelButton)},d.cancel.label):null,o.isValidElement(d.action)?d.action:d.action&&Kt(d.action)?o.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||D,onClick:e=>{Kt(d.action)&&(null==d.action.onClick||d.action.onClick.call(d.action,e),e.defaultPrevented||ve())},className:Zt(null==w?void 0:w.actionButton,null==d||null==(m=d.classNames)?void 0:m.actionButton)},d.action.label):null)};function ea(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function ta(e,t){const a={};return[e,t].forEach((e,t)=>{const s=1===t,i=s?"--mobile-offset":"--offset",r=s?"16px":"24px";function o(e){["top","right","bottom","left"].forEach(t=>{a[`${i}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?a[`${i}-${t}`]=r:a[`${i}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):o(r)}),a}const aa=o.forwardRef(function(e,t){const{id:a,invert:s,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:n,closeButton:l,className:m,offset:u,mobileOffset:d,theme:p="light",richColors:h,duration:N,style:b,visibleToasts:g=Gt,toastOptions:f,dir:A=ea(),gap:x=Xt,icons:E,containerAriaLabel:v="Notifications"}=e,[T,O]=o.useState([]),P=o.useMemo(()=>a?T.filter(e=>e.toasterId===a):T.filter(e=>!e.toasterId),[T,a]),D=o.useMemo(()=>Array.from(new Set([i].concat(P.filter(e=>e.position).map(e=>e.position)))),[P,i]),[R,S]=o.useState([]),[C,y]=o.useState(!1),[j,V]=o.useState(!1),[w,I]=o.useState("system"!==p?p:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=o.useRef(null),k=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.useRef(null),M=o.useRef(!1),U=o.useCallback(e=>{O(t=>{var a;return(null==(a=t.find(t=>t.id===e.id))?void 0:a.delete)||Wt.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return o.useEffect(()=>Wt.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{O(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{c.flushSync(()=>{O(t=>{const a=t.findIndex(t=>t.id===e.id);return-1!==a?[...t.slice(0,a),{...t[a],...e},...t.slice(a+1)]:[e,...t]})})})}),[T]),o.useEffect(()=>{if("system"!==p)return void I(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{I(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{I(e?"dark":"light")}catch(t){console.error(t)}})}},[p]),o.useEffect(()=>{T.length<=1&&y(!1)},[T]),o.useEffect(()=>{const e=e=>{var t;var a;r.every(t=>e[t]||e.code===t)&&(y(!0),null==(a=J.current)||a.focus());"Escape"!==e.code||document.activeElement!==J.current&&!(null==(t=J.current)?void 0:t.contains(document.activeElement))||y(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),o.useEffect(()=>{if(J.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,M.current=!1)}},[J.current]),o.createElement("section",{ref:t,"aria-label":`${v} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((t,a)=>{var i;const[r,c]=t.split("-");return P.length?o.createElement("ol",{key:t,dir:"auto"===A?ea():A,tabIndex:-1,ref:J,className:m,"data-sonner-toaster":!0,"data-sonner-theme":w,"data-y-position":r,"data-x-position":c,style:{"--front-toast-height":`${(null==(i=R[0])?void 0:i.height)||0}px`,"--width":"356px","--gap":`${x}px`,...b,...ta(u,d)},onBlur:e=>{M.current&&!e.currentTarget.contains(e.relatedTarget)&&(M.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M.current||(M.current=!0,_.current=e.relatedTarget)},onMouseEnter:()=>y(!0),onMouseMove:()=>y(!0),onMouseLeave:()=>{j||y(!1)},onDragEnd:()=>y(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||V(!0)},onPointerUp:()=>V(!1)},P.filter(e=>!e.position&&0===a||e.position===t).map((a,i)=>{var r,c;return o.createElement(Qt,{key:a.id,icons:E,index:i,toast:a,defaultRichColors:h,duration:null!=(r=null==f?void 0:f.duration)?r:N,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:s,visibleToasts:g,closeButton:null!=(c=null==f?void 0:f.closeButton)?c:l,interacting:j,position:t,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,closeButtonAriaLabel:null==f?void 0:f.closeButtonAriaLabel,removeToast:U,toasts:P.filter(e=>e.position==a.position),heights:R.filter(e=>e.position==a.position),setHeights:S,expandByDefault:n,gap:x,expanded:C,swipeDirections:e.swipeDirections})})):null}))}),sa="/assets/CAPTAR%20LOGIN-My8ZjooI.png";function ia(){const e=n(),{login:t}=Ct(),[a,s]=r.useState(!1),[i,o]=r.useState(null),[l]=U.useForm(),c=Ue(),[m,u]=r.useState(null),d=async a=>{s(!0);try{if(a.acesso_direto){try{localStorage.setItem("tenantSlug","captar")}catch{}const a={id:9999,nome:"USUÁRIO TEMPORÁRIO",funcao:"ADMINISTRADOR",usuario:"admin",email:"admin@example.com",cpf:"000.000.000-00",perfil:"ADMINISTRADOR",login_time:(new Date).toISOString()};return t(a,"temp-token-dev"),H.success("Acesso direto ativado!"),void e("/")}const s=await c.login({usuario:a.usuario,senha:a.senha}),i={...s.user,login_time:(new Date).toISOString()};t(i,s.token),qt.success("Login realizado com sucesso!"),e("/")}catch(i){qt.error(i.response?.data?.detail||"Usuário ou senha inválidos")}finally{s(!1)}};return r.useEffect(()=>{const e=sa,t=new Image;t.crossOrigin="anonymous",t.onload=()=>{const a=t.naturalWidth||512,s=t.naturalHeight||512,i=document.createElement("canvas");i.width=a,i.height=s;const r=i.getContext("2d");if(!r)return void u(e);r.drawImage(t,0,0,a,s);const o=r.getImageData(0,0,a,s),n=o.data;for(let e=0;e<n.length;e+=4){const t=n[e],a=n[e+1],s=n[e+2],i=Math.max(t,a,s),r=Math.min(t,a,s);i>230&&r>210&&(n[e+3]=0)}r.putImageData(o,0,0),u(i.toDataURL("image/png"))},t.src=e},[]),Ve.jsxDEV("div",{style:{minHeight:"100vh"},children:Ve.jsxDEV(F,{open:!0,centered:!0,footer:null,closable:!1,maskClosable:!1,width:520,destroyOnHidden:!0,className:"login-modal",children:Ve.jsxDEV("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:16},children:[Ve.jsxDEV("style",{children:".login-modal .ant-modal-content{ border-radius:0 !important; box-shadow:none !important; border:none !important; } .login-modal .ant-modal-header{ border-bottom:none !important; }"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:114,columnNumber:11},this),Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"center"},children:Ve.jsxDEV("img",{src:m||sa,alt:"CAPTAR",style:{width:400,height:"auto",maxWidth:"90%"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:115,columnNumber:11},this),Ve.jsxDEV(U,{form:l,onFinish:d,layout:"vertical",className:"login-form",style:{width:"100%"},children:[Ve.jsxDEV(U.Item,{name:"usuario",getValueFromEvent:e=>(e?.target?.value||"").toUpperCase(),rules:[{required:!0,message:"Por favor, insira seu usuário"},{min:3,message:"Usuário deve ter pelo menos 3 caracteres"}],children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:134,columnNumber:25},this),placeholder:"Usuário",size:"large",autoComplete:"username",style:{textTransform:"uppercase"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:133,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:125,columnNumber:13},this),Ve.jsxDEV(U.Item,{name:"senha",rules:[{required:!0,message:"Por favor, insira sua senha"},{min:3,message:"Senha deve ter pelo menos 3 caracteres"}],children:Ve.jsxDEV(L.Password,{prefix:Ve.jsxDEV($,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:150,columnNumber:25},this),placeholder:"Senha",size:"large",autoComplete:"current-password"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:149,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:142,columnNumber:13},this),Ve.jsxDEV(U.Item,{children:Ve.jsxDEV(J,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:a,className:"login-button",children:"ENTRAR"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:158,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:118,columnNumber:11},this),Ve.jsxDEV(z,{style:{width:"100%",justifyContent:"space-between",marginTop:8},children:[Ve.jsxDEV("div",{children:[Ve.jsxDEV("span",{children:"Status BD: "},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:173,columnNumber:15},this),null===i&&Ve.jsxDEV(B,{children:"?"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:174,columnNumber:33},this),!0===i&&Ve.jsxDEV(B,{color:"green",children:"OK"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:175,columnNumber:33},this),!1===i&&Ve.jsxDEV(B,{color:"red",children:"FALHA"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:176,columnNumber:34},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:172,columnNumber:13},this),Ve.jsxDEV(J,{size:"small",onClick:async()=>{try{const e=await c.healthDb();o(!!e?.ok),e?.ok&&H.success("Conexão com banco OK")}catch(e){o(!1),H.error(e?.response?.data?.detail||"Falha ao conectar no banco")}},children:"Testar conexão"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:178,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:171,columnNumber:11},this),Ve.jsxDEV(W,{children:"OU"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:181,columnNumber:11},this),Ve.jsxDEV(J,{type:"dashed",size:"large",block:!0,loading:a,className:"dev-button",onClick:()=>{d({usuario:"",senha:"",acesso_direto:!0})},children:"🔧 Acesso Direto (Desenvolvedor)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:183,columnNumber:11},this),Ve.jsxDEV("div",{className:"login-footer",children:[Ve.jsxDEV("p",{children:"CAPTAR © 2025 - Sistema de Captação Eleitoral"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:197,columnNumber:13},this),Ve.jsxDEV("p",{className:"version",children:"v2.0 - React + TypeScript + Vite"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:196,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:113,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:112,columnNumber:7},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Login.tsx",lineNumber:110,columnNumber:5},this)}function ra({open:e,initial:t,onCancel:a,onSaved:s}){const[i]=U.useForm(),[o,n]=r.useState(!1),[l,c]=r.useState([]),m=Ue(),{user:u}=Ct(),{message:d}=Y.useApp(),p=r.useMemo(()=>{const e=u?.login_time;if(!e)return null;const t=N(e);if(b(t))return t;const a=new Date(e);return isNaN(a.getTime())?null:a},[u]),[h,g]=r.useState(""),f=p?v(p,"dd/MM/yyyy HH:mm",{locale:It}):"",A=String(localStorage.getItem("tenantSlug")||"captar"),x=String(localStorage.getItem("tenantName")||"CAPTAR");r.useEffect(()=>{const e=()=>{if(!p)return void g("");const e=Date.now()-p.getTime(),t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3),i=String(t).padStart(2,"0"),r=String(a).padStart(2,"0"),o=String(s).padStart(2,"0");g(`${i}:${r}:${o}`)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[p]),r.useEffect(()=>{if(e)if((async()=>{try{const e=((await m.listTenants()).rows||[]).map(e=>({label:e.Nome??e.nome,value:String(e.Nome??e.nome),slug:e.Slug??e.slug}));if(c(e),!t){const t=localStorage.getItem("tenantSlug")||"captar",a=e.find(e=>(e.slug||"").toLowerCase()===t.toLowerCase());a&&i.setFieldValue("TenantLayer",a.value)}}catch{}})(),t){const e={...t};if(e.DataNascimento||e.data_nascimento){const t=e.DataNascimento||e.data_nascimento;e.data_nascimento=q(t)}e.Nome&&(e.nome=e.Nome),e.CPF&&(e.cpf=e.CPF),e.Celular&&(e.celular=e.Celular),e.Bairro&&(e.bairro=e.Bairro),e.ZonaEleitoral&&(e.zona_eleitoral=e.ZonaEleitoral),i.setFieldsValue(e)}else i.resetFields()},[e,t,i,m]);const E=async()=>{try{const e=await i.validateFields();if(n(!0),e.data_nascimento&&(e.data_nascimento=e.data_nascimento.format("YYYY-MM-DD")),"string"==typeof e.celular){const t=String(e.celular);e.celular=t.length>15?t.slice(0,15):t}const a=String(localStorage.getItem("tenantName")||"CAPTAR"),r=String(e.TenantLayer||a);try{const t=(await m.listTenants()).rows||[],a=String(e.TenantLayer||r);(t.find(e=>String(e.Nome??e.nome).toUpperCase()===a.toUpperCase())||t.find(e=>String(e.Slug??e.slug).toUpperCase()===String(localStorage.getItem("tenantSlug")||"captar").toUpperCase()))&&delete e.IdTenant}catch{}if(Object.keys(e).forEach(t=>void 0===e[t]&&delete e[t]),t?.id||t?.IdEleitor){const a=t.id||t.IdEleitor;await m.updateEleitor(a,e),d.success("Eleitor atualizado com sucesso!")}else await m.createEleitor(e),d.success("Eleitor criado com sucesso!");s()}catch(e){const t=e?.response?.data?.detail||e?.message||"Erro ao salvar eleitor";d.error(t)}finally{n(!1)}},T=e=>{const t=e?.target?.value;return"string"==typeof t?t.toUpperCase():t};return Ve.jsxDEV(F,{open:e,title:Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Ve.jsxDEV("div",{className:"navbar-logo",style:{display:"flex",alignItems:"center",gap:8},children:[Ve.jsxDEV("img",{src:yt,alt:"CAPTAR",style:{height:110,backgroundColor:"#ffffff",borderRadius:8,padding:6}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:181,columnNumber:13},this),Ve.jsxDEV("div",{style:{fontSize:12},children:["TENANT: ",Ve.jsxDEV("strong",{style:{color:"#333"},children:String(x||A).toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:183,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:180,columnNumber:11},this),Ve.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:12},children:[Ve.jsxDEV("div",{style:{textAlign:"right"},children:[Ve.jsxDEV("div",{style:{fontWeight:700},children:u?.usuario?String(u?.usuario).toUpperCase():String(u?.nome||"").toUpperCase()||"USUÁRIO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:188,columnNumber:15},this),Ve.jsxDEV("div",{style:{fontSize:12},children:`FUNÇÃO: ${String(u?.funcao||"").toUpperCase()} | PERFIL: ${String(u?.perfil||"").toUpperCase()}`},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:191,columnNumber:15},this),Ve.jsxDEV("div",{style:{fontSize:12},children:`LOGIN: ${f||"--"} | TEMPO CONECTADO: ${h||"--:--:--"}`},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:194,columnNumber:15},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:187,columnNumber:13},this),Ve.jsxDEV(k,{size:"large"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:179,columnNumber:9},this),onOk:E,onCancel:a,confirmLoading:o,width:980,centered:!0,footer:null,className:"eleitores-modal",destroyOnHidden:!0,closable:!1,maskClosable:!1,children:[Ve.jsxDEV("style",{children:".eleitores-modal .ant-modal-header{ border-bottom: 1px solid #e8e8e8; } .eleitores-modal .ant-modal-content{ border-radius: 0 !important; } .eleitores-modal .ant-form-item{ margin-bottom:6px; }"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:213,columnNumber:7},this),Ve.jsxDEV(U,{form:i,layout:"vertical",children:[Ve.jsxDEV("div",{style:{display:"grid",gap:16},children:[Ve.jsxDEV(K,{title:"Dados do Eleitor",size:"small",children:[Ve.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[Ve.jsxDEV(U.Item,{name:"nome",label:"Nome",rules:[{required:!0,message:"Nome é obrigatório"}],getValueFromEvent:T,children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:220,columnNumber:36},this),placeholder:"Nome completo",style:{borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:220,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:219,columnNumber:17},this),Ve.jsxDEV(U.Item,{name:"cpf",label:"CPF",children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(G,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:225,columnNumber:29},this),placeholder:"000.000.000-00",maxLength:14,style:{borderRadius:8},onChange:e=>{const t=(e=>{const t=(e||"").replace(/\D/g,"").slice(0,11),a=t.slice(0,3),s=t.slice(3,6),i=t.slice(6,9),r=t.slice(9,11);let o=a;return s&&(o+=`.${s}`),i&&(o+=`.${i}`),r&&(o+=`-${r}`),o})(e.target.value);i.setFieldsValue({cpf:t})}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:224,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:223,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:218,columnNumber:17},this),Ve.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[Ve.jsxDEV(U.Item,{name:"celular",label:"Celular",children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(X,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:240,columnNumber:29},this),placeholder:"(00) 00000-0000",maxLength:15,style:{borderRadius:8},onChange:e=>{const t=(e=>{const t=(e||"").replace(/\D/g,"").slice(0,11);if(t.length<=2)return`(${t}`;const a=t.slice(0,2),s=t.slice(2),i="9"===s[0]?s:"9"+s,r=i.slice(0,5),o=i.slice(5,9);return r?o?`(${a}) ${r}-${o}`:`(${a}) ${r}`:`(${a})`})(e.target.value);i.setFieldsValue({celular:t})}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:239,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:238,columnNumber:17},this),Ve.jsxDEV(U.Item,{name:"data_nascimento",label:"Data de Nascimento",children:Ve.jsxDEV(Z,{format:"DD/MM/YYYY",style:{width:"100%",borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:252,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:251,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:237,columnNumber:17},this),Ve.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[Ve.jsxDEV(U.Item,{name:"bairro",label:"Bairro",getValueFromEvent:T,children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(Q,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:258,columnNumber:36},this),placeholder:"Bairro",style:{borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:258,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:257,columnNumber:17},this),Ve.jsxDEV(U.Item,{name:"zona_eleitoral",label:"Zona Eleitoral",getValueFromEvent:T,children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(ee,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:262,columnNumber:36},this),placeholder:"Zona",style:{borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:262,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:261,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:256,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:217,columnNumber:13},this),Ve.jsxDEV(K,{title:"Vinculação",size:"small",children:Ve.jsxDEV(U.Item,{name:"TenantLayer",label:"Tenant Layer",rules:[{required:!0}],children:Ve.jsxDEV(te,{options:l,optionFilterProp:"label",showSearch:!0,style:{borderRadius:8},disabled:!!t},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:269,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:268,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:267,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:216,columnNumber:9},this),Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:16},children:[Ve.jsxDEV(J,{onClick:a,icon:Ve.jsxDEV(R,{rotate:180},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:281,columnNumber:44},this),children:"Cancelar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:281,columnNumber:11},this),Ve.jsxDEV(J,{type:"primary",onClick:E,loading:o,icon:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:284,columnNumber:77},this),children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:284,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:280,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:215,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/EleitoresModal.tsx",lineNumber:176,columnNumber:5},this)}function oa(){const[e,t]=r.useState([]),[a,s]=r.useState(!1),[i,o]=r.useState(!1),[n,l]=r.useState(null),[c,m]=r.useState([]),[u,d]=r.useState({}),[p,h]=r.useState([]),N=Ue(),{user:b}=Ct(),g=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:20,columnNumber:65},this),Ve.jsxDEV("path",{d:"M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:20,columnNumber:144},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:20,columnNumber:5},this),f=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M6 7h12M9 7v10m6-10v10M4 7h16l-1 14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2L4 7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:23,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:23,columnNumber:5},this),A=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M3 4h6v16H3V4zm12 0h6v16h-6V4z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:26,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:26,columnNumber:5},this),x=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"2"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:30,columnNumber:7},this),Ve.jsxDEV("path",{d:"M4 20c0-3.866 3.582-7 8-7s8 3.134 8 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:31,columnNumber:7},this),Ve.jsxDEV("path",{d:"M18 6h3M19.5 4.5v3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:32,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:29,columnNumber:5},this),E=async()=>{try{s(!0);const e=await N.getEleitoresSchema(),a=["id","nome","cpf","celular","bairro","zona_eleitoral","TenantLayer","DataCadastro"],i={};for(const t of e.columns||[])i[t.name]=t;const r=a.filter(e=>i[e]).map(e=>i[e]),o=(e.columns||[]).filter(e=>!a.includes(e.name));m([...r,...o]);const n=(await N.getEleitores()).rows||[];t(n);const l={};for(const t of a)i[t]&&(l[t]=!0);for(const t of o)l[t.name]=!1;const c=`eleitores.columns.visible.${b?.usuario||"default"}`,u=localStorage.getItem(c);d(u?JSON.parse(u):l);const p=`eleitores.columns.order.${b?.usuario||"default"}`,g=localStorage.getItem(p);h(g?JSON.parse(g):a.filter(e=>i[e]))}catch(e){H.error(e?.response?.data?.detail||"Erro ao carregar eleitores")}finally{s(!1)}};r.useEffect(()=>{E()},[]);const v=c.map(t=>{const a=t.name,s=Array.from(new Set((e||[]).map(e=>e[a]).filter(e=>null!=e))).slice(0,20).map(e=>({text:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase(),value:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase()})),i=(t.type||"").toLowerCase(),r=new Set(["id","TenantLayer","DataCadastro","DataUpdate"]),o={title:{id:"ID",nome:"NOME",cpf:"CPF",celular:"CELULAR",bairro:"BAIRRO",zona_eleitoral:"ZONA ELEITORAL",data_nascimento:"DATA NASCIMENTO",email:"EMAIL",genero:"GÊNERO",cidade:"CIDADE",uf:"UF",TenantLayer:"TENANT LAYER",DataCadastro:"DATA CADASTRO",DataUpdate:"DATA ATUALIZAÇÃO"}[a]||a.toUpperCase(),dataIndex:a,align:r.has(a)?"center":"left",filters:s,onFilter:(e,t)=>String(t[a]).toUpperCase()===String(e).toUpperCase(),sorter:(e,t)=>{const s=e[a],r=t[a];if(null==s)return-1;if(null==r)return 1;if(Array.isArray(s)||Array.isArray(r)){const e=Array.isArray(s)?s.join(", "):String(s),t=Array.isArray(r)?r.join(", "):String(r);return e.toUpperCase().localeCompare(t.toUpperCase())}return i.includes("int")||i.includes("numeric")?Number(s)-Number(r):i.includes("date")||i.includes("timestamp")?new Date(s).getTime()-new Date(r).getTime():String(s).toUpperCase().localeCompare(String(r).toUpperCase())},sortDirections:["ascend","descend"],render:e=>{if("boolean"==typeof e)return e?"SIM":"NÃO";if(null==e)return"";if(Array.isArray(e))return e.map(e=>String(e).toUpperCase()).join(" | ");const t=new Set(["DataUpdate"]);if(i.includes("date")||i.includes("timestamp")){const s=new Date(e);if(!isNaN(s.getTime())){if("DataCadastro"===a)return s.toLocaleString("pt-BR",{hour12:!1});if(t.has(a))return s.toLocaleTimeString("pt-BR",{hour12:!1});if("data_nascimento"===a)return s.toLocaleDateString("pt-BR")}}return"email"===a?String(e).toLowerCase():String(e).toUpperCase()},onHeaderCell:()=>({draggable:!0,onDragStart:e=>{e.dataTransfer.setData("text/plain",a)},onDragOver:e=>{e.preventDefault()},onDrop:e=>{const t=e.dataTransfer.getData("text/plain"),s=a;t&&t!==s&&h(e=>{const a=e.filter(e=>e!==t),i=a.indexOf(s);if(-1===i)return e;a.splice(i,0,t);const r=`eleitores.columns.order.${b?.usuario||"default"}`;return localStorage.setItem(r,JSON.stringify(a)),a})}})};return"id"===a&&(o.defaultSortOrder="ascend"),o}),O={title:"AÇÕES",dataIndex:"__actions__",render:(e,t)=>Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"text",icon:Ve.jsxDEV(g,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:177,columnNumber:35},this),title:"EDITAR",onClick:()=>{l(t),o(!0)}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:177,columnNumber:9},this),Ve.jsxDEV(J,{type:"text",danger:!0,icon:Ve.jsxDEV(f,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:178,columnNumber:42},this),title:"DELETAR",onClick:async()=>{try{if(!t.id)return void H.info("REGISTRO SEM ID");await N.deleteEleitor(t.id),H.success("ELEITOR DELETADO"),await E()}catch(e){H.error(e?.response?.data?.detail||"ERRO AO DELETAR ELEITOR")}}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:178,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:176,columnNumber:7},this)},P=(p.length?p:v.map(e=>e.dataIndex)).map(e=>v.find(t=>t.dataIndex===e)).filter(Boolean).filter(e=>u[e.dataIndex]).concat([O]),D=Ve.jsxDEV("div",{style:{padding:12},children:c.map(e=>Ve.jsxDEV("div",{style:{marginBottom:6},children:Ve.jsxDEV(ae,{checked:!!u[e.name],onChange:t=>{const a={...u,[e.name]:t.target.checked};d(a);const s=`eleitores.columns.visible.${b?.usuario||"default"}`;localStorage.setItem(s,JSON.stringify(a))},children:(e.name||"").toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:203,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:202,columnNumber:9},this))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:200,columnNumber:5},this);return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12},children:Ve.jsxDEV(z,{children:[Ve.jsxDEV(I,{placement:"bottomRight",trigger:["click"],menu:{items:[]},popupRender:()=>D,children:Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(A,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:223,columnNumber:42},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},title:"VISUALIZAÇÃO DE COLUNAS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:223,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:222,columnNumber:11},this),Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(x,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:225,columnNumber:40},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},onClick:()=>{l(null),o(!0)},title:"NOVO ELEITOR"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:221,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:220,columnNumber:7},this),Ve.jsxDEV("style",{children:"\n        .eleitores-table .ant-table-thead > tr > th{ background:#FFD700; color:#000; font-family: 'Arimo', Arial, sans-serif; }\n        .eleitores-table .ant-table-thead > tr > th .ant-table-column-title{ display:flex; justify-content:center; align-items:center; text-align:center; }\n        .eleitores-table .ant-table-tbody > tr > td{ font-family: 'Roboto Condensed', Arial, sans-serif; padding:2px 6px; line-height:0.95; height:22px; }\n      "},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:228,columnNumber:7},this),Ve.jsxDEV(se,{loading:a,dataSource:e,columns:P,rowKey:e=>e.id??JSON.stringify(e),bordered:!0,size:"small",className:"ant-table-striped eleitores-table"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:233,columnNumber:7},this),Ve.jsxDEV(ra,{open:i,initial:n||void 0,onCancel:()=>o(!1),onSaved:async()=>{o(!1),await E()}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:242,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleitores.tsx",lineNumber:218,columnNumber:5},this)}function na({open:e,initial:t,onCancel:a,onSaved:s}){const[i]=U.useForm(),[o,n]=r.useState(!1),[l,c]=r.useState([]),m=Ue(),{user:u}=Ct(),{message:d}=Y.useApp(),p=r.useMemo(()=>{const e=u?.login_time;if(!e)return null;const t=N(e);if(b(t))return t;const a=new Date(e);return isNaN(a.getTime())?null:a},[u]),[h,g]=r.useState(""),f=p?v(p,"dd/MM/yyyy HH:mm",{locale:It}):"",A=String(localStorage.getItem("tenantSlug")||"captar"),x=String(localStorage.getItem("tenantName")||"CAPTAR");r.useEffect(()=>{const e=()=>{if(!p)return void g("");const e=Date.now()-p.getTime(),t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3),i=String(t).padStart(2,"0"),r=String(a).padStart(2,"0"),o=String(s).padStart(2,"0");g(`${i}:${r}:${o}`)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[p]),r.useEffect(()=>{if(e)if((async()=>{try{const e=((await m.listTenants()).rows||[]).map(e=>({label:e.Nome??e.nome,value:String(e.Nome??e.nome),slug:e.Slug??e.slug}));if(c(e),!t){const t=localStorage.getItem("tenantSlug")||"captar",a=e.find(e=>(e.slug||"").toLowerCase()===t.toLowerCase());a&&i.setFieldValue("TenantLayer",a.value)}}catch{}})(),t){const e={...t};e.Nome&&(e.nome=e.Nome),e.TipoApoio&&(e.tipo_apoio=e.TipoApoio),e.AreaAtuacao&&(e.area_atuacao=e.AreaAtuacao),i.setFieldsValue(e)}else i.resetFields()},[e,t,i,m]);const E=async()=>{try{const e=await i.validateFields();n(!0);const a=String(localStorage.getItem("tenantName")||"CAPTAR"),r=String(e.TenantLayer||a);try{const t=(await m.listTenants()).rows||[],a=String(e.TenantLayer||r);(t.find(e=>String(e.Nome??e.nome).toUpperCase()===a.toUpperCase())||t.find(e=>String(e.Slug??e.slug).toUpperCase()===String(localStorage.getItem("tenantSlug")||"captar").toUpperCase()))&&delete e.IdTenant}catch{}if(Object.keys(e).forEach(t=>void 0===e[t]&&delete e[t]),t?.id||t?.IdAtivista){const a=t.id||t.IdAtivista;await m.updateAtivista(a,e),d.success("Ativista atualizado com sucesso!")}else await m.createAtivista(e),d.success("Ativista criado com sucesso!");s()}catch(e){const t=e?.response?.data?.detail||e?.message||"Erro ao salvar ativista";d.error(t)}finally{n(!1)}},T=e=>{const t=e?.target?.value;return"string"==typeof t?t.toUpperCase():t};return Ve.jsxDEV(F,{open:e,title:Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Ve.jsxDEV("div",{className:"navbar-logo",style:{display:"flex",alignItems:"center",gap:8},children:[Ve.jsxDEV("img",{src:yt,alt:"CAPTAR",style:{height:110,backgroundColor:"#ffffff",borderRadius:8,padding:6}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:136,columnNumber:13},this),Ve.jsxDEV("div",{style:{fontSize:12},children:["TENANT: ",Ve.jsxDEV("strong",{style:{color:"#333"},children:String(x||A).toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:138,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:135,columnNumber:11},this),Ve.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:12},children:[Ve.jsxDEV("div",{style:{textAlign:"right"},children:[Ve.jsxDEV("div",{style:{fontWeight:700},children:u?.usuario?String(u?.usuario).toUpperCase():String(u?.nome||"").toUpperCase()||"USUÁRIO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:143,columnNumber:15},this),Ve.jsxDEV("div",{style:{fontSize:12},children:`FUNÇÃO: ${String(u?.funcao||"").toUpperCase()} | PERFIL: ${String(u?.perfil||"").toUpperCase()}`},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:146,columnNumber:15},this),Ve.jsxDEV("div",{style:{fontSize:12},children:`LOGIN: ${f||"--"} | TEMPO CONECTADO: ${h||"--:--:--"}`},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:142,columnNumber:13},this),Ve.jsxDEV(k,{size:"large"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:134,columnNumber:9},this),onOk:E,onCancel:a,confirmLoading:o,width:980,centered:!0,footer:null,className:"ativistas-modal",destroyOnHidden:!0,closable:!1,maskClosable:!1,children:[Ve.jsxDEV("style",{children:".ativistas-modal .ant-modal-header{ border-bottom: 1px solid #e8e8e8; } .ativistas-modal .ant-modal-content{ border-radius: 0 !important; } .ativistas-modal .ant-form-item{ margin-bottom:6px; }"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:168,columnNumber:7},this),Ve.jsxDEV(U,{form:i,layout:"vertical",children:[Ve.jsxDEV("div",{style:{display:"grid",gap:16},children:[Ve.jsxDEV(K,{title:"Dados do Ativista",size:"small",children:[Ve.jsxDEV(U.Item,{name:"nome",label:"Nome",rules:[{required:!0,message:"Nome é obrigatório"}],getValueFromEvent:T,children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:174,columnNumber:32},this),placeholder:"Nome completo",style:{borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:174,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:173,columnNumber:17},this),Ve.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[Ve.jsxDEV(U.Item,{name:"tipo_apoio",label:"Tipo de Apoio",children:Ve.jsxDEV(te,{placeholder:"Selecione",style:{borderRadius:8},children:[Ve.jsxDEV(te.Option,{value:"VOLUNTARIO",children:"Voluntário"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:180,columnNumber:21},this),Ve.jsxDEV(te.Option,{value:"APOIADOR",children:"Apoiador"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:181,columnNumber:21},this),Ve.jsxDEV(te.Option,{value:"LIDERANCA",children:"Liderança"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:182,columnNumber:21},this),Ve.jsxDEV(te.Option,{value:"COORDENADOR",children:"Coordenador"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:183,columnNumber:21},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:179,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:178,columnNumber:17},this),Ve.jsxDEV(U.Item,{name:"area_atuacao",label:"Área de Atuação",getValueFromEvent:T,children:Ve.jsxDEV(L,{prefix:Ve.jsxDEV(S,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:188,columnNumber:36},this),placeholder:"Ex: Saúde, Educação",style:{borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:188,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:187,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:177,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:172,columnNumber:13},this),Ve.jsxDEV(K,{title:"Vinculação",size:"small",children:Ve.jsxDEV(U.Item,{name:"TenantLayer",label:"Tenant Layer",rules:[{required:!0}],children:Ve.jsxDEV(te,{options:l,optionFilterProp:"label",showSearch:!0,style:{borderRadius:8},disabled:!!t},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:195,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:194,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:193,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:171,columnNumber:9},this),Ve.jsxDEV(z,{style:{marginTop:16,display:"flex",justifyContent:"flex-end",width:"100%"},children:[Ve.jsxDEV(J,{onClick:a,icon:Ve.jsxDEV(ie,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:207,columnNumber:44},this),children:"CANCELAR"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:207,columnNumber:11},this),Ve.jsxDEV(J,{type:"primary",onClick:E,loading:o,icon:Ve.jsxDEV(re,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:208,columnNumber:77},this),children:"SALVAR"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:206,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:170,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/AtivistasModal.tsx",lineNumber:131,columnNumber:5},this)}function la(){const[e,t]=r.useState([]),[a,s]=r.useState(!1),[i,o]=r.useState(!1),[n,l]=r.useState(null),[c,m]=r.useState([]),[u,d]=r.useState({}),[p,h]=r.useState([]),N=Ue(),{user:b}=Ct(),g=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:20,columnNumber:65},this),Ve.jsxDEV("path",{d:"M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:20,columnNumber:144},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:20,columnNumber:5},this),f=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M6 7h12M9 7v10m6-10v10M4 7h16l-1 14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2L4 7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:23,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:23,columnNumber:5},this),A=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M3 4h6v16H3V4zm12 0h6v16h-6V4z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:26,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:26,columnNumber:5},this),x=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"2"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:30,columnNumber:7},this),Ve.jsxDEV("path",{d:"M4 20c0-3.866 3.582-7 8-7s8 3.134 8 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:31,columnNumber:7},this),Ve.jsxDEV("path",{d:"M18 6h3M19.5 4.5v3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:32,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:29,columnNumber:5},this),E=async()=>{try{s(!0);const e=await N.getAtivistasSchema(),a=["id","nome","tipo_apoio","area_atuacao","TenantLayer","DataCadastro"],i={};for(const t of e.columns||[])i[t.name]=t;const r=a.filter(e=>i[e]).map(e=>i[e]),o=(e.columns||[]).filter(e=>!a.includes(e.name));m([...r,...o]);const n=(await N.getAtivistas()).rows||[];t(n);const l={};for(const t of a)i[t]&&(l[t]=!0);for(const t of o)l[t.name]=!1;const c=`ativistas.columns.visible.${b?.usuario||"default"}`,u=localStorage.getItem(c);d(u?JSON.parse(u):l);const p=`ativistas.columns.order.${b?.usuario||"default"}`,g=localStorage.getItem(p);h(g?JSON.parse(g):a.filter(e=>i[e]))}catch(e){H.error(e?.response?.data?.detail||"Erro ao carregar ativistas")}finally{s(!1)}};r.useEffect(()=>{E()},[]);const v=c.map(t=>{const a=t.name,s=Array.from(new Set((e||[]).map(e=>e[a]).filter(e=>null!=e))).slice(0,20).map(e=>({text:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase(),value:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase()})),i=(t.type||"").toLowerCase(),r=new Set(["id","TenantLayer","DataCadastro","DataUpdate"]),o={title:{id:"ID",nome:"NOME",tipo_apoio:"TIPO DE APOIO",area_atuacao:"ÁREA DE ATUAÇÃO",TenantLayer:"TENANT LAYER",DataCadastro:"DATA CADASTRO",DataUpdate:"DATA ATUALIZAÇÃO"}[a]||a.toUpperCase(),dataIndex:a,align:r.has(a)?"center":"left",filters:s,onFilter:(e,t)=>String(t[a]).toUpperCase()===String(e).toUpperCase(),sorter:(e,t)=>{const s=e[a],r=t[a];if(null==s)return-1;if(null==r)return 1;if(Array.isArray(s)||Array.isArray(r)){const e=Array.isArray(s)?s.join(", "):String(s),t=Array.isArray(r)?r.join(", "):String(r);return e.toUpperCase().localeCompare(t.toUpperCase())}return i.includes("int")||i.includes("numeric")?Number(s)-Number(r):i.includes("date")||i.includes("timestamp")?new Date(s).getTime()-new Date(r).getTime():String(s).toUpperCase().localeCompare(String(r).toUpperCase())},sortDirections:["ascend","descend"],render:e=>{if("boolean"==typeof e)return e?"SIM":"NÃO";if(null==e)return"";if(Array.isArray(e))return e.map(e=>String(e).toUpperCase()).join(" | ");const t=new Set(["DataUpdate"]);if(i.includes("date")||i.includes("timestamp")){const s=new Date(e);if(!isNaN(s.getTime())){if("DataCadastro"===a)return s.toLocaleString("pt-BR",{hour12:!1});if(t.has(a))return s.toLocaleTimeString("pt-BR",{hour12:!1})}}return String(e).toUpperCase()},onHeaderCell:()=>({draggable:!0,onDragStart:e=>{e.dataTransfer.setData("text/plain",a)},onDragOver:e=>{e.preventDefault()},onDrop:e=>{const t=e.dataTransfer.getData("text/plain"),s=a;t&&t!==s&&h(e=>{const a=e.filter(e=>e!==t),i=a.indexOf(s);if(-1===i)return e;a.splice(i,0,t);const r=`ativistas.columns.order.${b?.usuario||"default"}`;return localStorage.setItem(r,JSON.stringify(a)),a})}})};return"id"===a&&(o.defaultSortOrder="ascend"),o}),O={title:"AÇÕES",dataIndex:"__actions__",render:(e,t)=>Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"text",icon:Ve.jsxDEV(g,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:161,columnNumber:35},this),title:"EDITAR",onClick:()=>{l(t),o(!0)}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:161,columnNumber:9},this),Ve.jsxDEV(J,{type:"text",danger:!0,icon:Ve.jsxDEV(f,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:162,columnNumber:42},this),title:"DELETAR",onClick:async()=>{try{if(!t.id)return void H.info("REGISTRO SEM ID");await N.deleteAtivista(t.id),H.success("ATIVISTA DELETADO"),await E()}catch(e){H.error(e?.response?.data?.detail||"ERRO AO DELETAR ATIVISTA")}}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:160,columnNumber:7},this)},P=(p.length?p:v.map(e=>e.dataIndex)).map(e=>v.find(t=>t.dataIndex===e)).filter(Boolean).filter(e=>u[e.dataIndex]).concat([O]),D=Ve.jsxDEV("div",{style:{padding:12},children:c.map(e=>Ve.jsxDEV("div",{style:{marginBottom:6},children:Ve.jsxDEV(ae,{checked:!!u[e.name],onChange:t=>{const a={...u,[e.name]:t.target.checked};d(a);const s=`ativistas.columns.visible.${b?.usuario||"default"}`;localStorage.setItem(s,JSON.stringify(a))},children:(e.name||"").toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:187,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:186,columnNumber:9},this))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:184,columnNumber:5},this);return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12},children:Ve.jsxDEV(z,{children:[Ve.jsxDEV(I,{placement:"bottomRight",trigger:["click"],menu:{items:[]},popupRender:()=>D,children:Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(A,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:207,columnNumber:42},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},title:"VISUALIZAÇÃO DE COLUNAS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:207,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:206,columnNumber:11},this),Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(x,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:209,columnNumber:40},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},onClick:()=>{l(null),o(!0)},title:"NOVO ATIVISTA"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:205,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:204,columnNumber:7},this),Ve.jsxDEV("style",{children:"\n        .ativistas-table .ant-table-thead > tr > th{ background:#FFD700; color:#000; font-family: 'Arimo', Arial, sans-serif; }\n        .ativistas-table .ant-table-thead > tr > th .ant-table-column-title{ display:flex; justify-content:center; align-items:center; text-align:center; }\n        .ativistas-table .ant-table-tbody > tr > td{ font-family: 'Roboto Condensed', Arial, sans-serif; padding:2px 6px; line-height:0.95; height:22px; }\n      "},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:212,columnNumber:7},this),Ve.jsxDEV(se,{loading:a,dataSource:e,columns:P,rowKey:e=>e.id??JSON.stringify(e),bordered:!0,size:"small",className:"ant-table-striped ativistas-table"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:217,columnNumber:7},this),Ve.jsxDEV(na,{open:i,initial:n||void 0,onCancel:()=>o(!1),onSaved:async()=>{o(!1),await E()}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:226,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Ativistas.tsx",lineNumber:202,columnNumber:5},this)}function ca({open:e,initial:t,onCancel:a,onSaved:s}){const[i]=U.useForm(),[o,n]=r.useState([]),[l,c]=r.useState([]),[m,u]=r.useState([]),[d,p]=r.useState([]),[h,g]=r.useState([]),[f,A]=r.useState([]),[x,E]=r.useState({}),[T,O]=r.useState({}),[P,D]=r.useState([]),S=Ue(),{message:C}=Y.useApp(),y=r.useRef(null),[j,V]=r.useState(null),[w,I]=r.useState(void 0),{user:_}=Ct(),M=r.useMemo(()=>{const e=_?.login_time;if(!e)return null;const t=N(e);if(b(t))return t;const a=new Date(e);return isNaN(a.getTime())?null:a},[_]),[B,W]=r.useState(""),H=M?v(M,"dd/MM/yyyy HH:mm",{locale:It}):"",q=String(localStorage.getItem("tenantSlug")||"captar"),Q=String(localStorage.getItem("tenantName")||"CAPTAR");r.useEffect(()=>{const e=()=>{if(!M)return void W("");const e=Date.now()-M.getTime(),t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3),i=String(t).padStart(2,"0"),r=String(a).padStart(2,"0"),o=String(s).padStart(2,"0");W(`${i}:${r}:${o}`)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[M]);const ee=e=>{const t=e?.target?.value;return"string"==typeof t?t.toUpperCase():t},se=e=>{const t=e?.target?.value;return"string"==typeof t?t.toLowerCase():t};r.useEffect(()=>{if(e){(async()=>{try{const e=(await S.getUsuariosSchema()).columns||[],t=new Set(e.map(e=>e.name)),a=["Coordenador","Supervisor","Ativista"].filter(e=>!t.has(e)).map(e=>({name:e,type:"varchar",nullable:!0}));n([...e,...a]),c(e.map(e=>e.name))}catch{}})(),(async()=>{try{const e=((await S.listPerfil()).rows||[]).map(e=>({label:e.Perfil??e.perfil,value:String(e.Perfil??e.perfil)}));u(e)}catch{}})(),(async()=>{try{const e=((await S.listFuncoes()).rows||[]).map(e=>({label:e.Funcao??e.Descricao??"",value:String(e.Funcao??e.Descricao??"")}));p(e)}catch{}})(),(async()=>{try{const e=(await S.listCoordenadores()).rows||[];g(e.map(e=>({label:e.Nome??e.nome,value:String(e.Nome??e.nome)})));const t={};for(const a of e){const e=a.Nome??a.nome,s=String(a.TenantLayer??a.NomeTenant??a.nomeTenant??"CAPTAR");void 0!==e&&(t[String(e)]=s)}E(t)}catch{}})(),(async()=>{try{const e=((await S.listTenants()).rows||[]).map(e=>({label:e.Nome??e.nome,value:String(e.Nome??e.nome),slug:e.Slug??e.slug}));D(e);const a=localStorage.getItem("tenantSlug")||"captar",s=e.find(e=>(e.slug||"").toLowerCase()===a.toLowerCase());s&&!t&&i.setFieldValue("TenantLayer",s.value)}catch{}})(),t?i.setFieldsValue(t):i.resetFields();try{const e=i.getFieldValue("ImagemUploadDataUrl");I(e||t?.Imagem)}catch{}}},[e,t]);const de=U.useWatch("Funcao",i),pe=U.useWatch("Coordenador",i),he=U.useWatch("TenantLayer",i);r.useEffect(()=>{const e=String(de||"").toUpperCase().trim();"ADMINISTRADOR"===e||"COORDENADOR"===e?(i.setFieldValue("Coordenador",i.getFieldValue("Nome")),i.setFieldValue("Supervisor","NAO SE APLICA"),i.setFieldValue("Ativista","NAO SE APLICA")):"SUPERVISOR"===e&&(i.setFieldValue("Supervisor",i.getFieldValue("Nome")),i.setFieldValue("Ativista","NAO SE APLICA"))},[de]),r.useEffect(()=>{const e=String(de||"").toUpperCase().trim();"SUPERVISOR"!==e&&"ATIVISTA"!==e||!pe?A([]):(async()=>{try{const e=(await S.listSupervisores(String(pe))).rows||[];A(e.map(e=>({label:e.Nome??e.nome,value:String(e.Nome??e.nome)})));const t={};for(const a of e){const e=a.Nome??a.nome,s=String(a.TenantLayer??a.NomeTenant??a.nomeTenant??"CAPTAR");void 0!==e&&(t[String(e)]=s)}O(t)}catch{}})()},[pe,de]);const Ne=e=>{const a=new Set(["DataCadastro","Cadastrante","DataUpdate","TipoUpdate","CadastranteUpdate","UltimoAcesso","TokenRecuperacao","TokenExpiracao","Candidato","UsuarioUpdate","IdTenant"]);if("IdUsuario"===e.name)return null;if("IdPerfil"===e.name)return null;if("IdTenant"===e.name)return null;if(a.has(e.name))return null;const s=!e.nullable,r=e.type.toLowerCase();if("Perfil"===e.name)return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(te,{options:m,optionFilterProp:"label",showSearch:!0,style:{borderRadius:8},suffixIcon:Ve.jsxDEV(ne,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:354,columnNumber:119},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:354,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:353,columnNumber:9},this);if("TenantLayer"===e.name){const a=!!!t?.IdUsuario;return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:!0}],children:Ve.jsxDEV(te,{options:P,optionFilterProp:"label",showSearch:!0,style:{borderRadius:8},disabled:a},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:363,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:362,columnNumber:9},this)}if("Funcao"===e.name)return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(te,{options:d,optionFilterProp:"label",showSearch:!0,style:{borderRadius:8},suffixIcon:Ve.jsxDEV(le,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:381,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:376,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:375,columnNumber:9},this);if("Coordenador"===e.name){const t=String(de||"").toUpperCase().trim(),a="ADMINISTRADOR"===t||"COORDENADOR"===t,s=String(he||"").trim(),i=s&&"CAPTAR"!==s.toUpperCase()?h.filter(e=>String(x[e.value]||"").toUpperCase()===s.toUpperCase()):h;return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:"ADMINISTRADOR"!==t&&"COORDENADOR"!==t}],children:Ve.jsxDEV(te,{options:i,optionFilterProp:"label",showSearch:!0,style:{borderRadius:8},disabled:a},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:395,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:394,columnNumber:9},this)}if("Supervisor"===e.name){const t=String(de||"").toUpperCase().trim(),a="ADMINISTRADOR"===t||"COORDENADOR"===t,s="ATIVISTA"===t,i=String(he||"").trim(),r=i&&"CAPTAR"!==i.toUpperCase()?f.filter(e=>String(T[e.value]||"").toUpperCase()===i.toUpperCase()):f;return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(te,{options:r,optionFilterProp:"label",showSearch:!0,style:{borderRadius:8},disabled:a},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:409,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:408,columnNumber:9},this)}if("Ativista"===e.name)return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,children:Ve.jsxDEV(L,{style:{borderRadius:8},disabled:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:416,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:415,columnNumber:9},this);if("Senha"===e.name)return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(L.Password,{style:{borderRadius:8},prefix:Ve.jsxDEV($,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:423,columnNumber:63},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:423,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:422,columnNumber:9},this);if(r.includes("boolean"))return Ve.jsxDEV(U.Item,{name:e.name,valuePropName:"checked",label:e.name,children:Ve.jsxDEV(ae,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:430,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:429,columnNumber:9},this);if(r.includes("date")){const t=r.includes("timestamp");return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(Z,{style:{width:"100%",borderRadius:8},showTime:t},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:438,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:437,columnNumber:9},this)}return r.includes("int")||r.includes("numeric")?Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(ce,{style:{width:"100%",borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:445,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:444,columnNumber:9},this):"Celular"===e.name?Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(L,{style:{borderRadius:8},prefix:Ve.jsxDEV(X,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:452,columnNumber:54},this),maxLength:15,onChange:t=>{const a=(e=>{const t=(e||"").replace(/\D/g,"").slice(0,11);if(t.length<=2)return`(${t}`;const a=t.slice(0,2),s=t.slice(2),i="9"===s[0]?s:"9"+s,r=i.slice(0,5),o=i.slice(5,9);return r?o?`(${a}) ${r}-${o}`:`(${a}) ${r}`:`(${a})`})(t.target.value);i.setFieldsValue({[e.name]:a})}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:452,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:451,columnNumber:9},this):"Nome"===e.name?Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],getValueFromEvent:ee,children:Ve.jsxDEV(L,{style:{borderRadius:8},prefix:Ve.jsxDEV(R,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:462,columnNumber:54},this),maxLength:"number"==typeof e.maxLength?e.maxLength:void 0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:462,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:461,columnNumber:9},this):"CPF"===e.name?Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],children:Ve.jsxDEV(L,{style:{borderRadius:8},prefix:Ve.jsxDEV(G,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:469,columnNumber:54},this),maxLength:"number"==typeof e.maxLength?e.maxLength:14,onChange:t=>{const a=(e=>{const t=(e||"").replace(/\D/g,"").slice(0,11),a=t.slice(0,3),s=t.slice(3,6),i=t.slice(6,9),r=t.slice(9,11);let o=a;return s&&(o+=`.${s}`),i&&(o+=`.${i}`),r&&(o+=`-${r}`),o})(t.target.value);i.setFieldsValue({[e.name]:a})}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:469,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:468,columnNumber:9},this):"Email"===e.name?Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],getValueFromEvent:se,children:Ve.jsxDEV(L,{style:{borderRadius:8},prefix:Ve.jsxDEV(me,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:479,columnNumber:54},this),maxLength:"number"==typeof e.maxLength?e.maxLength:void 0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:479,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:478,columnNumber:9},this):"Usuario"===e.name?Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],getValueFromEvent:ee,children:Ve.jsxDEV(L,{style:{borderRadius:8},prefix:Ve.jsxDEV(ue,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:486,columnNumber:54},this),maxLength:"number"==typeof e.maxLength?e.maxLength:void 0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:486,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:485,columnNumber:9},this):"Imagem"===e.name?null:Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:s}],getValueFromEvent:ee,children:Ve.jsxDEV(L,{style:{borderRadius:8},maxLength:"number"==typeof e.maxLength?e.maxLength:void 0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:493,columnNumber:9},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:492,columnNumber:7},this)};return Ve.jsxDEV(F,{open:e,title:Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Ve.jsxDEV("div",{className:"navbar-logo",style:{display:"flex",alignItems:"center",gap:8},children:[Ve.jsxDEV("img",{src:yt,alt:"CAPTAR",style:{height:110,backgroundColor:"#ffffff",borderRadius:8,padding:6}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:504,columnNumber:13},this),Ve.jsxDEV("div",{style:{fontSize:12},children:["TENANT: ",Ve.jsxDEV("strong",{style:{color:"#333"},children:String(Q||q).toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:506,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:505,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:503,columnNumber:11},this),Ve.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:12},children:[Ve.jsxDEV("div",{style:{textAlign:"right"},children:[Ve.jsxDEV("div",{style:{fontWeight:700},children:_?.usuario?String(_?.usuario).toUpperCase():String(_?.nome||"").toUpperCase()||"USUÁRIO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:511,columnNumber:15},this),Ve.jsxDEV("div",{style:{fontSize:12},children:`FUNÇÃO: ${String(_?.funcao||"").toUpperCase()} | PERFIL: ${String(_?.perfil||"").toUpperCase()}`},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:514,columnNumber:15},this),Ve.jsxDEV("div",{style:{fontSize:12},children:`LOGIN: ${H||"--"} | TEMPO CONECTADO: ${B||"--:--:--"}`},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:517,columnNumber:15},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:510,columnNumber:13},this),Ve.jsxDEV(k,{size:"large"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:521,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:509,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:502,columnNumber:9},this),onCancel:a,footer:null,destroyOnHidden:!0,width:980,closable:!1,maskClosable:!1,className:"usuarios-modal",children:[Ve.jsxDEV("style",{children:".usuarios-modal .ant-modal-header{ border-bottom: 1px solid #e8e8e8; } .usuarios-modal .ant-modal-content{ border-radius: 0 !important; } .usuarios-modal .ant-form-item{ margin-bottom:6px; }"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:533,columnNumber:7},this),Ve.jsxDEV(U,{form:i,layout:"vertical",children:[Ve.jsxDEV("div",{style:{display:"grid",gap:16},children:(()=>{const e={};for(const a of o)e[a.name]=a;const t=["Funcao","Perfil","Usuario","Senha","Coordenador","Supervisor","Ativista"].filter(t=>e[t]);return Ve.jsxDEV(Ve.Fragment,{children:[Ve.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:16},children:[Ve.jsxDEV(K,{title:"Identificação",size:"small",children:Ve.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 160px",gap:6,alignItems:"end"},children:[e.CPF&&Ve.jsxDEV("div",{style:{width:"50%"},children:Ne(e.CPF)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:548,columnNumber:25},this),e.Ativo&&Ve.jsxDEV(U.Item,{name:"Ativo",label:"Ativo",valuePropName:"checked",style:{marginBottom:0},children:Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:552,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:551,columnNumber:25},this),e.Nome&&Ve.jsxDEV("div",{style:{gridColumn:"1 / span 2"},children:Ne(e.Nome)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:556,columnNumber:25},this),e.Celular&&Ve.jsxDEV("div",{style:{width:"50%"},children:Ne(e.Celular)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:559,columnNumber:25},this),e.Email&&Ve.jsxDEV("div",{style:{gridColumn:"1 / span 2"},children:Ne(e.Email)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:562,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:546,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:545,columnNumber:19},this),Ve.jsxDEV(K,{title:"Foto",size:"small",children:Ve.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[Ve.jsxDEV("div",{style:{display:"flex",gap:8},children:[Ve.jsxDEV(J,{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:!0});V(e),y.current&&(y.current.srcObject=e,await y.current.play())}catch{}},children:"Usar Webcam"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:569,columnNumber:25},this),Ve.jsxDEV(J,{onClick:()=>{const e=y.current;if(e){const t=document.createElement("canvas");t.width=e.videoWidth||640,t.height=e.videoHeight||480;const a=t.getContext("2d");if(a){a.drawImage(e,0,0,t.width,t.height);const s=t.toDataURL("image/jpeg",.92);i.setFieldsValue({ImagemUploadDataUrl:s}),I(s)}}},children:"Capturar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:579,columnNumber:25},this),Ve.jsxDEV(J,{onClick:()=>{j&&j.getTracks().forEach(e=>e.stop()),V(null)},children:"Encerrar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:594,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:568,columnNumber:23},this),Ve.jsxDEV("div",{children:Ve.jsxDEV("input",{type:"file",accept:"image/*,.webp",onChange:e=>{const t=e.target.files?.[0];if(t){i.setFieldsValue({ImagemUploadFile:t});const e=new FileReader;e.onload=()=>{const t=e.result;i.setFieldsValue({ImagemUploadDataUrl:t}),I(t)},e.readAsDataURL(t)}}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:600,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:599,columnNumber:23},this),Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"center"},children:j?Ve.jsxDEV("video",{ref:y,style:{width:"100%",maxWidth:360,borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:616,columnNumber:27},this):w?Ve.jsxDEV("img",{src:w,alt:"Preview",style:{width:"100%",maxWidth:360,borderRadius:8,background:"#f5f5f5"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:618,columnNumber:43},this):Ve.jsxDEV("div",{style:{width:360,height:240,background:"#fafafa",border:"1px dashed #ddd",borderRadius:8}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:618,columnNumber:168},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:614,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:567,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:566,columnNumber:19},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:544,columnNumber:17},this),Ve.jsxDEV(K,{title:"Acesso",size:"small",children:Ve.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16},children:t.map(t=>Ne(e[t]))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:625,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:624,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:543,columnNumber:15},this)})()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:535,columnNumber:9},this),Ve.jsxDEV(z,{style:{marginTop:16,display:"flex",justifyContent:"flex-end",width:"100%"},children:[Ve.jsxDEV(J,{onClick:a,icon:Ve.jsxDEV(ie,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:635,columnNumber:44},this),children:"CANCELAR"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:635,columnNumber:11},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const o=await i.validateFields();if(o.Funcao){const e=String(o.Funcao);o.Funcao=e}const n=String(o.Nome||"").trim(),c=String(o.Funcao||"").toUpperCase().trim();if("ADMINISTRADOR"===c||"COORDENADOR"===c)o.Coordenador=n,o.Supervisor="NAO SE APLICA",o.Ativista="NAO SE APLICA";else if("SUPERVISOR"===c){if(!String(o.Coordenador||"").trim())throw new Error("Coordenador é obrigatório");o.Supervisor=n,o.Ativista="NAO SE APLICA"}else if("ATIVISTA"===c){if(!String(o.Coordenador||"").trim())throw new Error("Coordenador é obrigatório");if(!String(o.Supervisor||"").trim())throw new Error("Supervisor é obrigatório");o.Ativista=n}if("string"==typeof o.Celular){const e=String(o.Celular);o.Celular=e.length>15?e.slice(0,15):e}const m=async()=>{const e=new Set([...l]);e.delete("IdTenant");const a={};for(const t of Object.keys(o))e.has(t)&&(a[t]=o[t]);if(t?.IdUsuario){const e=await S.updateUsuario(t.IdUsuario,a);return C.success("Usuário atualizado"),e.id}{const e=await S.createUsuario(a);return C.success("Usuário criado"),e.id}},u=String(localStorage.getItem("tenantName")||"CAPTAR"),d=String(o.TenantLayer||u);if("CAPTAR"===String(u).toUpperCase()){const e=String(o.Coordenador||"").trim(),t=String(o.Supervisor||"").trim();if(e){const t=String(x[e]||d);if(t&&d&&t.toUpperCase()!==d.toUpperCase())return void C.error("Não é possível vincular: Tenants diferentes")}if(t){const e=String(T[t]||d);if(e&&d&&e.toUpperCase()!==d.toUpperCase())return void C.error("Não é possível vincular: Tenants diferentes")}}try{const e=(await S.listTenants()).rows||[],t=String(o.TenantLayer||d);(e.find(e=>String(e.Nome??e.nome).toUpperCase()===t.toUpperCase())||e.find(e=>String(e.Slug??e.slug).toUpperCase()===String(localStorage.getItem("tenantSlug")||"captar").toUpperCase()))&&delete o.IdTenant}catch{}try{const t=await m();if(i.getFieldValue("ImagemUploadFile")||i.getFieldValue("ImagemUploadDataUrl")){const s=i.getFieldValue("ImagemUploadFile"),r=i.getFieldValue("ImagemUploadDataUrl");try{await S.uploadUsuarioFoto(t,{file:s,data_url:r}),r&&I(r)}catch{try{if(s&&"image/webp"===s.type||r&&String(r).startsWith("data:image/webp")){const i=r||(s?await(a=s,new Promise((e,t)=>{const s=new FileReader;s.onload=()=>e(String(s.result||"")),s.onerror=e=>t(e),s.readAsDataURL(a)})):void 0);if(i){const a=await(e=i,new Promise((t,a)=>{const s=new Image;s.onload=()=>{const a=document.createElement("canvas");a.width=s.width||640,a.height=s.height||480;const i=a.getContext("2d");if(i){i.drawImage(s,0,0);try{const e=a.toDataURL("image/jpeg",.92);t(e)}catch(r){t(e)}}else t(e)},s.onerror=e=>a(e),s.src=e}));await S.uploadUsuarioFoto(t,{data_url:a}),I(a)}}}catch{}}}}catch(r){const e=r?.response?.data?.detail||"";if(!o.Celular||"string"!=typeof o.Celular||!e.includes("character varying(15)")){const e=r?.response?.data?.detail||r?.message||"Falha ao salvar usuário";throw C.error(e),r}o.Celular=o.Celular.replace(" ",""),await m(),C.warning("Celular ajustado para caber no limite atual do banco")}s()}catch{}var e,a},icon:Ve.jsxDEV(re,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:636,columnNumber:59},this),children:"SALVAR"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:636,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:634,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:534,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/UsuariosModal.tsx",lineNumber:499,columnNumber:5},this)}function ma(){const[e,t]=r.useState([]),[a,s]=r.useState(!1),[i,o]=r.useState(!1),[n,l]=r.useState(null),[c,m]=r.useState([]),[u,d]=r.useState({}),[p,h]=r.useState([]),N=Ue(),{user:b}=Ct(),g=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:20,columnNumber:65},this),Ve.jsxDEV("path",{d:"M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:20,columnNumber:144},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:20,columnNumber:5},this),f=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M6 7h12M9 7v10m6-10v10M4 7h16l-1 14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2L4 7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:23,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:23,columnNumber:5},this),A=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M3 4h6v16H3V4zm12 0h6v16h-6V4z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:26,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:26,columnNumber:5},this),x=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"2"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:30,columnNumber:7},this),Ve.jsxDEV("path",{d:"M4 20c0-3.866 3.582-7 8-7s8 3.134 8 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:31,columnNumber:7},this),Ve.jsxDEV("path",{d:"M18 6h3M19.5 4.5v3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:32,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:29,columnNumber:5},this),E=async()=>{try{s(!0);const e=await N.getUsuariosSchema(),a=["IdUsuario","Nome","CPF","Usuario","Funcao","Perfil","Email","DataCadastro","Cadastrante","TenantLayer","Ativo"],i={};for(const t of e.columns||[])i[t.name]=t;const r=a.filter(e=>i[e]).map(e=>i[e]),o=(e.columns||[]).filter(e=>!a.includes(e.name));m([...r,...o]);let n=(await N.listUsuarios()).rows||[];try{const e=(await N.listPerfil()).rows||[],t=e=>e.IdPerfil??e.id??e.Id??e.ID,a=e=>e.Perfil??e.perfil,s=new Map;for(const o of e){const e=t(o),i=a(o);void 0!==e&&void 0!==i&&s.set(Number(e),String(i))}const i=(await N.listFuncoes()).rows||[],r=new Map;for(const o of i){const e=o.IdFuncao??o.id??o.Id??o.ID,t=o.Funcao??o.Descricao;void 0!==e&&void 0!==t&&r.set(Number(e),String(t))}n=n.map(e=>{const t=e.IdPerfil??e.idPerfil??e.id_perfil,a=void 0!==t?s.get(Number(t)):e.Perfil??e.perfil,i=e.IdFuncao??e.idFuncao??e.id_funcao;let o=void 0!==i?r.get(Number(i)):void 0;if(!o){const t=e.Funcao,a=Number(t);o=!isNaN(a)&&String(a)===String(t)?r.get(a):t}return{...e,Perfil:a??e.Perfil,Funcao:o??e.Funcao}})}catch{}t(n);const l={};for(const t of a)i[t]&&(l[t]=!0);for(const t of o)l[t.name]=!1;i.IdPerfil&&(l.IdPerfil=!1);const c=`usuarios.columns.visible.${b?.usuario||"default"}`,u=localStorage.getItem(c);d(u?JSON.parse(u):l);const p=`usuarios.columns.order.${b?.usuario||"default"}`,g=localStorage.getItem(p);h(g?JSON.parse(g):a.filter(e=>i[e]))}catch(e){H.error(e?.response?.data?.detail||"Erro ao carregar usuários")}finally{s(!1)}};r.useEffect(()=>{E()},[]);const v=c.map(t=>{const a=t.name,s=Array.from(new Set((e||[]).map(e=>e[a]).filter(e=>null!=e))).slice(0,20).map(e=>({text:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase(),value:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase()})),i=(t.type||"").toLowerCase(),r=new Set(["IdUsuario","Ativo","CPF","Funcao","Perfil","DataCadastro","TenantLayer","DataUpdate","UltimoAcesso","TokenExpiracao"]),o={title:{IdUsuario:"ID",Nome:"NOME",CPF:"CPF",Usuario:"USUÁRIO",Funcao:"FUNÇÃO",Perfil:"PERFIL",Email:"EMAIL",DataCadastro:"DATA E HORA DE CADASTRO",Cadastrante:"CADASTRANTE",TenantLayer:"TENANT LAYER",Ativo:"ATIVO"}[a]||a.toUpperCase(),dataIndex:a,align:r.has(a)?"center":"left",filters:s,onFilter:(e,t)=>String(t[a]).toUpperCase()===String(e).toUpperCase(),sorter:(e,t)=>{const s=e[a],r=t[a];if(null==s)return-1;if(null==r)return 1;if(Array.isArray(s)||Array.isArray(r)){const e=Array.isArray(s)?s.join(", "):String(s),t=Array.isArray(r)?r.join(", "):String(r);return e.toUpperCase().localeCompare(t.toUpperCase())}return i.includes("int")||i.includes("numeric")?Number(s)-Number(r):i.includes("date")||i.includes("timestamp")?new Date(s).getTime()-new Date(r).getTime():String(s).toUpperCase().localeCompare(String(r).toUpperCase())},sortDirections:["ascend","descend"],render:e=>{if("boolean"==typeof e)return e?"SIM":"NÃO";if(null==e)return"";if(Array.isArray(e))return e.map(e=>String(e).toUpperCase()).join(" | ");const t=new Set(["DataUpdate","UltimoAcesso","TokenExpiracao"]);if(i.includes("date")||i.includes("timestamp")){const s=new Date(e);if(!isNaN(s.getTime())){if("DataCadastro"===a)return s.toLocaleString("pt-BR",{hour12:!1});if(t.has(a))return s.toLocaleTimeString("pt-BR",{hour12:!1})}}if("Ativo"===a){const t="true"===String(e).toLowerCase()||1===e||"SIM"===String(e).toUpperCase();return Ve.jsxDEV(B,{color:t?"green":"red",children:t?"SIM":"NÃO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:172,columnNumber:18},this)}return"Email"===a?String(e).toLowerCase():String(e).toUpperCase()},onHeaderCell:()=>({draggable:!0,onDragStart:e=>{e.dataTransfer.setData("text/plain",a)},onDragOver:e=>{e.preventDefault()},onDrop:e=>{const t=e.dataTransfer.getData("text/plain"),s=a;t&&t!==s&&h(e=>{const a=e.filter(e=>e!==t),i=a.indexOf(s);if(-1===i)return e;a.splice(i,0,t);const r=`usuarios.columns.order.${b?.usuario||"default"}`;return localStorage.setItem(r,JSON.stringify(a)),a})}})};return"IdUsuario"===a&&(o.defaultSortOrder="ascend"),o}),O={title:"AÇÕES",dataIndex:"__actions__",render:(e,t)=>Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"text",icon:Ve.jsxDEV(g,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:208,columnNumber:35},this),title:"EDITAR",onClick:()=>{l(t),o(!0)}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:208,columnNumber:9},this),Ve.jsxDEV(J,{type:"text",danger:!0,icon:Ve.jsxDEV(f,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:209,columnNumber:42},this),title:"DELETAR",onClick:async()=>{try{if(!t.IdUsuario)return void H.info("REGISTRO SEM ID");await N.deleteUsuario(t.IdUsuario),H.success("USUÁRIO DELETADO"),await E()}catch(e){H.error(e?.response?.data?.detail||"ERRO AO DELETAR USUÁRIO")}}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:209,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:207,columnNumber:7},this)},P=(p.length?p:v.map(e=>e.dataIndex)).map(e=>v.find(t=>t.dataIndex===e)).filter(Boolean).filter(e=>u[e.dataIndex]).concat([O]),D=Ve.jsxDEV("div",{style:{padding:12},children:c.map(e=>Ve.jsxDEV("div",{style:{marginBottom:6},children:Ve.jsxDEV(ae,{checked:!!u[e.name],onChange:t=>{const a={...u,[e.name]:t.target.checked};d(a);const s=`usuarios.columns.visible.${b?.usuario||"default"}`;localStorage.setItem(s,JSON.stringify(a))},children:e.name.toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:234,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:233,columnNumber:9},this))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:231,columnNumber:5},this);return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12},children:Ve.jsxDEV(z,{children:[Ve.jsxDEV(I,{placement:"bottomRight",trigger:["click"],menu:{items:[]},popupRender:()=>D,children:Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(A,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:254,columnNumber:42},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},title:"VISUALIZAÇÃO DE COLUNAS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:254,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:253,columnNumber:11},this),Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(x,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:256,columnNumber:40},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},onClick:()=>{l(null),o(!0)},title:"NOVO USUÁRIO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:252,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:251,columnNumber:7},this),Ve.jsxDEV("style",{children:"\n        .usuarios-table .ant-table-thead > tr > th{ background:#FFD700; color:#000; font-family: 'Arimo', Arial, sans-serif; }\n        .usuarios-table .ant-table-thead > tr > th .ant-table-column-title{ display:flex; justify-content:center; align-items:center; text-align:center; }\n        .usuarios-table .ant-table-tbody > tr > td{ font-family: 'Roboto Condensed', Arial, sans-serif; padding:2px 6px; line-height:0.95; height:22px; }\n      "},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:259,columnNumber:7},this),Ve.jsxDEV(se,{loading:a,dataSource:e,columns:P,rowKey:e=>e.IdUsuario??e.id??e.ID??e.id_usuario??JSON.stringify(e),bordered:!0,size:"small",className:"ant-table-striped usuarios-table"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:264,columnNumber:7},this),Ve.jsxDEV(ca,{open:i,initial:n||void 0,onCancel:()=>o(!1),onSaved:async()=>{o(!1),await E()}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:273,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Usuario.tsx",lineNumber:249,columnNumber:5},this)}function ua(){const[e,t]=r.useState([]),[a,s]=r.useState(!1),[i,o]=r.useState(!1),[n,l]=r.useState(null),[c]=U.useForm(),m=Ue();r.useEffect(()=>{u()},[]);const u=async()=>{try{s(!0);const e=await m.getPermissoes();t(e)}catch(e){H.error("Erro ao carregar permissões")}finally{s(!1)}},d=[{title:"PERFIL",dataIndex:"perfil",key:"perfil",sorter:(e,t)=>String(e.perfil).toUpperCase().localeCompare(String(t.perfil).toUpperCase()),sortDirections:["ascend","descend"]},{title:"DESCRIÇÃO",dataIndex:"descricao",key:"descricao",sorter:(e,t)=>String(e.descricao).toUpperCase().localeCompare(String(t.descricao).toUpperCase()),sortDirections:["ascend","descend"]},{title:"AÇÕES",key:"actions",render:(e,t)=>Ve.jsxDEV(z,{children:Ve.jsxDEV(J,{type:"text",onClick:()=>(e=>{l(e.id),c.setFieldsValue(e),o(!0)})(t),children:"✎"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:76,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:75,columnNumber:9},this)}];return Ve.jsxDEV("div",{style:{padding:"24px"},children:[Ve.jsxDEV(se,{columns:d,dataSource:e,loading:a,rowKey:"id",pagination:{pageSize:10}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:87,columnNumber:9},this),Ve.jsxDEV(F,{title:n?"Editar Permissão":"Nova Permissão",open:i,onOk:()=>c.submit(),onCancel:()=>o(!1),width:800,children:Ve.jsxDEV(U,{form:c,layout:"vertical",onFinish:async e=>{try{n&&(await m.updatePermissao(e.perfil,e),H.success("Permissão atualizada com sucesso")),o(!1),u()}catch(t){H.error("Erro ao salvar permissão")}},children:[Ve.jsxDEV(U.Item,{name:"perfil",label:"Perfil",rules:[{required:!0}],children:Ve.jsxDEV("input",{disabled:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:104,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:103,columnNumber:13},this),Ve.jsxDEV(U.Item,{name:"descricao",label:"Descrição",children:Ve.jsxDEV("input",{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:108,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:107,columnNumber:13},this),Ve.jsxDEV(de,{gutter:16,children:[Ve.jsxDEV(pe,{span:12,children:Ve.jsxDEV(K,{title:"Eleitores",children:[Ve.jsxDEV(U.Item,{name:"pode_criar_eleitor",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:115,columnNumber:21},this)," Criar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:114,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_editar_eleitor",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:118,columnNumber:21},this)," Editar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:117,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_deletar_eleitor",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:121,columnNumber:21},this)," Deletar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:120,columnNumber:19},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:113,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:112,columnNumber:15},this),Ve.jsxDEV(pe,{span:12,children:Ve.jsxDEV(K,{title:"Ativistas",children:[Ve.jsxDEV(U.Item,{name:"pode_criar_ativista",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:129,columnNumber:21},this)," Criar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:128,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_editar_ativista",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:132,columnNumber:21},this)," Editar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:131,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_deletar_ativista",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:135,columnNumber:21},this)," Deletar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:134,columnNumber:19},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:127,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:111,columnNumber:13},this),Ve.jsxDEV(de,{gutter:16,children:[Ve.jsxDEV(pe,{span:12,children:Ve.jsxDEV(K,{title:"Usuários",children:[Ve.jsxDEV(U.Item,{name:"pode_criar_usuario",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:145,columnNumber:21},this)," Criar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:144,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_editar_usuario",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:148,columnNumber:21},this)," Editar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:147,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_deletar_usuario",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:151,columnNumber:21},this)," Deletar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:150,columnNumber:19},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:143,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:142,columnNumber:15},this),Ve.jsxDEV(pe,{span:12,children:Ve.jsxDEV(K,{title:"Sistema",children:[Ve.jsxDEV(U.Item,{name:"pode_enviar_disparos",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:159,columnNumber:21},this)," Disparos"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:158,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_ver_relatorios",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:162,columnNumber:21},this)," Relatórios"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:161,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_exportar_dados",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:165,columnNumber:21},this)," Exportar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:164,columnNumber:19},this),Ve.jsxDEV(U.Item,{name:"pode_importar_dados",valuePropName:"checked",children:[Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:168,columnNumber:21},this)," Importar"]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:167,columnNumber:19},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:157,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:102,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:95,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Permissoes.tsx",lineNumber:85,columnNumber:5},this)}const da=()=>{const[e]=U.useForm(),[t,a]=r.useState(!1),[s,i]=r.useState([]),[o,n]=r.useState({current:1,pageSize:10,total:0}),l=[{title:"ID",dataIndex:"id",key:"id",width:80,sorter:(e,t)=>String(e.id).localeCompare(String(t.id)),sortDirections:["ascend","descend"]},{title:"NOME",dataIndex:"nome",key:"nome",width:150,sorter:(e,t)=>String(e.nome).toUpperCase().localeCompare(String(t.nome).toUpperCase()),sortDirections:["ascend","descend"]},{title:"TIPO",dataIndex:"tipo",key:"tipo",width:120,sorter:(e,t)=>String(e.tipo).toUpperCase().localeCompare(String(t.tipo).toUpperCase()),sortDirections:["ascend","descend"]},{title:"DATA",dataIndex:"data",key:"data",width:120,sorter:(e,t)=>new Date(e.data).getTime()-new Date(t.data).getTime(),sortDirections:["ascend","descend"]},{title:"STATUS",dataIndex:"status",key:"status",width:100,sorter:(e,t)=>String(e.status).toUpperCase().localeCompare(String(t.status).toUpperCase()),sortDirections:["ascend","descend"],render:e=>Ve.jsxDEV("span",{style:{color:{ativo:"green",inativo:"red",pendente:"orange"}[e]||"black"},children:String(e).toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:66,columnNumber:16},void 0)},{title:"RESULTADO",dataIndex:"resultado",key:"resultado",width:200,sorter:(e,t)=>String(e.resultado).toUpperCase().localeCompare(String(t.resultado).toUpperCase()),sortDirections:["ascend","descend"]}];return Ve.jsxDEV("div",{className:"consultas-container",children:Ve.jsxDEV(K,{title:"Consultas Avançadas",className:"consultas-card",children:[Ve.jsxDEV(U,{form:e,layout:"vertical",onFinish:async()=>{a(!0);try{const e=[{id:"1",nome:"Eleitor 1",tipo:"Eleitor",data:"2025-01-15",status:"ativo",resultado:"Encontrado"},{id:"2",nome:"Ativista 2",tipo:"Ativista",data:"2025-01-14",status:"ativo",resultado:"Encontrado"}];i(e),n({...o,total:e.length})}catch(e){console.error("Erro ao buscar:",e)}finally{a(!1)}},className:"consultas-form",children:[Ve.jsxDEV(de,{gutter:16,children:[Ve.jsxDEV(pe,{xs:24,sm:12,md:8,children:Ve.jsxDEV(U.Item,{label:"Buscar por",name:"searchType",initialValue:"nome",children:Ve.jsxDEV(te,{options:[{label:"Nome",value:"nome"},{label:"CPF",value:"cpf"},{label:"Email",value:"email"},{label:"Telefone",value:"telefone"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:135,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:130,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:129,columnNumber:13},void 0),Ve.jsxDEV(pe,{xs:24,sm:12,md:8,children:Ve.jsxDEV(U.Item,{label:"Valor",name:"searchValue",rules:[{required:!0,message:"Digite um valor"}],children:Ve.jsxDEV(L,{placeholder:"Digite o valor para buscar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:151,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:146,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:145,columnNumber:13},void 0),Ve.jsxDEV(pe,{xs:24,sm:12,md:8,children:Ve.jsxDEV(U.Item,{label:"Tipo",name:"tipo",initialValue:"todos",children:Ve.jsxDEV(te,{options:[{label:"Todos",value:"todos"},{label:"Eleitor",value:"eleitor"},{label:"Ativista",value:"ativista"},{label:"Usuário",value:"usuario"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:160,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:155,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:154,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:128,columnNumber:11},void 0),Ve.jsxDEV(de,{gutter:16,children:[Ve.jsxDEV(pe,{xs:24,sm:12,md:8,children:Ve.jsxDEV(U.Item,{label:"Data Inicial",name:"dataInicial",children:Ve.jsxDEV(Z,{style:{width:"100%"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:178,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:174,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:173,columnNumber:13},void 0),Ve.jsxDEV(pe,{xs:24,sm:12,md:8,children:Ve.jsxDEV(U.Item,{label:"Data Final",name:"dataFinal",children:Ve.jsxDEV(Z,{style:{width:"100%"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:186,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:182,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:181,columnNumber:13},void 0),Ve.jsxDEV(pe,{xs:24,sm:12,md:8,children:Ve.jsxDEV(U.Item,{label:"Status",name:"status",initialValue:"todos",children:Ve.jsxDEV(te,{options:[{label:"Todos",value:"todos"},{label:"Ativo",value:"ativo"},{label:"Inativo",value:"inativo"},{label:"Pendente",value:"pendente"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:195,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:190,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:189,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:172,columnNumber:11},void 0),Ve.jsxDEV(U.Item,{children:Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"primary",htmlType:"submit",icon:Ve.jsxDEV(he,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:212,columnNumber:23},void 0),loading:t,children:"Buscar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:209,columnNumber:15},void 0),Ve.jsxDEV(J,{icon:Ve.jsxDEV(Ne,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:218,columnNumber:23},void 0),onClick:()=>{e.resetFields(),i([])},children:"Limpar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:217,columnNumber:15},void 0),Ve.jsxDEV(J,{icon:Ve.jsxDEV(be,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:224,columnNumber:23},void 0),onClick:()=>{console.log("Exportando resultados...")},disabled:0===s.length,children:"Exportar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:223,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:208,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:207,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:122,columnNumber:9},void 0),Ve.jsxDEV(se,{columns:l,dataSource:s,loading:t,pagination:o,rowKey:"id",size:"middle",bordered:!0,className:"ant-table-striped"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:121,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Consultas.tsx",lineNumber:120,columnNumber:5},void 0)};function pa({open:e,initial:t,onCancel:a,onSaved:s}){const[i]=U.useForm(),[o,n]=r.useState([]),l=Ue();r.useEffect(()=>{e&&((async()=>{try{const e=await l.getPerfilSchema();n(e.columns||[])}catch{}})(),t?i.setFieldsValue(t):i.resetFields())},[e,t]);return Ve.jsxDEV(F,{open:e,title:t?.id?"Editar Perfil":"Novo Perfil",onCancel:a,footer:null,destroyOnHidden:!0,children:Ve.jsxDEV(U,{form:i,layout:"vertical",children:[o.map(e=>{if("IdPerfil"===e.name)return null;const t=!e.nullable,a=e.type.toLowerCase();if(a.includes("boolean"))return Ve.jsxDEV(U.Item,{name:e.name,valuePropName:"checked",label:e.name,children:Ve.jsxDEV(ae,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:52,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:51,columnNumber:9},this);if(a.includes("date")){const s=a.includes("timestamp");return Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:t}],children:Ve.jsxDEV(Z,{style:{width:"100%"},showTime:s},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:60,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:59,columnNumber:9},this)}return a.includes("int")||a.includes("numeric")?Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:t}],children:Ve.jsxDEV(ce,{style:{width:"100%"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:67,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:66,columnNumber:9},this):Ve.jsxDEV(U.Item,{name:e.name,label:e.name,rules:[{required:t}],children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:73,columnNumber:9},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:72,columnNumber:7},this)}),Ve.jsxDEV(z,{style:{marginTop:16},children:[Ve.jsxDEV(J,{onClick:a,children:"Cancelar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:83,columnNumber:11},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=await i.validateFields();t?.IdPerfil?(await l.updatePerfil(t.IdPerfil,e),H.success("Perfil atualizado")):(await l.createPerfil(e),H.success("Perfil criado")),s()}catch{}},children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:82,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:80,columnNumber:7},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/PerfilModal.tsx",lineNumber:79,columnNumber:5},this)}function ha(){const[e,t]=r.useState([]),[a,s]=r.useState(!1),[i,o]=r.useState(!1),[n,l]=r.useState(null),[c,m]=r.useState([]),[u,d]=r.useState({}),p=Ue(),h=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:19,columnNumber:65},this),Ve.jsxDEV("path",{d:"M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:19,columnNumber:144},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:19,columnNumber:5},this),N=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M6 7h12M9 7v10m6-10v10M4 7h16l-1 14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2L4 7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:22,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:22,columnNumber:5},this),b=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M3 4h6v16H3V4zm12 0h6v16h-6V4z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:25,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:25,columnNumber:5},this),g=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:28,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:28,columnNumber:5},this),f=async()=>{try{s(!0);const e=await p.getPerfilSchema();m(e.columns||[]);const a=await p.listPerfil();t(a.rows||[]);const i={};for(const t of e.columns||[])i[t.name]=!0;d(i)}catch(e){H.error(e?.response?.data?.detail||"Erro ao carregar perfil")}finally{s(!1)}};r.useEffect(()=>{f()},[]);const A={title:"AÇÕES",dataIndex:"__actions__",render:(e,t)=>Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"text",icon:Ve.jsxDEV(h,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:80,columnNumber:35},this),onClick:()=>{l(t),o(!0)}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:80,columnNumber:9},this),Ve.jsxDEV(J,{type:"text",danger:!0,icon:Ve.jsxDEV(N,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:81,columnNumber:42},this),onClick:async()=>{try{if(!t.IdPerfil)return void H.info("REGISTRO SEM ID");await p.deletePerfil(t.IdPerfil),H.success("PERFIL DELETADO"),await f()}catch(e){H.error(e?.response?.data?.detail||"ERRO AO DELETAR PERFIL")}}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:79,columnNumber:7},this)},x=c.map(t=>{const a=t.name,s=Array.from(new Set((e||[]).map(e=>e[a]).filter(e=>null!=e))).slice(0,20).map(e=>({text:String(e).toUpperCase(),value:String(e).toUpperCase()})),i=(t.type||"").toLowerCase();return{title:a.toUpperCase(),dataIndex:a,filters:s,onFilter:(e,t)=>String(t[a]).toUpperCase()===String(e).toUpperCase(),sorter:(e,t)=>{const s=e[a],r=t[a];return null==s?-1:null==r?1:i.includes("int")||i.includes("numeric")?Number(s)-Number(r):i.includes("date")||i.includes("timestamp")?new Date(s).getTime()-new Date(r).getTime():String(s).toUpperCase().localeCompare(String(r).toUpperCase())},sortDirections:["ascend","descend"],render:e=>"boolean"==typeof e?e?"SIM":"NÃO":null==e?"":String(e).toUpperCase()}}).filter(e=>u[e.dataIndex]).concat([A]),E=Ve.jsxDEV("div",{style:{padding:12},children:c.map(e=>Ve.jsxDEV("div",{style:{marginBottom:6},children:Ve.jsxDEV(ae,{checked:!!u[e.name],onChange:t=>d({...u,[e.name]:t.target.checked}),children:e.name},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:101,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:100,columnNumber:9},this))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:98,columnNumber:5},this);return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12},children:Ve.jsxDEV(z,{children:[Ve.jsxDEV(I,{placement:"bottomRight",trigger:["click"],menu:{items:[]},popupRender:()=>E,children:Ve.jsxDEV(J,{icon:Ve.jsxDEV(b,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:116,columnNumber:27},this),children:"COLUNAS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:115,columnNumber:11},this),Ve.jsxDEV(J,{type:"primary",icon:Ve.jsxDEV(g,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:118,columnNumber:40},this),onClick:()=>{l(null),o(!0)},children:"NOVO PERFIL"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:113,columnNumber:7},this),Ve.jsxDEV(se,{loading:a,dataSource:e,columns:x,rowKey:e=>e.IdPerfil||JSON.stringify(e),bordered:!0,size:"middle",className:"ant-table-striped"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:121,columnNumber:7},this),Ve.jsxDEV(pa,{open:i,initial:n||void 0,onCancel:()=>o(!1),onSaved:async()=>{o(!1),await f()}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:130,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Perfil.tsx",lineNumber:111,columnNumber:5},this)}function Na({open:e,initial:t,onCancel:a,onSaved:s}){const[i]=U.useForm(),o=Ue(),[n,l]=r.useState([]),{message:c}=Y.useApp();r.useEffect(()=>{e&&((async()=>{try{const e=await o.listPerfil();l(e.rows||[])}catch{}})(),t?i.setFieldsValue(t):i.resetFields())},[e,t]);return Ve.jsxDEV(F,{open:e,title:t?.IdFuncao?"Editar Função":"Nova Função",onCancel:a,footer:null,destroyOnHidden:!0,children:Ve.jsxDEV(U,{form:i,layout:"vertical",children:[Ve.jsxDEV(U.Item,{name:"Funcao",label:"Funcao",rules:[{required:!0}],children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:48,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"Perfil",label:"Perfil",rules:[{required:!0}],children:Ve.jsxDEV(te,{placeholder:"Selecione um perfil",showSearch:!0,options:(n||[]).map(e=>({label:e.Perfil??e.Nome??e.Descricao??String(e.IdPerfil??""),value:e.Perfil??String(e.IdPerfil??"")})),filterOption:(e,t)=>t?.label?.toLowerCase().includes(e.toLowerCase())},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:51,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"Cadastrante",label:"Cadastrante",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:65,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"Candidato",label:"Candidato",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:69,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:68,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"TenantLayer",label:"TenantLayer",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:71,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"Ativo",label:"Ativo",valuePropName:"checked",children:Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:75,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:74,columnNumber:9},this),Ve.jsxDEV(z,{style:{marginTop:16},children:[Ve.jsxDEV(J,{onClick:a,children:"Cancelar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:78,columnNumber:11},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=await i.validateFields();t?.IdFuncao?(await o.updateFuncao(t.IdFuncao,e),c.success("Função atualizada")):(await o.createFuncao(e),c.success("Função criada")),s()}catch{}},children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:79,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:77,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:47,columnNumber:7},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/FuncoesModal.tsx",lineNumber:46,columnNumber:5},this)}function ba(){const[e,t]=r.useState([]),[a,s]=r.useState(!1),[i,o]=r.useState(!1),[n,l]=r.useState(null),[c,m]=r.useState([]),[u,d]=r.useState({}),p=Ue(),h=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[Ve.jsxDEV("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:17,columnNumber:65},this),Ve.jsxDEV("path",{d:"M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:17,columnNumber:144},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:17,columnNumber:5},this),N=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M6 7h12M9 7v10m6-10v10M4 7h16l-1 14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2L4 7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:20,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:20,columnNumber:5},this),b=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M3 4h6v16H3V4zm12 0h6v16h-6V4z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:23,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:23,columnNumber:5},this),g=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:26,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:26,columnNumber:5},this),f=(c||[]).map(e=>({title:e.name,dataIndex:e.name})),A=async()=>{try{s(!0);const e=await p.getFuncoesSchema();m(e.columns||[]);const a=await p.listFuncoes();t(a.rows||[]);const i={};for(const t of e.columns||[])i[t.name]=!0;d(i)}catch(e){H.error(e?.response?.data?.detail||"Erro ao carregar funções")}finally{s(!1)}};r.useEffect(()=>{A()},[]);const x={title:"Ações",key:"actions",render:(e,t)=>Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"text",icon:Ve.jsxDEV(h,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:55,columnNumber:35},this),onClick:()=>{l(t),o(!0)}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:55,columnNumber:9},this),Ve.jsxDEV(J,{type:"text",danger:!0,icon:Ve.jsxDEV(N,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:56,columnNumber:42},this),onClick:async()=>{try{if(!t.IdFuncao)return void H.info("REGISTRO SEM ID");await p.deleteFuncao(t.IdFuncao),H.success("Função deletada"),await A()}catch(e){H.error(e?.response?.data?.detail||"Erro ao deletar função")}}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:54,columnNumber:7},this)},E=f.filter(e=>u[e.dataIndex]).concat([x]),v=Ve.jsxDEV("div",{style:{padding:12},children:f.map(e=>Ve.jsxDEV("div",{style:{marginBottom:6},children:Ve.jsxDEV(ae,{checked:!!u[e.dataIndex],onChange:t=>d({...u,[e.dataIndex]:t.target.checked}),children:e.title},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:76,columnNumber:11},this)},e.dataIndex,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:75,columnNumber:9},this))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:73,columnNumber:5},this);return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12},children:Ve.jsxDEV(z,{children:[Ve.jsxDEV(I,{placement:"bottomRight",trigger:["click"],menu:{items:[]},popupRender:()=>v,children:Ve.jsxDEV(J,{icon:Ve.jsxDEV(b,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:90,columnNumber:27},this),children:"COLUNAS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:90,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:89,columnNumber:11},this),Ve.jsxDEV(J,{type:"primary",icon:Ve.jsxDEV(g,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:92,columnNumber:40},this),onClick:()=>{l(null),o(!0)},children:"NOVA FUNÇÃO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:88,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:87,columnNumber:7},this),Ve.jsxDEV(se,{bordered:!0,size:"small",loading:a,columns:E,dataSource:e,rowKey:e=>e.IdFuncao},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:96,columnNumber:7},this),Ve.jsxDEV(Na,{open:i,initial:n,onCancel:()=>o(!1),onSaved:async()=>{o(!1),await A()}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:105,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Funcoes.tsx",lineNumber:86,columnNumber:5},this)}let ga=!1;function fa({data:e,type:t,xField:a,yField:s}){const i=r.useRef(null);return r.useEffect(()=>{if(!i.current||!e||0===e.length)return;ga||(Pe("captarTheme",{color:["#667eea","#764ba2","#ff7a59","#2dd4bf","#f59e0b"],textStyle:{fontFamily:"Poppins, Montserrat, system-ui, -apple-system, Segoe UI, sans-serif"},tooltip:{backgroundColor:"rgba(50,50,50,0.9)"},grid:{containLabel:!0}}),ga=!0);const r=Te(i.current,"captarTheme");let o={};"bar"===t?o={xAxis:{type:"category",data:e.map(e=>e[a])},yAxis:{type:"value"},series:[{data:e.map(e=>e[s]),type:"bar",animationDuration:600,animationEasing:"cubicOut",itemStyle:{color:new Oe(0,0,0,1,[{offset:0,color:"#667eea"},{offset:1,color:"#764ba2"}])}}],tooltip:{trigger:"axis"}}:"pie"===t?o={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:s,type:"pie",radius:"50%",animationDuration:600,animationEasing:"cubicOut",data:e.map(e=>({value:e[s],name:e[a]})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:"line"===t&&(o={xAxis:{type:"category",data:e.map(e=>e[a])},yAxis:{type:"value"},series:[{data:e.map(e=>e[s]),type:"line",smooth:!0,animationDuration:600,animationEasing:"cubicOut",itemStyle:{color:"#667eea"},areaStyle:{color:new Oe(0,0,0,1,[{offset:0,color:"rgba(102, 126, 234, 0.4)"},{offset:1,color:"rgba(102, 126, 234, 0)"}])}}],tooltip:{trigger:"axis"}}),r.setOption(o);const n=()=>{r.resize()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),r.dispose()}},[e,t,a,s]),Ve.jsxDEV("div",{ref:i,style:{width:"100%",height:"400px"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/ChartComponent.tsx",lineNumber:137,columnNumber:10},this)}function Aa(){const[e]=U.useForm(),[t]=U.useForm(),[a]=U.useForm(),[s]=U.useForm(),[i]=U.useForm(),[o]=U.useForm(),[n]=U.useForm(),[l]=U.useForm(),[c]=U.useForm(),[m]=U.useForm(),[u]=U.useForm(),[d]=U.useForm(),[p,N]=r.useState("DESCONECTADO"),[b,g]=r.useState([]),[f,A]=r.useState([]),[x,E]=r.useState([]),[v,O]=r.useState([]),[P,D]=r.useState(0),[R,S]=r.useState(""),[C,y]=r.useState("DESCONECTADO"),[j,V]=r.useState([]),[w,I]=r.useState("DESCONECTADO"),[k,_]=r.useState(""),[M,F]=r.useState(!1),[$,Y]=r.useState(""),[q,G]=r.useState(!1),[X,Z]=r.useState([]),[Q,ee]=r.useState(!1),[ie,re]=r.useState(""),[ne,le]=r.useState(!1),[ce,me]=r.useState([]),[ue,he]=r.useState(!1),[Ne,be]=r.useState(""),[Ae,xe]=r.useState(!1),[Ee,ve]=r.useState(""),[Te,Oe]=r.useState(!1),[Pe,De]=r.useState(""),[Re,Se]=r.useState(!1),[Ce,ye]=r.useState(""),[je,we]=r.useState(!1),[Ie,Je]=r.useState(""),[ke,_e]=r.useState(!1),[Me,Fe]=r.useState(""),[Le,$e]=r.useState("DESCONECTADO"),[ze,Be]=r.useState(!1),[We,He]=r.useState(""),[Ye,qe]=r.useState(!1),[Ke,Ge]=r.useState(""),[Xe,Ze]=r.useState(!1),[Qe,et]=r.useState(""),[tt,at]=r.useState(14),[st,it]=r.useState(!1),[rt,ot]=r.useState([]),[nt,lt]=r.useState("total"),[ct,mt]=r.useState(!1),[ut,dt]=r.useState(""),[pt,ht]=r.useState(""),Nt=Ue(),bt="undefined"!=typeof window&&window.location?`${window.location.protocol}//${window.location.host}`:"",gt=(()=>{try{const e="undefined"!=typeof window&&window.location?String(window.location.hostname||""):"";return"localhost"===e||"127.0.0.1"===e}catch{return!1}})(),ft=e=>{try{const t=String(e||"").trim().toLowerCase();return t.includes("://localhost")||t.includes("://127.0.0.1")}catch{return!1}},At=(()=>{try{return String(localStorage.getItem("tenantSlug")||"captar").trim().toLowerCase()||"captar"}catch{return"captar"}})(),xt=!gt&&bt?`${bt}/api/integracoes/twilio/webhook/inbound?tenant=${encodeURIComponent(At)}`:"",Et=!gt&&bt?`${bt}/api/integracoes/twilio/webhook/status?tenant=${encodeURIComponent(At)}`:"",vt=!gt&&bt?`${bt}/api/integracoes/meta/webhook?tenant=${encodeURIComponent(At)}`:"",Tt=async()=>{try{ee(!0);const e=await Nt.listTwilioMessagingServices();Z(e?.services||[])}catch{Z([])}finally{ee(!1)}},Ot=e=>{const t=String(e||"").trim();if(!t)return[];const a=t.split(/[\s,;]+/g).map(e=>String(e||"").trim()).filter(Boolean),s=[];for(const i of a){const e=String(i||"").trim();e&&!s.includes(e)&&s.push(e)}return s},Pt=async e=>{try{le(!0);const t=o.getFieldsValue(),a=Ot(String(t?.numbers||"")),s=String(t?.source||"").trim()||void 0;if(!a.length)return void H.error("Informe ao menos um número");await Nt.upsertTwilioOptIn({numbers:a,opted_in:e,source:s});const i=await Nt.getTwilioOptInStatus({numbers:a});me(i.items||[]),H.success(e?"Opt-in registrado":"Opt-out registrado")}catch(t){H.error(t?.response?.data?.detail||"Erro ao atualizar opt-in")}finally{le(!1)}},Dt=async()=>{try{const{dataset:t,uf:a}=e.getFieldsValue(),s=await Nt.listarRecursosCkan(t,a);A(s.resources||[]),D(0)}catch(t){try{const{dataset:t,uf:a}=e.getFieldsValue(),s=`https://dadosabertos.tse.jus.br/api/3/action/package_search?q=${encodeURIComponent(t)}`,i=await h.get(s),r=[];for(const e of i.data?.result?.results||[])for(const t of e.resources||[])r.push({id:t.id,name:t.name,format:t.format,url:t.url||t.download_url});let o="AM"===a?r.filter(e=>(e.name||"").toUpperCase().includes("AMAZONAS")||(e.name||"").toUpperCase().endsWith("AM")):r;if(!o.length){const e=["resultados","prestacao","eleicoes","candidatos"];for(const t of e){const e=`https://dadosabertos.tse.jus.br/api/3/action/package_search?q=${encodeURIComponent(t)}`,a=await h.get(e);for(const t of a.data?.result?.results||[])for(const e of t.resources||[]){const t={id:e.id,name:e.name,format:e.format,url:e.url||e.download_url};o.find(e=>e.id===t.id)||o.push(t)}if(o.length)break}"AM"===a&&(o=o.filter(e=>(e.name||"").toUpperCase().includes("AMAZONAS")||(e.name||"").toUpperCase().endsWith("AM")))}A(o),D(0)}catch{}}},Rt=async()=>{try{const e=f[P]||f[0];if(!e?.url)return void H.info("Nenhum recurso disponível para prévia");const t=await Nt.previewRecursoCkan(e.url,15);E(t.columns),O(t.rows)}catch(e){try{const e=f[P]||f[0],t=await h.get(e.url),a="string"==typeof t.data?t.data:t.request?.responseText;if(!a)throw new Error("Sem dados");const s=a.split(/\r?\n/).filter(e=>e.trim().length>0);if(s.length<2)throw new Error("CSV vazio");const i=s[0].includes(";")?";":",",r=s[0].split(i).map(e=>e.trim()),o=s.slice(1,Math.min(s.length,16)).map(e=>{const t=e.split(i),a={};return r.forEach((e,s)=>{a[e]=(t[s]??"").trim()}),a});E(r),O(o)}catch(t){H.error(t?.message||"Erro ao carregar prévia")}}};r.useEffect(()=>{(async()=>{await(async()=>{try{const e=localStorage.getItem("municipios_AM");if(e){const t=JSON.parse(e);Array.isArray(t)&&t.length&&g(t)}const t=await Nt.listarMunicipios("AM");g(t.municipios),localStorage.setItem("municipios_AM",JSON.stringify(t.municipios))}catch(e){try{const e=((await h.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados/13/municipios")).data||[]).map(e=>({id:e.id,nome:e.nome}));g(e),localStorage.setItem("municipios_AM",JSON.stringify(e))}catch{}}})(),await Dt(),await Rt();try{const e=await Nt.getEvolutionApiKeyMasked();S(e.keyMasked||"")}catch{}try{const e=await Nt.listEvolutionInstances();V(e?.rows||[])}catch{}try{const e=await Nt.getTwilioConfig();F(!!e.has_auth_token),_(e.auth_token_masked||""),G(!!e.has_api_key_secret),Y(e.api_key_secret_masked||""),s.setFieldsValue({account_sid:e.account_sid||"",api_key_sid:e.api_key_sid||"",messaging_service_sid:e.messaging_service_sid||"",enabled_channels:Array.isArray(e.enabled_channels)?e.enabled_channels:["sms","whatsapp","mms"],whatsapp_from:e.whatsapp_from||"whatsapp:+14155238886",sms_from:e.sms_from||"",status_callback_url:gt&&ft(e.status_callback_url||"")?"":e.status_callback_url||Et,inbound_webhook_url:gt&&ft(e.inbound_webhook_url||"")?"":e.inbound_webhook_url||xt,validate_signature:!0===e.validate_signature,enabled:!1!==e.enabled}),await Tt()}catch{}try{const e=await Nt.getYCloudConfig();he(!!e.has_api_key),be(e.api_key_masked||""),xe(!!e.has_webhook_verify_token),ve(e.webhook_verify_token_masked||""),m.setFieldsValue({base_url:e.base_url||"",phone_number_id:e.phone_number_id||"",business_account_id:e.business_account_id||"",enabled:!1!==e.enabled})}catch{}try{const e=await Nt.getDialog360Config();Oe(!!e.has_api_key),De(e.api_key_masked||""),Se(!!e.has_webhook_verify_token),ye(e.webhook_verify_token_masked||""),u.setFieldsValue({base_url:e.base_url||"",phone_number_id:e.phone_number_id||"",business_account_id:e.business_account_id||"",enabled:!1!==e.enabled})}catch{}try{const e=await Nt.getWANotifierConfig();we(!!e.has_api_key),Je(e.api_key_masked||""),_e(!!e.has_webhook_verify_token),Fe(e.webhook_verify_token_masked||""),d.setFieldsValue({base_url:e.base_url||"",phone_number_id:e.phone_number_id||"",business_account_id:e.business_account_id||"",enabled:!1!==e.enabled})}catch{}try{const e=await Nt.getMetaWhatsAppConfig();Be(!!e.has_access_token),He(e.access_token_masked||""),qe(!!e.has_webhook_verify_token),Ge(e.webhook_verify_token_masked||""),Ze(!!e.has_app_secret),et(e.app_secret_masked||""),n.setFieldsValue({base_url:e.base_url||"https://graph.facebook.com",api_version:e.api_version||"v21.0",phone_number_id:e.phone_number_id||"",business_account_id:e.business_account_id||"",validate_signature:!0===e.validate_signature,enabled:!1!==e.enabled}),c.setFieldsValue({phone_number_id:e.phone_number_id||"",waba_id:e.business_account_id||"",override_callback_uri:vt||"",verify_token:""})}catch{}})()},[]);const St=async()=>{try{$e("TESTANDO");const e=await Nt.testMetaWhatsApp(),t=!!e.ok;$e(t?"CONECTADO":"DESCONECTADO"),H[t?"success":"error"](t?"Meta Cloud API conectada com sucesso":`Falha na Meta (HTTP ${e.status_code})`)}catch(e){$e("DESCONECTADO"),H.error(e?.response?.data?.detail||"Erro ao testar Meta")}},Ct=async e=>{try{mt(!0);const t=n.getFieldsValue(),a=c.getFieldsValue(),s=String(a.waba_id||t.business_account_id||"").trim(),i=e?String(a.override_callback_uri||"").trim():"",r=String(a.verify_token||"").trim(),o=await Nt.setMetaWebhookOverrideWaba({waba_id:s||void 0,override_callback_uri:i||void 0,verify_token:r||void 0});ht(()=>{try{return JSON.stringify(o,null,2)}catch{return String(o)}}),H.success(e?"Override aplicado no WABA":"WABA voltou para callback padrão do app")}catch(t){H.error(t?.response?.data?.detail||"Erro ao aplicar override no WABA")}finally{mt(!1)}},yt=async e=>{try{mt(!0);const t=n.getFieldsValue(),a=c.getFieldsValue(),s=String(a.phone_number_id||t.phone_number_id||"").trim(),i=e?String(a.override_callback_uri||"").trim():"",r=String(a.verify_token||"").trim(),o=await Nt.setMetaWebhookOverridePhone({phone_number_id:s||void 0,override_callback_uri:i,verify_token:r||void 0});dt(()=>{try{return JSON.stringify(o,null,2)}catch{return String(o)}}),H.success(e?"Override aplicado no Phone Number":"Override removido do Phone Number")}catch(t){H.error(t?.response?.data?.detail||"Erro ao aplicar override no Phone Number")}finally{mt(!1)}},jt=async e=>{try{it(!0);const t="number"==typeof e?e:tt,a=await Nt.getMetaWhatsAppStats(t);ot(a?.rows||[]),"number"==typeof a?.days&&at(a.days)}catch(t){ot([]),H.error(t?.response?.data?.detail||"Erro ao carregar estatísticas")}finally{it(!1)}},Vt=(()=>{const e=(X||[]).map(e=>{const t=String(e?.sid||"").trim(),a=String(e?.friendly_name||"").trim();return{label:a?`${a} (${t})`:t,value:t}}).filter(e=>!!e.value),t=String(ie||"").trim();return t&&!e.find(e=>e.value===t)?[{label:t,value:t},...e]:e})();return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("h1",{className:"page-title",children:"INTEGRAÇÕES"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:765,columnNumber:7},this),Ve.jsxDEV(ge,{defaultActiveKey:"tse",items:[{key:"tse",label:"TSE",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:16,children:[Ve.jsxDEV(K,{title:"APIS TSE",extra:Ve.jsxDEV(B,{color:"blue",children:"AMAZONAS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:775,columnNumber:49},this),children:Ve.jsxDEV(U,{form:e,layout:"vertical",initialValues:{baseUrl:"https://dadosabertos.tse.jus.br",uf:"AM",dataset:"eleitorado_municipio"},children:[Ve.jsxDEV(de,{gutter:16,children:[Ve.jsxDEV(pe,{xs:24,md:12,children:Ve.jsxDEV(U.Item,{name:"baseUrl",label:"Base URL",children:Ve.jsxDEV(L,{placeholder:"https://dadosabertos.tse.jus.br"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:780,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:779,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:778,columnNumber:25},this),Ve.jsxDEV(pe,{xs:24,md:12,children:Ve.jsxDEV(U.Item,{name:"uf",label:"UF",children:Ve.jsxDEV(te,{options:[{label:"Amazonas",value:"AM"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:785,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:784,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:783,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:777,columnNumber:23},this),Ve.jsxDEV(de,{gutter:16,children:[Ve.jsxDEV(pe,{xs:24,md:12,children:Ve.jsxDEV(U.Item,{name:"dataset",label:"Dataset",children:Ve.jsxDEV(te,{onChange:async()=>{await Dt(),await Rt()},options:[{label:"Eleitorado por município",value:"eleitorado_municipio"},{label:"Resultados por município",value:"resultados_municipio"},{label:"Zonas eleitorais",value:"zonas_eleitorais"},{label:"Candidatos",value:"candidatos"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:793,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:792,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:791,columnNumber:25},this),Ve.jsxDEV(pe,{xs:24,md:12,children:Ve.jsxDEV(U.Item,{name:"municipio",label:"Município (opcional)",children:Ve.jsxDEV(te,{showSearch:!0,placeholder:"Selecione um município",options:b.map(e=>({label:e.nome,value:e.nome}))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:806,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:805,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:804,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:790,columnNumber:23},this),Ve.jsxDEV(z,{wrap:!0,children:[Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{N("TESTANDO");const{baseUrl:t,uf:a,dataset:s,municipio:i}=e.getFieldsValue();try{const e=await Nt.testarIntegracao({base_url:t,uf:a,dataset:s,municipio:i});e.connected?(N("CONECTADO"),H.success("Conexão realizada com sucesso")):(N("DESCONECTADO"),H.error(`Falha na conexão (HTTP ${e.status_code})`))}catch{const e=await h.get(t),a=e.status>=200&&e.status<300;N(a?"CONECTADO":"DESCONECTADO"),H[a?"success":"error"](a?"Conexão realizada com sucesso":`Falha na conexão (HTTP ${e.status})`)}}catch(t){N("DESCONECTADO"),H.error(t?.response?.data?.detail||"Erro ao testar conexão")}},children:"Testar Conexão"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:816,columnNumber:25},this),Ve.jsxDEV(J,{onClick:async()=>{try{const{baseUrl:s,uf:i,dataset:r,municipio:o}=e.getFieldsValue(),{webhookUrl:n,webhookSecret:l}=t.getFieldsValue(),{tseToken:c,externalApiToken:m}=a.getFieldsValue(),u={base_url:s,uf:i,dataset:r,municipio:o,webhook_url:n,webhook_secret:l,tse_token:c,external_api_token:m,active_webhook:!1};(await Nt.salvarIntegracaoConfig(u)).saved&&H.success("Configuração salva")}catch(s){try{const{baseUrl:s,uf:i,dataset:r,municipio:o}=e.getFieldsValue(),{webhookUrl:n,webhookSecret:l}=t.getFieldsValue(),{tseToken:c,externalApiToken:m}=a.getFieldsValue(),u={base_url:s,uf:i,dataset:r,municipio:o,webhook_url:n,webhook_secret:l,tse_token:c,external_api_token:m,active_webhook:!1};localStorage.setItem("integracao_cfg",JSON.stringify(u)),H.success("Configuração salva localmente")}catch{H.error(s?.response?.data?.detail||"Erro ao salvar configuração")}}},children:"Salvar Configuração"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:840,columnNumber:25},this),Ve.jsxDEV(B,{color:"CONECTADO"===p?"green":"TESTANDO"===p?"blue":"default",children:["STATUS: ",p]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:883,columnNumber:25},this),Ve.jsxDEV(J,{onClick:async()=>{await Dt(),await Rt()},children:"Prévia Dataset (AM)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:884,columnNumber:25},this),Ve.jsxDEV(te,{style:{minWidth:240},placeholder:"Selecione recurso",value:f.length?P:void 0,onChange:e=>D(e),options:f.map((e,t)=>({label:e.name||e.url,value:t}))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:885,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:815,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:776,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:775,columnNumber:19},this),Ve.jsxDEV(W,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:895,columnNumber:19},this),Ve.jsxDEV(K,{title:"Prévia do Dataset Selecionado (primeiras linhas)",children:Ve.jsxDEV(se,{size:"small",bordered:!0,pagination:!1,columns:x.map(e=>({title:e,dataIndex:e})),dataSource:v,rowKey:e=>JSON.stringify(e)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:897,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:896,columnNumber:19},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:774,columnNumber:17},this),Ve.jsxDEV(pe,{xs:24,xl:8,children:[Ve.jsxDEV(K,{title:"Webhooks",children:Ve.jsxDEV(U,{form:t,layout:"vertical",children:[Ve.jsxDEV(U.Item,{name:"webhookUrl",label:"URL",children:Ve.jsxDEV(L,{placeholder:"https://seu-sistema.com/webhook"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:912,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:911,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"webhookSecret",label:"Segredo",children:Ve.jsxDEV(L,{placeholder:"segredo-opcional"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:915,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:914,columnNumber:23},this),Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"primary",children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:918,columnNumber:25},this),Ve.jsxDEV(oe,{checkedChildren:"Ativo",unCheckedChildren:"Inativo"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:919,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:917,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:910,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:909,columnNumber:19},this),Ve.jsxDEV(W,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:924,columnNumber:19},this),Ve.jsxDEV(K,{title:"Tokens / Credenciais",children:Ve.jsxDEV(U,{form:a,layout:"vertical",children:[Ve.jsxDEV(U.Item,{name:"tseToken",label:"Token TSE (se aplicável)",children:Ve.jsxDEV(L,{placeholder:"insira seu token, se necessário"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:929,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:928,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"externalApiToken",label:"Token API Externa",children:Ve.jsxDEV(L,{placeholder:"token de outros serviços"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:932,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:931,columnNumber:23},this),Ve.jsxDEV(J,{type:"primary",children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:934,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:927,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:926,columnNumber:19},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:908,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:773,columnNumber:15},this)},{key:"evolution",label:"EVOLUTION API",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:10,children:Ve.jsxDEV(K,{title:"Evolution API",children:Ve.jsxDEV(U,{layout:"vertical",children:[Ve.jsxDEV(U.Item,{label:"Chave de Autenticação (mascarada)",children:Ve.jsxDEV(L,{value:R,readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:950,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:949,columnNumber:23},this),Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{y("TESTANDO");const e=await Nt.testEvolutionApi(),t=!!e.ok;y(t?"CONECTADO":"DESCONECTADO"),H[t?"success":"error"](t?"Evolution API conectada"+(e.version?` (v${e.version})`:""):`Falha na Evolution API (HTTP ${e.status_code})`)}catch(e){y("DESCONECTADO"),H.error(e?.response?.data?.detail||"Erro ao testar Evolution API")}},children:"Testar Evolution API"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:953,columnNumber:25},this),Ve.jsxDEV(B,{color:"CONECTADO"===C?"green":"TESTANDO"===C?"blue":"default",children:["EVOLUTION: ",C]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:954,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:952,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:948,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:947,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:946,columnNumber:17},this),Ve.jsxDEV(pe,{xs:24,xl:14,children:Ve.jsxDEV(K,{title:"Instâncias",children:Ve.jsxDEV(se,{size:"small",bordered:!0,pagination:!1,dataSource:j||[],rowKey:e=>String(e?.id||JSON.stringify(e)),columns:[{title:"ID",dataIndex:"id"},{title:"Nome",dataIndex:"name"},{title:"Número",dataIndex:"number"},{title:"Token",dataIndex:"hasToken",render:e=>Ve.jsxDEV(B,{color:e?"green":"default",children:e?"SIM":"NÃO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:971,columnNumber:81},this)},{title:"Status",dataIndex:"connectionStatus"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:961,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:960,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:959,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:945,columnNumber:15},this)},{key:"whatsapp",label:"WHATSAPP API",children:Ve.jsxDEV(de,{gutter:[16,16],children:Ve.jsxDEV(pe,{span:24,children:Ve.jsxDEV(K,{title:"WhatsApp API",children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},children:[Ve.jsxDEV("div",{children:"Esta integração usa a Evolution API para envio e consulta."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:988,columnNumber:23},this),Ve.jsxDEV("div",{children:"Configure e teste na aba EVOLUTION API."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:989,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:987,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:986,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:985,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:984,columnNumber:15},this)},{key:"twilio",label:"TWILIO",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"Twilio Messaging - Configuração",children:Ve.jsxDEV(U,{form:s,layout:"vertical",initialValues:{enabled:!0,enabled_channels:["sms","whatsapp","mms"],whatsapp_from:"whatsapp:+14155238886",inbound_webhook_url:xt,status_callback_url:Et,validate_signature:!1},children:[Ve.jsxDEV(W,{orientation:"left",children:"Credenciais"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1015,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"account_sid",label:"Account SID (AC...)",rules:[{required:!0,message:"Informe o Account SID"}],children:Ve.jsxDEV(L,{placeholder:"Cole o Account SID em Console → Live/Test credentials"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1017,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1016,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"Auth Token do Account (mascarado)",children:Ve.jsxDEV(L,{value:k||(M?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1021,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1020,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"auth_token",label:"Novo Auth Token do Account (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:M?"deixe em branco para manter o atual":"cole o Auth token em Live/Test credentials"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1024,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1023,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"api_key_sid",label:"API Key SID (SK... opcional)",children:Ve.jsxDEV(L,{placeholder:"SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1028,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1027,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"API Key Secret (mascarado)",children:Ve.jsxDEV(L,{value:$||(q?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1031,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1030,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"api_key_secret",label:"Novo API Key Secret (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:q?"deixe em branco para manter o atual":"cole o Secret da API Key"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1034,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1033,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Origem (From)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1037,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"messaging_service_sid",label:"Messaging Service SID (MG... opcional)",extra:Ve.jsxDEV(J,{onClick:Tt,loading:Q,children:"Atualizar lista"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1041,columnNumber:32},this),children:Ve.jsxDEV(te,{allowClear:!0,showSearch:!0,loading:Q,placeholder:"Console → Messaging → Services → Service SID (MG...)",options:Vt,onSearch:e=>re(String(e||"")),filterOption:(e,t)=>{const a=String(e||"").toLowerCase(),s=String(t?.label||"").toLowerCase(),i=String(t?.value||"").toLowerCase();return s.includes(a)||i.includes(a)}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1043,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1038,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"sms_from",label:"SMS From (opcional)",children:Ve.jsxDEV(L,{placeholder:"+15551234567"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1059,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1058,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"whatsapp_from",label:"WhatsApp From (opcional)",children:Ve.jsxDEV(L,{placeholder:"whatsapp:+14155238886"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1062,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1061,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Canais"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1065,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"enabled_channels",label:"Canais habilitados",children:Ve.jsxDEV(ae.Group,{options:[{label:"SMS",value:"sms"},{label:"WhatsApp",value:"whatsapp"},{label:"MMS",value:"mms"},{label:"RCS",value:"rcs"},{label:"Email",value:"email"},{label:"Voice",value:"voice"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1067,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1066,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Webhooks"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1079,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"inbound_webhook_url",label:"Incoming Messages Webhook (URL)",children:Ve.jsxDEV(L,{placeholder:xt},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1081,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1080,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"status_callback_url",label:"Status Callback (URL)",children:Ve.jsxDEV(L,{placeholder:Et},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1084,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1083,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"validate_signature",label:"Validar assinatura Twilio",valuePropName:"checked",children:Ve.jsxDEV(oe,{checkedChildren:"Sim",unCheckedChildren:"Não"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1087,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1086,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Status"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1090,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"enabled",valuePropName:"checked",children:Ve.jsxDEV(oe,{checkedChildren:"Ativo",unCheckedChildren:"Inativo"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1092,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1091,columnNumber:23},this),Ve.jsxDEV(z,{wrap:!0,children:[Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=s.getFieldsValue(),t={account_sid:String(e.account_sid||"").trim(),auth_token:String(e.auth_token||"").trim(),api_key_sid:String(e.api_key_sid||"").trim()||void 0,api_key_secret:String(e.api_key_secret||"").trim()||void 0,messaging_service_sid:String(e.messaging_service_sid||"").trim()||void 0,whatsapp_from:String(e.whatsapp_from||"").trim()||void 0,sms_from:String(e.sms_from||"").trim()||void 0,enabled_channels:Array.isArray(e.enabled_channels)?e.enabled_channels:void 0,status_callback_url:String(e.status_callback_url||"").trim()||void 0,inbound_webhook_url:String(e.inbound_webhook_url||"").trim()||void 0,validate_signature:!0===e.validate_signature,enabled:!1!==e.enabled};await Nt.saveTwilioConfig(t),H.success("Configuração Twilio salva");try{const e=await Nt.getTwilioConfig();F(!!e.has_auth_token),_(e.auth_token_masked||""),G(!!e.has_api_key_secret),Y(e.api_key_secret_masked||"")}catch{}s.setFieldsValue({auth_token:"",api_key_secret:""})}catch(e){H.error(e?.response?.data?.detail||"Erro ao salvar configuração Twilio")}},children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1095,columnNumber:25},this),Ve.jsxDEV(J,{onClick:async()=>{try{I("TESTANDO");const e=await Nt.testTwilio(),t=!!e.ok;I(t?"CONECTADO":"DESCONECTADO"),H[t?"success":"error"](t?"Twilio conectada com sucesso":`Falha na Twilio (HTTP ${e.status_code})`)}catch(e){I("DESCONECTADO"),H.error(e?.response?.data?.detail||"Erro ao testar Twilio")}},children:"Testar Conexão"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1096,columnNumber:25},this),Ve.jsxDEV(B,{color:"CONECTADO"===w?"green":"TESTANDO"===w?"blue":"default",children:["TWILIO: ",w]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1097,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1094,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1003,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1002,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1001,columnNumber:17},this),Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},size:16,children:[Ve.jsxDEV(K,{title:"Enviar mensagem de teste",children:Ve.jsxDEV(U,{form:i,layout:"vertical",initialValues:{channel:"sms",body:"Teste CAPTAR",status_callback_url_override:Et},children:[Ve.jsxDEV(U.Item,{name:"channel",label:"Canal",children:Ve.jsxDEV(te,{options:[{label:"SMS",value:"sms"},{label:"WhatsApp",value:"whatsapp"},{label:"MMS",value:"mms"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1107,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1106,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"to",label:"Para (to)",rules:[{required:!0,message:"Informe o destino"}],children:Ve.jsxDEV(L,{placeholder:"+5511999999999 ou whatsapp:+5511999999999"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1116,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1115,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"body",label:"Mensagem",children:Ve.jsxDEV(L.TextArea,{rows:4,placeholder:"Digite a mensagem"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1119,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1118,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"content_sid",label:"Content SID (opcional)",children:Ve.jsxDEV(L,{placeholder:"HXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1122,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1121,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"content_variables",label:"Content Variables (opcional)",children:Ve.jsxDEV(L.TextArea,{rows:3,placeholder:'{"1":"12/1","2":"3pm"}'},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1125,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1124,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"attachments",label:"Anexos (upload)",valuePropName:"fileList",getValueFromEvent:e=>e?.fileList||[],children:Ve.jsxDEV(fe,{multiple:!0,customRequest:async e=>{const{file:t,onSuccess:a,onError:s}=e||{};try{const e=await Nt.uploadTwilioMedia(t);try{t.url=e.url}catch{}a&&a(e,t)}catch(i){s&&s(i)}},accept:".png,.jpg,.jpeg,.gif,.webp,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,.mp3,.wav,.ogg,.m4a,.mp4,.mov,.avi",children:Ve.jsxDEV(J,{children:"Selecionar arquivos"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1138,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1133,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1127,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"media_urls",label:"Media URLs (opcional)",children:Ve.jsxDEV(L.TextArea,{rows:2,placeholder:"Uma URL por linha (MMS/WhatsApp)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1142,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1141,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"from_override",label:"From (override opcional)",children:Ve.jsxDEV(L,{placeholder:"Use apenas se não estiver usando Messaging Service"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1145,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1144,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"status_callback_url_override",label:"Status Callback (override opcional)",children:Ve.jsxDEV(L,{placeholder:Et},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1148,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1147,columnNumber:25},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=i.getFieldsValue(),t=String(e.channel||"sms").trim().toLowerCase();let a=String(e.to||"").trim();"whatsapp"===t?a&&!a.toLowerCase().startsWith("whatsapp:")&&(a=`whatsapp:${a}`):a.toLowerCase().startsWith("whatsapp:")&&(a=a.slice(9));const s=String(e.body||"").trim(),r=String(e.content_sid||"").trim(),o=String(e.content_variables||"").trim();let n;if(r&&o)try{n=JSON.parse(o)}catch{n=o}const l=String(e.from_override||"").trim(),c=String(e.status_callback_url_override||"").trim(),m=String(e.media_urls||"").trim(),u=m?m.split(/[\n,]+/).map(e=>e.trim()).filter(Boolean):void 0,d=(Array.isArray(e.attachments)?e.attachments:[]).map(e=>String(e?.url||e?.response?.url||"").trim()).filter(Boolean),p=[...u||[],...d].filter(Boolean),h=Array.from(new Set(p));if("sms"===t&&h.length)return void H.error("SMS não suporta anexos. Use MMS ou WhatsApp.");if(!s&&!r)return void H.error("Informe uma 'Mensagem' ou um 'Content SID'");const N=await Nt.sendTwilio({to:a,channel:t,body:s||void 0,content_sid:r||void 0,content_variables:r?n:void 0,from_override:l||void 0,status_callback_url:c||void 0,media_urls:h.length?h:void 0});H.success(N?.sid?`Mensagem enviada (${N.sid})`:"Mensagem enviada")}catch(e){H.error(e?.response?.data?.detail||"Erro ao enviar mensagem")}},children:"Enviar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1150,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1105,columnNumber:23},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1104,columnNumber:21},this),Ve.jsxDEV(K,{title:"Opt-in (Twilio WhatsApp)",children:Ve.jsxDEV(U,{form:o,layout:"vertical",initialValues:{source:"manual"},children:[Ve.jsxDEV(U.Item,{name:"numbers",label:"Números",rules:[{required:!0,message:"Informe ao menos um número"}],extra:"Separe por espaço, vírgula, ponto e vírgula ou quebra de linha",children:Ve.jsxDEV(L.TextArea,{rows:4,placeholder:"+5592988557788 whatsapp:+5592988557788 5592981497639"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1161,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1155,columnNumber:25},this),Ve.jsxDEV(U.Item,{name:"source",label:"Origem (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: manual, importação, cliente antigo"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1164,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1163,columnNumber:25},this),Ve.jsxDEV(z,{wrap:!0,children:[Ve.jsxDEV(J,{type:"primary",onClick:()=>Pt(!0),loading:ne,children:"Registrar Opt-in"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1167,columnNumber:27},this),Ve.jsxDEV(J,{danger:!0,onClick:()=>Pt(!1),loading:ne,children:"Registrar Opt-out"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1168,columnNumber:27},this),Ve.jsxDEV(J,{onClick:async()=>{try{le(!0);const e=o.getFieldsValue(),t=Ot(String(e?.numbers||""));if(!t.length)return me([]),void H.error("Informe ao menos um número");const a=await Nt.getTwilioOptInStatus({numbers:t});me(a.items||[])}catch(e){H.error(e?.response?.data?.detail||"Erro ao consultar opt-in")}finally{le(!1)}},loading:ne,children:"Consultar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1169,columnNumber:27},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1166,columnNumber:25},this),Ve.jsxDEV(W,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1171,columnNumber:25},this),Ve.jsxDEV(se,{size:"small",bordered:!0,pagination:!1,dataSource:ce||[],rowKey:e=>String(e?.number||""),columns:[{title:"Número",dataIndex:"number"},{title:"Status",dataIndex:"status"},{title:"Opt-in",dataIndex:"opted_in",render:e=>Ve.jsxDEV(B,{color:e?"green":"default",children:e?"SIM":"NÃO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1181,columnNumber:86},this)}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1172,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1154,columnNumber:23},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1153,columnNumber:21},this),Ve.jsxDEV(K,{title:"Notas",children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},children:[Ve.jsxDEV("div",{children:"Account SID e Auth Token ficam em Console → API keys & tokens → Live/Test credentials."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1188,columnNumber:25},this),Ve.jsxDEV("div",{children:"API Key (SK...) é alternativa ao Auth Token. Informe SID e Secret."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1189,columnNumber:25},this),Ve.jsxDEV("div",{children:"Messaging Service SID (MG...) fica em Console → Messaging → Services."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1190,columnNumber:25},this),Ve.jsxDEV("div",{children:["Para WhatsApp, use destino no formato ",Ve.jsxDEV(B,{children:"whatsapp:+5511999999999"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1191,columnNumber:68},this),"."]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1191,columnNumber:25},this),Ve.jsxDEV("div",{children:"Para envio via WhatsApp/Twilio, o sistema exige opt-in por número. Use o card Opt-in para cadastrar antes de enviar."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1192,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1187,columnNumber:23},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1186,columnNumber:21},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1103,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1102,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1e3,columnNumber:15},this)},{key:"meta",label:"META CLOUD API",children:Ve.jsxDEV(ge,{defaultActiveKey:"config",onChange:async e=>{"stats"===e&&await jt()},items:[{key:"config",label:"CONFIGURAÇÃO",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"Meta WhatsApp Cloud API - Configuração",children:Ve.jsxDEV(U,{form:n,layout:"vertical",initialValues:{base_url:"https://graph.facebook.com",api_version:"v21.0",validate_signature:!1,enabled:!0},children:[Ve.jsxDEV(U.Item,{name:"base_url",label:"Base URL",children:Ve.jsxDEV(L,{placeholder:"https://graph.facebook.com"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1228,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1227,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"api_version",label:"API Version",children:Ve.jsxDEV(L,{placeholder:"v21.0"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1231,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1230,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"phone_number_id",label:"Phone Number ID",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1234,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1233,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"business_account_id",label:"WABA (Business Account ID) (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1237,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1236,columnNumber:31},this),Ve.jsxDEV(W,{orientation:"left",children:"Credenciais"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1240,columnNumber:31},this),Ve.jsxDEV(U.Item,{label:"Access Token (mascarado)",children:Ve.jsxDEV(L,{value:We||(ze?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1242,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1241,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"access_token",label:"Novo Access Token (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:ze?"deixe em branco para manter o atual":"cole o token"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1245,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1244,columnNumber:31},this),Ve.jsxDEV(U.Item,{label:"Webhook Verify Token (mascarado)",children:Ve.jsxDEV(L,{value:Ke||(Ye?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1248,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1247,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"webhook_verify_token",label:"Novo Webhook Verify Token (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:Ye?"deixe em branco para manter o atual":"cole o verify token"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1251,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1250,columnNumber:31},this),Ve.jsxDEV(U.Item,{label:"App Secret (mascarado)",children:Ve.jsxDEV(L,{value:Qe||(Xe?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1254,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1253,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"app_secret",label:"Novo App Secret (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:Xe?"deixe em branco para manter o atual":"cole o app secret"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1257,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1256,columnNumber:31},this),Ve.jsxDEV(W,{orientation:"left",children:"Webhooks"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1260,columnNumber:31},this),Ve.jsxDEV(U.Item,{label:"Webhook URL (copie para o dashboard)",children:Ve.jsxDEV(L,{value:vt,readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1262,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1261,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"validate_signature",label:"Validar assinatura (X-Hub-Signature-256)",valuePropName:"checked",children:Ve.jsxDEV(oe,{checkedChildren:"Sim",unCheckedChildren:"Não"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1265,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1264,columnNumber:31},this),Ve.jsxDEV(W,{orientation:"left",children:"Status"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1268,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"enabled",valuePropName:"checked",children:Ve.jsxDEV(oe,{checkedChildren:"Ativo",unCheckedChildren:"Inativo"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1270,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1269,columnNumber:31},this),Ve.jsxDEV(z,{wrap:!0,children:[Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=n.getFieldsValue(),t={base_url:String(e.base_url||"").trim()||void 0,api_version:String(e.api_version||"").trim()||void 0,access_token:String(e.access_token||"").trim()||void 0,phone_number_id:String(e.phone_number_id||"").trim()||void 0,business_account_id:String(e.business_account_id||"").trim()||void 0,webhook_verify_token:String(e.webhook_verify_token||"").trim()||void 0,app_secret:String(e.app_secret||"").trim()||void 0,validate_signature:!0===e.validate_signature,enabled:!1!==e.enabled};await Nt.saveMetaWhatsAppConfig(t),H.success("Configuração Meta salva");try{const e=await Nt.getMetaWhatsAppConfig();Be(!!e.has_access_token),He(e.access_token_masked||""),qe(!!e.has_webhook_verify_token),Ge(e.webhook_verify_token_masked||""),Ze(!!e.has_app_secret),et(e.app_secret_masked||"")}catch{}n.setFieldsValue({access_token:"",webhook_verify_token:"",app_secret:""})}catch(e){H.error(e?.response?.data?.detail||"Erro ao salvar configuração Meta")}},children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1273,columnNumber:33},this),Ve.jsxDEV(J,{onClick:St,children:"Testar Conexão"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1274,columnNumber:33},this),Ve.jsxDEV(B,{color:"CONECTADO"===Le?"green":"TESTANDO"===Le?"blue":"default",children:["META: ",Le]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1275,columnNumber:33},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1272,columnNumber:31},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1217,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1216,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1215,columnNumber:25},this),Ve.jsxDEV(pe,{xs:24,xl:12,children:[Ve.jsxDEV(K,{title:"Webhooks - Overrides",children:Ve.jsxDEV(U,{form:c,layout:"vertical",initialValues:{phone_number_id:"",waba_id:"",override_callback_uri:"",verify_token:""},children:[Ve.jsxDEV(U.Item,{name:"phone_number_id",label:"Phone Number ID",children:Ve.jsxDEV(L,{placeholder:"(deixe em branco para usar o configurado acima)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1293,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1292,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"waba_id",label:"WABA ID (Business Account ID)",children:Ve.jsxDEV(L,{placeholder:"(deixe em branco para usar o configurado acima)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1296,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1295,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"override_callback_uri",label:"Override Callback URL",children:Ve.jsxDEV(L,{placeholder:vt||"https://..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1299,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1298,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"verify_token",label:"Verify Token (override)",children:Ve.jsxDEV(L.Password,{placeholder:"use o token definido no override"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1302,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1301,columnNumber:31},this),Ve.jsxDEV(z,{wrap:!0,children:[Ve.jsxDEV(J,{onClick:()=>yt(!0),loading:ct,children:"Aplicar no Phone"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1306,columnNumber:33},this),Ve.jsxDEV(J,{onClick:()=>yt(!1),loading:ct,children:"Remover do Phone"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1307,columnNumber:33},this),Ve.jsxDEV(J,{onClick:()=>Ct(!0),loading:ct,children:"Aplicar no WABA"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1308,columnNumber:33},this),Ve.jsxDEV(J,{onClick:()=>Ct(!1),loading:ct,children:"Remover do WABA"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1309,columnNumber:33},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1305,columnNumber:31},this),Ve.jsxDEV(W,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1312,columnNumber:31},this),Ve.jsxDEV(z,{wrap:!0,children:[Ve.jsxDEV(J,{onClick:async()=>{try{mt(!0);const e=n.getFieldsValue(),t=c.getFieldsValue(),a=String(t.phone_number_id||e.phone_number_id||"").trim(),s=await Nt.getMetaWebhookOverrideStatus({phone_number_id:a||void 0});dt(()=>{try{return JSON.stringify(s,null,2)}catch{return String(s)}}),H.success("Status do webhook carregado")}catch(e){H.error(e?.response?.data?.detail||"Erro ao consultar status do webhook")}finally{mt(!1)}},loading:ct,children:"Consultar status (Phone)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1314,columnNumber:33},this),Ve.jsxDEV(J,{onClick:async()=>{try{mt(!0);const e=n.getFieldsValue(),t=c.getFieldsValue(),a=String(t.waba_id||e.business_account_id||"").trim(),s=await Nt.getMetaWebhookSubscribedApps({waba_id:a||void 0});ht(()=>{try{return JSON.stringify(s,null,2)}catch{return String(s)}}),H.success("Subscribed apps carregado")}catch(e){H.error(e?.response?.data?.detail||"Erro ao consultar subscribed_apps")}finally{mt(!1)}},loading:ct,children:"Consultar subscribed_apps (WABA)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1315,columnNumber:33},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1313,columnNumber:31},this),Ve.jsxDEV(W,{orientation:"left",children:"Resposta (Status)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1318,columnNumber:31},this),Ve.jsxDEV(L.TextArea,{value:ut,readOnly:!0,autoSize:{minRows:6,maxRows:16}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1319,columnNumber:31},this),Ve.jsxDEV(W,{orientation:"left",children:"Resposta (Subscribed Apps)"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1320,columnNumber:31},this),Ve.jsxDEV(L.TextArea,{value:pt,readOnly:!0,autoSize:{minRows:6,maxRows:16}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1321,columnNumber:31},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1282,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1281,columnNumber:27},this),Ve.jsxDEV(K,{title:"Notas",children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},children:[Ve.jsxDEV("div",{children:"O callback do webhook é validado via Verify Token e pode validar assinatura via App Secret."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1326,columnNumber:31},this),Ve.jsxDEV("div",{children:"Use o Access Token Tool para gerar tokens de teste e validar permissões."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1327,columnNumber:31},this),Ve.jsxDEV("div",{children:"O endpoint de webhook precisa estar em HTTPS com certificado válido (sem self-signed) para produção."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1328,columnNumber:31},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1325,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1324,columnNumber:27},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1280,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1214,columnNumber:23},this)},{key:"test",label:"TESTE",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"Enviar mensagem de teste",children:Ve.jsxDEV(U,{form:l,layout:"vertical",initialValues:{text_position:"bottom",body:"Teste CAPTAR"},children:[Ve.jsxDEV(U.Item,{name:"to",label:"Para (to)",rules:[{required:!0,message:"Informe o destino"}],children:Ve.jsxDEV(L,{placeholder:"+5511999999999"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1344,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1343,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"body",label:"Mensagem",children:Ve.jsxDEV(L.TextArea,{rows:4,placeholder:"Digite a mensagem"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1347,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1346,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"text_position",label:"Posição do texto",children:Ve.jsxDEV(te,{options:[{label:"Acima da mídia",value:"top"},{label:"Abaixo da mídia",value:"bottom"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1350,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1349,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"attachments",label:"Anexo (upload)",valuePropName:"fileList",getValueFromEvent:e=>e?.fileList||[],children:Ve.jsxDEV(fe,{multiple:!1,customRequest:async e=>{const{file:t,onSuccess:a,onError:s}=e||{};try{const e=await Nt.uploadMetaWhatsAppMedia(t);try{t.response=e,t.meta_media_id=e.id}catch{}a&&a(e,t)}catch(i){s&&s(i)}},accept:".png,.jpg,.jpeg,.gif,.webp",children:Ve.jsxDEV(J,{children:"Selecionar imagem"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1363,columnNumber:35},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1358,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1352,columnNumber:31},this),Ve.jsxDEV(U.Item,{name:"media_url",label:"Media URL (opcional)",children:Ve.jsxDEV(L,{placeholder:"https://..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1367,columnNumber:33},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1366,columnNumber:31},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=l.getFieldsValue(),t=String(e.to||"").trim(),a=String(e.body||"").trim(),s="top"===String(e.text_position||"").trim().toLowerCase()?"top":"bottom",i=String(e.media_url||"").trim(),r=Array.isArray(e.attachments)?e.attachments:[],o=String(r[0]?.response?.id||r[0]?.meta_media_id||"").trim();if(!t)return void H.error("Informe o destino");if(!a&&!o&&!i)return void H.error("Informe uma mensagem ou um anexo");const n=await Nt.sendMetaWhatsApp({to:t,body:a||void 0,media_id:o||void 0,media_url:!o&&i?i:void 0,media_type:o||i?"image":void 0,text_position:s}),c=String(n?.message_id||(n?.message_ids||[])[0]||"").trim();H.success(c?`Mensagem enviada (${c})`:"Mensagem enviada")}catch(e){H.error(e?.response?.data?.detail||"Erro ao enviar mensagem")}},children:"Enviar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1369,columnNumber:31},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1342,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1341,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1340,columnNumber:25},this),Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"Testes rápidos",children:Ve.jsxDEV(z,{wrap:!0,children:[Ve.jsxDEV(J,{onClick:St,children:"Testar Conexão"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1376,columnNumber:31},this),Ve.jsxDEV(B,{color:"CONECTADO"===Le?"green":"TESTANDO"===Le?"blue":"default",children:["META: ",Le]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1377,columnNumber:31},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1375,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1374,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1373,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1339,columnNumber:23},this)},{key:"stats",label:"ESTATÍSTICAS",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:8,children:Ve.jsxDEV(K,{title:"Filtros",children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},children:[Ve.jsxDEV("div",{children:[Ve.jsxDEV("div",{style:{marginBottom:6},children:"Período"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1393,columnNumber:33},this),Ve.jsxDEV(te,{style:{width:"100%"},value:tt,options:[{label:"7 dias",value:7},{label:"14 dias",value:14},{label:"30 dias",value:30},{label:"60 dias",value:60},{label:"90 dias",value:90}],onChange:async e=>{at(e),await jt(e)}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1394,columnNumber:33},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1392,columnNumber:31},this),Ve.jsxDEV("div",{children:[Ve.jsxDEV("div",{style:{marginBottom:6},children:"Métrica"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1408,columnNumber:33},this),Ve.jsxDEV(te,{style:{width:"100%"},value:nt,options:[{label:"Total",value:"total"},{label:"Enviados",value:"sent"},{label:"Entregues",value:"delivered"},{label:"Visualizados",value:"read"},{label:"Falhas",value:"failed"}],onChange:e=>lt(e)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1409,columnNumber:33},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1407,columnNumber:31},this),Ve.jsxDEV(J,{onClick:()=>jt(),loading:st,children:"Atualizar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1422,columnNumber:31},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1391,columnNumber:29},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1390,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1389,columnNumber:25},this),Ve.jsxDEV(pe,{xs:24,xl:16,children:Ve.jsxDEV(K,{title:"Mensagens por dia",loading:st,children:[Array.isArray(rt)&&rt.length?Ve.jsxDEV(fa,{data:rt,type:"bar",xField:"date",yField:nt},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1429,columnNumber:31},this):Ve.jsxDEV("div",{children:"Nenhum dado no período"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1431,columnNumber:31},this),Ve.jsxDEV(W,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1433,columnNumber:29},this),Ve.jsxDEV(se,{size:"small",bordered:!0,pagination:!1,dataSource:rt||[],rowKey:e=>String(e?.date||""),columns:[{title:"Dia",dataIndex:"date"},{title:"Enviados",dataIndex:"sent"},{title:"Entregues",dataIndex:"delivered"},{title:"Visualizados",dataIndex:"read"},{title:"Falhas",dataIndex:"failed"},{title:"Total",dataIndex:"total"}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1434,columnNumber:29},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1427,columnNumber:27},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1426,columnNumber:25},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1388,columnNumber:23},this)}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1204,columnNumber:15},this)},{key:"ycloud",label:"YCLOUD",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"YCloud - Configuração",children:Ve.jsxDEV(U,{form:m,layout:"vertical",initialValues:{enabled:!0},children:[Ve.jsxDEV(U.Item,{name:"base_url",label:"Base URL (opcional)",children:Ve.jsxDEV(L,{placeholder:"https://..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1467,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1466,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"phone_number_id",label:"Phone Number ID (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1470,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1469,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"business_account_id",label:"WABA (Business Account ID) (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1473,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1472,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Credenciais"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1475,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"API Key (mascarada)",children:Ve.jsxDEV(L,{value:Ne||(ue?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1477,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1476,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"api_key",label:"Nova API Key (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:ue?"deixe em branco para manter a atual":"cole a API key"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1480,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1479,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"Webhook Verify Token (mascarado)",children:Ve.jsxDEV(L,{value:Ee||(Ae?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1483,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1482,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"webhook_verify_token",label:"Novo Webhook Verify Token (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:Ae?"deixe em branco para manter o atual":"cole o verify token"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1486,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1485,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Status"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1488,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"enabled",valuePropName:"checked",children:Ve.jsxDEV(oe,{checkedChildren:"Ativo",unCheckedChildren:"Inativo"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1490,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1489,columnNumber:23},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=m.getFieldsValue();await Nt.saveYCloudConfig({base_url:String(e.base_url||"").trim()||void 0,api_key:String(e.api_key||"").trim()||void 0,phone_number_id:String(e.phone_number_id||"").trim()||void 0,business_account_id:String(e.business_account_id||"").trim()||void 0,webhook_verify_token:String(e.webhook_verify_token||"").trim()||void 0,enabled:!1!==e.enabled}),H.success("Configuração YCloud salva");try{const e=await Nt.getYCloudConfig();he(!!e.has_api_key),be(e.api_key_masked||""),xe(!!e.has_webhook_verify_token),ve(e.webhook_verify_token_masked||"")}catch{}m.setFieldsValue({api_key:"",webhook_verify_token:""})}catch(e){H.error(e?.response?.data?.detail||"Erro ao salvar configuração YCloud")}},children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1492,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1465,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1464,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1463,columnNumber:17},this),Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"Notas",children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},children:[Ve.jsxDEV("div",{children:"Use este formulário para guardar credenciais de um provedor WhatsApp Cloud."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1499,columnNumber:23},this),Ve.jsxDEV("div",{children:"O envio ainda depende do provedor selecionado em Campanhas."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1500,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1498,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1497,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1496,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1462,columnNumber:15},this)},{key:"dialog360",label:"360DIALOG",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"360dialog - Configuração",children:Ve.jsxDEV(U,{form:u,layout:"vertical",initialValues:{enabled:!0},children:[Ve.jsxDEV(U.Item,{name:"base_url",label:"Base URL (opcional)",children:Ve.jsxDEV(L,{placeholder:"https://..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1516,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1515,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"phone_number_id",label:"Phone Number ID (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1519,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1518,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"business_account_id",label:"WABA (Business Account ID) (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1522,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1521,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Credenciais"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1524,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"API Key (mascarada)",children:Ve.jsxDEV(L,{value:Pe||(Te?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1526,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1525,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"api_key",label:"Nova API Key (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:Te?"deixe em branco para manter a atual":"cole a API key"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1529,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1528,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"Webhook Verify Token (mascarado)",children:Ve.jsxDEV(L,{value:Ce||(Re?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1532,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1531,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"webhook_verify_token",label:"Novo Webhook Verify Token (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:Re?"deixe em branco para manter o atual":"cole o verify token"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1535,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1534,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Status"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1537,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"enabled",valuePropName:"checked",children:Ve.jsxDEV(oe,{checkedChildren:"Ativo",unCheckedChildren:"Inativo"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1539,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1538,columnNumber:23},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=u.getFieldsValue();await Nt.saveDialog360Config({base_url:String(e.base_url||"").trim()||void 0,api_key:String(e.api_key||"").trim()||void 0,phone_number_id:String(e.phone_number_id||"").trim()||void 0,business_account_id:String(e.business_account_id||"").trim()||void 0,webhook_verify_token:String(e.webhook_verify_token||"").trim()||void 0,enabled:!1!==e.enabled}),H.success("Configuração 360dialog salva");try{const e=await Nt.getDialog360Config();Oe(!!e.has_api_key),De(e.api_key_masked||""),Se(!!e.has_webhook_verify_token),ye(e.webhook_verify_token_masked||"")}catch{}u.setFieldsValue({api_key:"",webhook_verify_token:""})}catch(e){H.error(e?.response?.data?.detail||"Erro ao salvar configuração 360dialog")}},children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1541,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1514,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1513,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1512,columnNumber:17},this),Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"Notas",children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},children:[Ve.jsxDEV("div",{children:"360dialog é um BSP para WhatsApp Business API."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1548,columnNumber:23},this),Ve.jsxDEV("div",{children:"Guarde aqui as credenciais para uso futuro no backend."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1549,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1547,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1546,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1545,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1511,columnNumber:15},this)},{key:"wanotifier",label:"WANOTIFIER",children:Ve.jsxDEV(de,{gutter:[16,16],children:[Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"WANotifier - Configuração",children:Ve.jsxDEV(U,{form:d,layout:"vertical",initialValues:{enabled:!0},children:[Ve.jsxDEV(U.Item,{name:"base_url",label:"Base URL (opcional)",children:Ve.jsxDEV(L,{placeholder:"https://..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1565,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1564,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"phone_number_id",label:"Phone Number ID (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1568,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1567,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"business_account_id",label:"WABA (Business Account ID) (opcional)",children:Ve.jsxDEV(L,{placeholder:"Ex: 123456789012345"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1571,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1570,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Credenciais"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1573,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"API Key (mascarada)",children:Ve.jsxDEV(L,{value:Ie||(je?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1575,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1574,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"api_key",label:"Nova API Key (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:je?"deixe em branco para manter a atual":"cole a API key"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1578,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1577,columnNumber:23},this),Ve.jsxDEV(U.Item,{label:"Webhook Verify Token (mascarado)",children:Ve.jsxDEV(L,{value:Me||(ke?"********":""),readOnly:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1581,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1580,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"webhook_verify_token",label:"Novo Webhook Verify Token (opcional)",children:Ve.jsxDEV(L.Password,{placeholder:ke?"deixe em branco para manter o atual":"cole o verify token"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1584,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1583,columnNumber:23},this),Ve.jsxDEV(W,{orientation:"left",children:"Status"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1586,columnNumber:23},this),Ve.jsxDEV(U.Item,{name:"enabled",valuePropName:"checked",children:Ve.jsxDEV(oe,{checkedChildren:"Ativo",unCheckedChildren:"Inativo"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1588,columnNumber:25},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1587,columnNumber:23},this),Ve.jsxDEV(J,{type:"primary",onClick:async()=>{try{const e=d.getFieldsValue();await Nt.saveWANotifierConfig({base_url:String(e.base_url||"").trim()||void 0,api_key:String(e.api_key||"").trim()||void 0,phone_number_id:String(e.phone_number_id||"").trim()||void 0,business_account_id:String(e.business_account_id||"").trim()||void 0,webhook_verify_token:String(e.webhook_verify_token||"").trim()||void 0,enabled:!1!==e.enabled}),H.success("Configuração WANotifier salva");try{const e=await Nt.getWANotifierConfig();we(!!e.has_api_key),Je(e.api_key_masked||""),_e(!!e.has_webhook_verify_token),Fe(e.webhook_verify_token_masked||"")}catch{}d.setFieldsValue({api_key:"",webhook_verify_token:""})}catch(e){H.error(e?.response?.data?.detail||"Erro ao salvar configuração WANotifier")}},children:"Salvar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1590,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1563,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1562,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1561,columnNumber:17},this),Ve.jsxDEV(pe,{xs:24,xl:12,children:Ve.jsxDEV(K,{title:"Notas",children:Ve.jsxDEV(z,{direction:"vertical",style:{width:"100%"},children:[Ve.jsxDEV("div",{children:"WANotifier pode ser usado como camada de automação/conectores."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1597,columnNumber:23},this),Ve.jsxDEV("div",{children:"Configure aqui as credenciais para uso nas automações."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1598,columnNumber:23},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1596,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1595,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1594,columnNumber:17},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1560,columnNumber:15},this)},{key:"n8n",label:"N8N",children:Ve.jsxDEV(de,{gutter:[16,16],children:Ve.jsxDEV(pe,{span:24,children:Ve.jsxDEV(K,{title:"N8N",children:Ve.jsxDEV("div",{children:"Em breve."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1612,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1611,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1610,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1609,columnNumber:15},this)},{key:"chatwoot",label:"CHATWOOT",children:Ve.jsxDEV(de,{gutter:[16,16],children:Ve.jsxDEV(pe,{span:24,children:Ve.jsxDEV(K,{title:"Chatwoot",children:Ve.jsxDEV("div",{children:"Em breve."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1625,columnNumber:21},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1624,columnNumber:19},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1623,columnNumber:17},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:1622,columnNumber:15},this)}]},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:766,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Integracoes.tsx",lineNumber:764,columnNumber:5},this)}function xa({open:e,initial:t,onCancel:a,onSaved:s}){const[i]=U.useForm(),o=Ue(),{message:n}=Y.useApp(),[l,c]=r.useState([]),[m,u]=r.useState([]);r.useEffect(()=>{t?i.setFieldsValue(t):i.resetFields()},[t,e]),r.useEffect(()=>{(async()=>{try{const e=await o.listCandidatos();c(e.rows||[])}catch{}try{const e=await o.listEleicoes();u(e.rows||[])}catch{}})()},[e]);return Ve.jsxDEV(F,{title:t?"Editar Meta":"Nova Meta",open:e,onCancel:a,onOk:async()=>{try{const e=await i.validateFields(),a=e.DataInicio,r=e.DataFim;if(a&&r&&a.isAfter(r))return void n.error("Data Início deve ser menor ou igual à Data Fim");const l={IdCandidato:e.IdCandidato,Numero:e.Numero,Partido:e.Partido,Cargo:e.Cargo,IdEleicao:e.IdEleicao,DataInicio:e.DataInicio?.format("YYYY-MM-DD HH:mm:ss"),DataFim:e.DataFim?.format("YYYY-MM-DD HH:mm:ss"),MetaVotos:e.MetaVotos,MetaDisparos:e.MetaDisparos,MetaAprovacao:e.MetaAprovacao,MetaRejeicao:e.MetaRejeicao,Ativo:!0};t&&t.IdMeta?await o.updateMeta(Number(t.IdMeta),l):await o.createMeta(l),n.success("Meta salva"),s()}catch(e){n.error(e?.response?.data?.detail||"Erro ao salvar meta")}},okText:"Salvar",children:Ve.jsxDEV(U,{layout:"vertical",form:i,children:[Ve.jsxDEV(z,{style:{marginBottom:8},children:Ve.jsxDEV(J,{onClick:()=>i.resetFields(),children:"Limpar"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:79,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:78,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"IdCandidato",label:"Candidato",rules:[{required:!0}],children:Ve.jsxDEV(te,{placeholder:"Selecione",options:(l||[]).map(e=>({label:String(e.Nome||e.nome),value:Number(e.IdCandidato||e.idCandidato),extra:e})),onChange:(e,t)=>{const a=t?.extra||{};i.setFieldsValue({Numero:a.Numero||a.numero||void 0,Partido:a.Partido||a.partido||void 0,Cargo:a.Cargo||a.cargo||void 0})}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:82,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:81,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"IdEleicao",label:"Eleição",rules:[{required:!0}],children:Ve.jsxDEV(te,{placeholder:"Selecione",options:(m||[]).map(e=>({label:String(e.Nome||e.nome),value:Number(e.IdEleicao||e.idEleicao)}))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:89,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:88,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"Numero",label:"Número",children:Ve.jsxDEV(ce,{style:{width:"100%"},min:0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:91,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"Partido",label:"Partido",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:94,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"Cargo",label:"Cargo",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:97,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"DataInicio",label:"Data Início",children:Ve.jsxDEV(Z,{showTime:!0,style:{width:"100%"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:101,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:100,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"DataFim",label:"Data Fim",rules:[{validator:(e,t)=>{const a=i.getFieldValue("DataInicio");return a&&t&&a.isAfter(t)?Promise.reject(new Error("Data Início deve ser menor ou igual à Data Fim")):Promise.resolve()}}],children:Ve.jsxDEV(Z,{showTime:!0,style:{width:"100%"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:108,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:103,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"MetaVotos",label:"Meta Votos",children:Ve.jsxDEV(ce,{style:{width:"100%"},min:0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:111,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:110,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"MetaDisparos",label:"Disparos",children:Ve.jsxDEV(ce,{style:{width:"100%"},min:0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:114,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:113,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"MetaAprovacao",label:"Aprovação",children:Ve.jsxDEV(ce,{style:{width:"100%"},min:0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:117,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:116,columnNumber:9},this),Ve.jsxDEV(U.Item,{name:"MetaRejeicao",label:"Rejeição",children:Ve.jsxDEV(ce,{style:{width:"100%"},min:0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:119,columnNumber:9},this),Ve.jsxDEV(U.Item,{label:"Imagem (opcional)",children:Ve.jsxDEV(fe,{beforeUpload:async e=>String(e.type||"").startsWith("image/")?e.size>2097152&&(n.error("Imagem acima de 2MB"),fe.LIST_IGNORE):(n.error("Apenas imagens são permitidas"),fe.LIST_IGNORE),maxCount:1,accept:"image/*",children:Ve.jsxDEV(J,{icon:Ve.jsxDEV(Ae,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:124,columnNumber:27},this),children:"Selecionar imagem"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:124,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:77,columnNumber:7},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/components/MetaModal.tsx",lineNumber:76,columnNumber:5},this)}function Ea(){const e=Ue(),{user:t}=Ct(),{message:a}=Y.useApp(),[s,i]=r.useState([]),[o,n]=r.useState(!1),[l,c]=r.useState(!1),[m,u]=r.useState(null),[d,p]=r.useState([]),[h,N]=r.useState({}),[b,g]=r.useState([]),f=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M3 4h6v16H3V4zm12 0h6v16h-6V4z",fill:"currentColor"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:21,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:21,columnNumber:5},this),A=()=>Ve.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:Ve.jsxDEV("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:24,columnNumber:65},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:24,columnNumber:5},this),x=async()=>{try{n(!0);const a=(await e.listMetas()).rows||[];let s=[],r=[];try{s=(await e.listCandidatos()).rows||[]}catch{}try{r=(await e.listEleicoes()).rows||[]}catch{}const o=new Map;for(const e of s){const t=Number(e.IdCandidato??e.idCandidato??e.Id??e.ID),a=String(e.Nome??e.nome??"");isNaN(t)||o.set(t,a)}const l=new Map;for(const e of r){const t=Number(e.IdEleicao??e.idEleicao??e.Id??e.ID),a=String(e.Nome??e.nome??"");isNaN(t)||l.set(t,a)}const c=a.map(e=>{const t=Number(e.IdCandidato??e.idCandidato),a=Number(e.IdEleicao??e.idEleicao),s=o.get(t)||(e.CandidatoNome??""),i=l.get(a)||(e.EleicaoNome??""),r=Number(e.VotosAtual??e.votosAtual??0),n=Number(e.MetaVotos??0),c=n>0?Math.min(100,Math.round(r/n*100)):0;return{...e,Candidato:s,Eleicao:i,ProgressoVotos:c}});i(c);const m=["IdMeta","Candidato","Numero","Partido","Cargo","Eleicao","DataInicio","DataFim","MetaVotos","ProgressoVotos","MetaDisparos","MetaAprovacao","MetaRejeicao","TenantLayer"],u=e=>{const t=c.find(t=>void 0!==t[e]&&null!==t[e]),a=typeof(t?t[e]:"");return"number"===a?"int":"boolean"===a?"bool":String(e).toLowerCase().includes("data")?"timestamp":"text"},d=Array.from(new Set(c.flatMap(e=>Object.keys(e)))),h={};for(const e of d)h[e]={name:e,type:u(e),nullable:!0};const b=m.filter(e=>h[e]).map(e=>h[e]),f=d.filter(e=>!m.includes(e)).map(e=>h[e]);p([...b,...f]);const A={};for(const e of m)h[e]&&(A[e]=!0);for(const e of f)A[e.name]=!1;const x=`metas.columns.visible.${t?.usuario||"default"}`,E=localStorage.getItem(x);N(E?JSON.parse(E):A);const v=`metas.columns.order.${t?.usuario||"default"}`,T=localStorage.getItem(v);g(T?JSON.parse(T):m.filter(e=>h[e]))}catch(s){a.error(s?.response?.data?.detail||"Erro ao carregar metas")}finally{n(!1)}};r.useEffect(()=>{x()},[]);const E=d.map(e=>{const a=e.name,i=Array.from(new Set((s||[]).map(e=>e[a]).filter(e=>null!=e))).slice(0,20).map(e=>({text:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase(),value:Array.isArray(e)?String(e.join(", ")).toUpperCase():String(e).toUpperCase()})),r=(e.type||"").toLowerCase(),o=new Set(["IdMeta","Numero","MetaVotos","ProgressoVotos","MetaDisparos","MetaAprovacao","MetaRejeicao","DataInicio","DataFim","TenantLayer"]),n={title:{IdMeta:"ID",Candidato:"CANDIDATO",Numero:"NÚMERO",Partido:"PARTIDO",Cargo:"CARGO",Eleicao:"ELEIÇÃO",DataInicio:"DATA INÍCIO",DataFim:"DATA FIM",MetaVotos:"META VOTOS",ProgressoVotos:"PROGRESSO (%)",MetaDisparos:"DISPAROS",MetaAprovacao:"APROVAÇÃO",MetaRejeicao:"REJEIÇÃO",TenantLayer:"TENANT LAYER"}[a]||a.toUpperCase(),dataIndex:a,align:o.has(a)?"center":"left",filters:i,onFilter:(e,t)=>String(t[a]).toUpperCase()===String(e).toUpperCase(),sorter:(e,t)=>{const s=e[a],i=t[a];if(null==s)return-1;if(null==i)return 1;if(Array.isArray(s)||Array.isArray(i)){const e=Array.isArray(s)?s.join(", "):String(s),t=Array.isArray(i)?i.join(", "):String(i);return e.toUpperCase().localeCompare(t.toUpperCase())}return r.includes("int")||r.includes("numeric")?Number(s)-Number(i):r.includes("date")||r.includes("timestamp")?new Date(s).getTime()-new Date(i).getTime():String(s).toUpperCase().localeCompare(String(i).toUpperCase())},sortDirections:["ascend","descend"],render:e=>{if("boolean"==typeof e)return e?"SIM":"NÃO";if(null==e)return"";if(Array.isArray(e))return e.map(e=>String(e).toUpperCase()).join(" | ");if(r.includes("date")||r.includes("timestamp")){const t=new Date(e);if(!isNaN(t.getTime()))return t.toLocaleString("pt-BR",{hour12:!1})}return"ProgressoVotos"===a?`${Number(e||0)}%`:String(e).toUpperCase()},onHeaderCell:()=>({draggable:!0,onDragStart:e=>{e.dataTransfer.setData("text/plain",a)},onDragOver:e=>{e.preventDefault()},onDrop:e=>{const s=e.dataTransfer.getData("text/plain"),i=a;s&&s!==i&&g(e=>{const a=e.filter(e=>e!==s),r=a.indexOf(i);if(-1===r)return e;a.splice(r,0,s);const o=`metas.columns.order.${t?.usuario||"default"}`;return localStorage.setItem(o,JSON.stringify(a)),a})}})};return"IdMeta"===a&&(n.defaultSortOrder="ascend"),n}),v={title:"AÇÕES",dataIndex:"__actions__",render:(t,s)=>Ve.jsxDEV(z,{children:[Ve.jsxDEV(J,{type:"text",title:"EDITAR",onClick:()=>{u(s),c(!0)},children:"EDITAR"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:164,columnNumber:9},this),Ve.jsxDEV(J,{type:"text",danger:!0,title:"DELETAR",onClick:async()=>{try{if(!s.IdMeta)return void a.info("REGISTRO SEM ID");await e.deleteMeta(s.IdMeta),a.success("META DELETADA"),await x()}catch(t){a.error(t?.response?.data?.detail||"ERRO AO DELETAR META")}}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:165,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:163,columnNumber:7},this)},O=(b.length?b:E.map(e=>e.dataIndex)).map(e=>E.find(t=>t.dataIndex===e)).filter(Boolean).filter(e=>h[e.dataIndex]).concat([v]),P=Ve.jsxDEV("div",{style:{padding:12},children:d.map(e=>Ve.jsxDEV("div",{style:{marginBottom:6},children:Ve.jsxDEV(ae,{checked:!!h[e.name],onChange:a=>{const s={...h,[e.name]:a.target.checked};N(s);const i=`metas.columns.visible.${t?.usuario||"default"}`;localStorage.setItem(i,JSON.stringify(s))},children:e.name.toUpperCase()},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:190,columnNumber:11},this)},e.name,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:189,columnNumber:9},this))},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:187,columnNumber:5},this);return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:12},children:Ve.jsxDEV(z,{children:[Ve.jsxDEV(I,{placement:"bottomRight",trigger:["click"],menu:{items:[]},popupRender:()=>P,children:Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(f,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:209,columnNumber:42},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},title:"VISUALIZAÇÃO DE COLUNAS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:209,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:208,columnNumber:11},this),Ve.jsxDEV(J,{shape:"circle",icon:Ve.jsxDEV(A,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:211,columnNumber:40},this),style:{background:"#FFD700",borderColor:"#FFD700",color:"#000"},onClick:()=>{u(null),c(!0)},title:"NOVA META"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:211,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:207,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:206,columnNumber:7},this),Ve.jsxDEV("style",{children:"\n        .metas-table .ant-table-thead > tr > th{ background:#FFD700; color:#000; font-family: 'Arimo', Arial, sans-serif; }\n        .metas-table .ant-table-thead > tr > th .ant-table-column-title{ display:flex; justify-content:center; align-items:center; text-align:center; }\n        .metas-table .ant-table-tbody > tr > td{ font-family: 'Roboto Condensed', Arial, sans-serif; padding:2px 6px; line-height:0.95; height:22px; }\n      "},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:214,columnNumber:7},this),Ve.jsxDEV(se,{loading:o,dataSource:s,columns:O,rowKey:e=>e.IdMeta??e.id??JSON.stringify(e),bordered:!0,size:"small",className:"ant-table-striped metas-table",scroll:{y:520},locale:{emptyText:"Nenhuma meta cadastrada"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:219,columnNumber:7},this),Ve.jsxDEV(xa,{open:l,initial:m||void 0,onCancel:()=>c(!1),onSaved:async()=>{c(!1),await x()}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:230,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Metas.tsx",lineNumber:205,columnNumber:5},this)}function va(){const e=Ue(),{message:t}=Y.useApp(),[a,s]=r.useState(!1),[i,o]=r.useState([]),[n,l]=r.useState(!1),[c]=U.useForm(),m=async()=>{try{s(!0);const t=await e.listEleicoes();o(t.rows||[])}catch{t.error("Erro ao carregar eleições")}finally{s(!1)}};r.useEffect(()=>{m()},[]);return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[Ve.jsxDEV("h3",{style:{margin:0},children:"ELEIÇÕES"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:43,columnNumber:9},this),Ve.jsxDEV(z,{children:Ve.jsxDEV(J,{type:"primary",onClick:()=>l(!0),children:"NOVA ELEIÇÃO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:45,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:44,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:42,columnNumber:7},this),Ve.jsxDEV(K,{children:Ve.jsxDEV(se,{loading:a,dataSource:i,columns:[{title:"Id",dataIndex:"IdEleicao",key:"IdEleicao",width:80},{title:"Nome",dataIndex:"Nome",key:"Nome"},{title:"Ano",dataIndex:"Ano",key:"Ano",width:100},{title:"Turno",dataIndex:"Turno",key:"Turno",width:100},{title:"Cargo",dataIndex:"Cargo",key:"Cargo",width:160},{title:"Início",dataIndex:"DataInicio",key:"DataInicio",width:160},{title:"Fim",dataIndex:"DataFim",key:"DataFim",width:160},{title:"Ativo",dataIndex:"Ativo",key:"Ativo",width:100}],rowKey:e=>e.IdEleicao??JSON.stringify(e),pagination:{pageSize:10},scroll:{y:480},locale:{emptyText:"Nenhuma eleição"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:49,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:48,columnNumber:7},this),Ve.jsxDEV(F,{title:"Nova Eleição",open:n,onCancel:()=>l(!1),onOk:async()=>{try{const a=await c.validateFields(),s={...a,Ativo:!!a.Ativo},i=await e.createEleicao(s);i&&i.id&&(t.success("Eleição criada"),l(!1),c.resetFields(),m())}catch{}},okText:"Salvar",children:Ve.jsxDEV(U,{layout:"vertical",form:c,children:[Ve.jsxDEV(U.Item,{name:"Nome",label:"Nome",rules:[{required:!0}],children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:62,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:61,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"Ano",label:"Ano",children:Ve.jsxDEV(L,{type:"number"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:65,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:64,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"Turno",label:"Turno",children:Ve.jsxDEV(L,{type:"number"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:67,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"Cargo",label:"Cargo",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:70,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"DataInicio",label:"Data Início",children:Ve.jsxDEV(L,{placeholder:"YYYY-MM-DD HH:mm:ss"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:73,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"DataFim",label:"Data Fim",children:Ve.jsxDEV(L,{placeholder:"YYYY-MM-DD HH:mm:ss"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:77,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:76,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"Ativo",label:"Ativo",valuePropName:"checked",children:Ve.jsxDEV(oe,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:80,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:79,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:60,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Eleicoes.tsx",lineNumber:41,columnNumber:5},this)}function Ta(){const e=Ue(),{message:t}=Y.useApp(),[a,s]=r.useState(!1),[i,o]=r.useState([]),[n,l]=r.useState(!1),[c]=U.useForm(),[m,u]=r.useState(""),d=async()=>{try{s(!0);const t=await e.listCandidatos();o(t.rows||[])}catch{t.error("Erro ao carregar candidatos")}finally{s(!1)}};r.useEffect(()=>{d()},[]);const p=[{title:"Id",dataIndex:"IdCandidato",key:"IdCandidato",width:80},{title:"Nome",dataIndex:"Nome",key:"Nome"},{title:"Numero",dataIndex:"Numero",key:"Numero",width:120},{title:"Partido",dataIndex:"Partido",key:"Partido",width:160},{title:"Cargo",dataIndex:"Cargo",key:"Cargo",width:160},{title:"Foto",dataIndex:"Foto",key:"Foto",render:e=>e?Ve.jsxDEV(xe,{src:e,width:48,fallback:""},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:35,columnNumber:78},this):Ve.jsxDEV("span",{style:{color:"#999"},children:"Sem foto"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:35,columnNumber:121},this),width:120}];return Ve.jsxDEV(T.div,{className:"page-container",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3},children:[Ve.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[Ve.jsxDEV("h3",{style:{margin:0},children:"CANDIDATOS"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:71,columnNumber:9},this),Ve.jsxDEV(z,{children:Ve.jsxDEV(J,{type:"primary",onClick:()=>l(!0),children:"NOVO CANDIDATO"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:70,columnNumber:7},this),Ve.jsxDEV(K,{children:Ve.jsxDEV(se,{loading:a,dataSource:i,columns:p,rowKey:e=>e.IdCandidato??JSON.stringify(e),pagination:{pageSize:10},scroll:{y:480},locale:{emptyText:"Nenhum candidato"}},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:76,columnNumber:7},this),Ve.jsxDEV(F,{title:"Novo Candidato",open:n,onCancel:()=>l(!1),onOk:async()=>{try{const a={...await c.validateFields(),Foto:m},s=await e.createCandidato(a);s&&s.id&&(t.success("Candidato criado"),l(!1),c.resetFields(),u(""),d())}catch{}},okText:"Salvar",children:Ve.jsxDEV(U,{layout:"vertical",form:c,children:[Ve.jsxDEV(U.Item,{name:"Nome",label:"Nome",rules:[{required:!0}],children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:90,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:89,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"Numero",label:"Número",children:Ve.jsxDEV(L,{type:"number"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:93,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:92,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"Partido",label:"Partido",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:96,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:95,columnNumber:11},this),Ve.jsxDEV(U.Item,{name:"Cargo",label:"Cargo",children:Ve.jsxDEV(L,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:98,columnNumber:11},this),Ve.jsxDEV(U.Item,{label:"Foto",children:[Ve.jsxDEV(fe,{beforeUpload:async e=>{if(!String(e.type||"").startsWith("image/"))return t.error("Apenas imagens são permitidas"),fe.LIST_IGNORE;if(e.size>2097152)return t.error("Imagem acima de 2MB"),fe.LIST_IGNORE;const a=new FileReader;return a.onload=()=>{const e=String(a.result||"");u(e)},a.readAsDataURL(e),!1},maxCount:1,accept:"image/*",children:Ve.jsxDEV(J,{icon:Ve.jsxDEV(Ae,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:103,columnNumber:29},this),children:"Selecionar imagem"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:103,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:102,columnNumber:13},this),m&&Ve.jsxDEV("div",{style:{marginTop:8},children:Ve.jsxDEV(xe,{src:m,width:96},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:105,columnNumber:52},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:105,columnNumber:22},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:88,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:87,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/pages/Candidatos.tsx",lineNumber:69,columnNumber:5},this)}const Oa=r.lazy(()=>Dt(()=>import("./Disparos-DOByWdSz.js"),__vite__mapDeps([0,1,2,3,4]))),Pa=r.lazy(()=>Dt(()=>import("./Campanha-DL7x0joH.js"),__vite__mapDeps([5,1,2,3,4]))),Da=r.lazy(()=>Dt(()=>import("./Relatorios-DQ5HRZNS.js"),__vite__mapDeps([6,1,2,3,4]))),Ra=r.lazy(()=>Dt(()=>import("./Dashboard-BTq1bF1q.js"),__vite__mapDeps([7,1,3,2,4]))),Sa=r.lazy(()=>Dt(()=>import("./Estatisticas-CCpX3-hX.js"),__vite__mapDeps([8,1,2,3,4]))),Ca=r.lazy(()=>Dt(()=>import("./Tenants-wHnNfopt.js"),__vite__mapDeps([9,1,2,3,4]))),{Content:ya}=P;function ja(){const{isAuthenticated:e}=Ct(),t=l(),a=("undefined"!=typeof window?localStorage.getItem("rootTenantSlug"):null)||"captar",s="1"===("undefined"!=typeof window?localStorage.getItem("adminContext"):null)||"captar"===String(a).toLowerCase();return Ve.jsxDEV(O,{mode:"wait",children:Ve.jsxDEV(T.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},children:Ve.jsxDEV(u,{location:t,children:[Ve.jsxDEV(d,{path:"/login",element:Ve.jsxDEV(ia,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:41,columnNumber:41},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:41,columnNumber:11},this),Ve.jsxDEV(d,{path:"/",element:e?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:43,columnNumber:33},this),children:Ve.jsxDEV(Ra,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:44,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:43,columnNumber:13},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:46,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:42,columnNumber:11},this),Ve.jsxDEV(d,{path:"/eleitores",element:e?Ve.jsxDEV(oa,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:47,columnNumber:63},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:47,columnNumber:79},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:47,columnNumber:11},this),Ve.jsxDEV(d,{path:"/ativistas",element:e?Ve.jsxDEV(la,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:48,columnNumber:63},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:48,columnNumber:79},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:48,columnNumber:11},this),Ve.jsxDEV(d,{path:"/usuarios",element:e?Ve.jsxDEV(ma,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:49,columnNumber:62},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:49,columnNumber:76},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:49,columnNumber:11},this),Ve.jsxDEV(d,{path:"/perfil",element:e?Ve.jsxDEV(ha,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:50,columnNumber:60},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:50,columnNumber:73},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:50,columnNumber:11},this),Ve.jsxDEV(d,{path:"/funcoes",element:e?Ve.jsxDEV(ba,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:51,columnNumber:61},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:51,columnNumber:75},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:51,columnNumber:11},this),Ve.jsxDEV(d,{path:"/permissoes",element:e?Ve.jsxDEV(ua,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:52,columnNumber:64},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:52,columnNumber:81},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:52,columnNumber:11},this),Ve.jsxDEV(d,{path:"/estatisticas",element:e?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:54,columnNumber:33},this),children:Ve.jsxDEV(Sa,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:55,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:54,columnNumber:13},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:57,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:53,columnNumber:11},this),Ve.jsxDEV(d,{path:"/consultas",element:e?Ve.jsxDEV(da,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:58,columnNumber:63},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:58,columnNumber:79},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:58,columnNumber:11},this),Ve.jsxDEV(d,{path:"/automacao/disparos",element:e?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:60,columnNumber:33},this),children:Ve.jsxDEV(Oa,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:61,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:60,columnNumber:13},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:63,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:59,columnNumber:11},this),Ve.jsxDEV(d,{path:"/automacao/campanha",element:e?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:65,columnNumber:33},this),children:Ve.jsxDEV(Pa,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:66,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:65,columnNumber:13},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:68,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:64,columnNumber:11},this),Ve.jsxDEV(d,{path:"/automacao/relatorios",element:e?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:70,columnNumber:33},this),children:Ve.jsxDEV(Da,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:71,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:70,columnNumber:13},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:73,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:69,columnNumber:11},this),Ve.jsxDEV(d,{path:"/integracoes",element:e?Ve.jsxDEV(Aa,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:74,columnNumber:65},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:74,columnNumber:83},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:74,columnNumber:11},this),Ve.jsxDEV(d,{path:"/parametros/metas",element:e?Ve.jsxDEV(Ea,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:75,columnNumber:70},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:75,columnNumber:82},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:75,columnNumber:11},this),Ve.jsxDEV(d,{path:"/parametros/tenants",element:e&&s?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:77,columnNumber:33},this),children:Ve.jsxDEV(Ca,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:78,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:77,columnNumber:13},this):Ve.jsxDEV(p,{to:"/"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:76,columnNumber:11},this),Ve.jsxDEV(d,{path:"/parametros/eleicoes",element:e?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:82,columnNumber:33},this),children:Ve.jsxDEV(va,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:83,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:82,columnNumber:13},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:85,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:81,columnNumber:11},this),Ve.jsxDEV(d,{path:"/parametros/candidatos",element:e?Ve.jsxDEV(r.Suspense,{fallback:Ve.jsxDEV("div",{style:{padding:24},children:"Carregando..."},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:87,columnNumber:33},this),children:Ve.jsxDEV(Ta,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:87,columnNumber:13},this):Ve.jsxDEV(p,{to:"/login"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:90,columnNumber:15},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:86,columnNumber:11},this),Ve.jsxDEV(d,{path:"*",element:Ve.jsxDEV(p,{to:"/"},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:91,columnNumber:36},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:40,columnNumber:9},this)},t.pathname,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:39,columnNumber:7},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:38,columnNumber:5},this)}function Va(){const{isAuthenticated:e}=Ct();return Ve.jsxDEV(m,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e&&Ve.jsxDEV(kt,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:102,columnNumber:27},this),Ve.jsxDEV(aa,{richColors:!0},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:103,columnNumber:7},this),Ve.jsxDEV(Y,{children:Ve.jsxDEV(P,{children:Ve.jsxDEV(ya,{className:"app-content",children:Ve.jsxDEV(ja,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:107,columnNumber:13},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:105,columnNumber:9},this)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:104,columnNumber:7},this)]},void 0,!0,{fileName:"D:/PROJETOS/CAPTAR/src/App.tsx",lineNumber:101,columnNumber:5},this)}Ie.createRoot(document.getElementById("root")).render(Ve.jsxDEV(o.StrictMode,{children:Ve.jsxDEV(Ee,{locale:Ot,theme:{algorithm:ve.defaultAlgorithm,token:{colorPrimary:"#667eea",borderRadius:10,fontSize:15,colorBgContainer:"#ffffff"},components:{Table:{headerBg:"#f5f7fa",headerColor:"#1f1f1f",borderRadius:8,rowHoverBg:"#e6f4ff"},Card:{borderRadiusLG:14},Button:{borderRadius:10}}},children:Ve.jsxDEV(Y,{children:Ve.jsxDEV(Me,{children:Ve.jsxDEV(Va,{},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/main.tsx",lineNumber:39,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/main.tsx",lineNumber:38,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/main.tsx",lineNumber:37,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/main.tsx",lineNumber:11,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/PROJETOS/CAPTAR/src/main.tsx",lineNumber:10,columnNumber:3},void 0));export{yt as L,Ct as a,ke as b,Ve as j,It as p,qt as t,Ue as u};
